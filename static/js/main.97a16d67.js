/*! For license information please see main.97a16d67.js.LICENSE.txt */
(function(){var __webpack_modules__={350:function(e){e.exports=function(){return e={418:function(e,t){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={splitValues:!1});var n,i=this;this.headersMap={},e&&("undefined"!=typeof Headers&&e instanceof Headers?r.getHeaderKeys(e).forEach((function(n){r.getHeaderValues(e,n).forEach((function(e){t.splitValues?i.append(n,r.splitHeaderValue(e)):i.append(n,e)}))})):"object"==typeof(n=e)&&"object"==typeof n.headersMap&&"function"==typeof n.forEach?e.forEach((function(e,t){i.append(e,t)})):"undefined"!=typeof Map&&e instanceof Map?e.forEach((function(e,t){i.append(t,e)})):"string"==typeof e?this.appendFromString(e):"object"==typeof e&&Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t];Array.isArray(n)?n.forEach((function(e){i.append(t,e)})):i.append(t,n)})))}return e.prototype.appendFromString=function(e){for(var t=e.split("\r\n"),n=0;n<t.length;n++){var r=t[n],i=r.indexOf(":");if(i>0){var o=r.substring(0,i).trim(),a=r.substring(i+1).trim();this.append(o,a)}}},e.prototype.delete=function(e,t){var n=r.normalizeName(e);if(void 0===t)delete this.headersMap[n];else{var i=this.headersMap[n];if(i){var o=i.indexOf(t);o>=0&&i.splice(o,1),0===i.length&&delete this.headersMap[n]}}},e.prototype.append=function(e,t){var n=this,i=r.normalizeName(e);Array.isArray(this.headersMap[i])||(this.headersMap[i]=[]),Array.isArray(t)?t.forEach((function(e){n.headersMap[i].push(r.normalizeValue(e))})):this.headersMap[i].push(r.normalizeValue(t))},e.prototype.set=function(e,t){var n=r.normalizeName(e);if(Array.isArray(t)){var i=[];t.forEach((function(e){i.push(r.normalizeValue(e))})),this.headersMap[n]=i}else this.headersMap[n]=[r.normalizeValue(t)]},e.prototype.has=function(e,t){var n=this.headersMap[r.normalizeName(e)];if(!Array.isArray(n))return!1;if(void 0!==t){var i=r.normalizeValue(t);return n.indexOf(i)>=0}return!0},e.prototype.get=function(e){var t=this.headersMap[r.normalizeName(e)];return void 0!==t?t.concat():[]},e.prototype.forEach=function(e){var t=this;Object.getOwnPropertyNames(this.headersMap).forEach((function(n){e(n,t.headersMap[n])}),this)},e.prototype.toHeaders=function(){if("undefined"!=typeof Headers){var e=new Headers;return this.forEach((function(t,n){n.forEach((function(n){e.append(t,n)}))})),e}throw new Error("Headers class is not defined")},e}();t.BrowserHeaders=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.BrowserHeaders=r.BrowserHeaders},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateHeaders=function(e,t){for(var n=e[Symbol.iterator](),r=n.next();!r.done;)t(r.value[0]),r=n.next()},t.iterateHeadersKeys=function(e,t){for(var n=e.keys(),r=n.next();!r.done;)t(r.value),r=n.next()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.normalizeName=function(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()},t.normalizeValue=function(e){return"string"!=typeof e&&(e=String(e)),e},t.getHeaderValues=function(e,t){var n=e;if(n instanceof Headers&&n.getAll)return n.getAll(t);var r=n.get(t);return r&&"string"==typeof r?[r]:r},t.getHeaderKeys=function(e){var t=e,n={},i=[];return t.keys?r.iterateHeadersKeys(t,(function(e){n[e]||(n[e]=!0,i.push(e))})):t.forEach?t.forEach((function(e,t){n[t]||(n[t]=!0,i.push(t))})):r.iterateHeaders(t,(function(e){var t=e[0];n[t]||(n[t]=!0,i.push(t))})),i},t.splitHeaderValue=function(e){var t=[];return e.split(", ").forEach((function(e){e.split(",").forEach((function(e){t.push(e)}))})),t}}]))},617:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkParser=t.ChunkType=t.encodeASCII=t.decodeASCII=void 0;var r,i=n(65);function o(e){return 9===(t=e)||10===t||13===t||e>=32&&e<=126;var t}function a(e){for(var t=0;t!==e.length;++t)if(!o(e[t]))throw new Error("Metadata is not valid (printable) ASCII");return String.fromCharCode.apply(String,Array.prototype.slice.call(e))}function s(e){return 128==(128&e.getUint8(0))}function u(e){return e.getUint32(1,!1)}function c(e,t,n){return e.byteLength-t>=n}function _(e,t,n){if(e.slice)return e.slice(t,n);var r=e.length;void 0!==n&&(r=n);for(var i=new Uint8Array(r-t),o=0,a=t;a<r;a++)i[o++]=e[a];return i}t.decodeASCII=a,t.encodeASCII=function(e){for(var t=new Uint8Array(e.length),n=0;n!==e.length;++n){var r=e.charCodeAt(n);if(!o(r))throw new Error("Metadata contains invalid ASCII");t[n]=r}return t},function(e){e[e.MESSAGE=1]="MESSAGE",e[e.TRAILERS=2]="TRAILERS"}(r=t.ChunkType||(t.ChunkType={}));var l=function(){function e(){this.buffer=null,this.position=0}return e.prototype.parse=function(e,t){if(0===e.length&&t)return[];var n,o=[];if(null==this.buffer)this.buffer=e,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=e,this.position=0;else{var l=this.buffer.byteLength-this.position,E=new Uint8Array(l+e.byteLength),d=_(this.buffer,this.position);E.set(d,0);var f=new Uint8Array(e);E.set(f,l),this.buffer=E,this.position=0}for(;;){if(!c(this.buffer,this.position,5))return o;var I=_(this.buffer,this.position,this.position+5),p=new DataView(I.buffer,I.byteOffset,I.byteLength),S=u(p);if(!c(this.buffer,this.position,5+S))return o;var T=_(this.buffer,this.position+5,this.position+5+S);if(this.position+=5+S,s(p))return o.push({chunkType:r.TRAILERS,trailers:(n=T,new i.Metadata(a(n)))}),o;o.push({chunkType:r.MESSAGE,data:T})}},e}();t.ChunkParser=l},8:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.httpStatusToCode=t.Code=void 0,function(e){e[e.OK=0]="OK",e[e.Canceled=1]="Canceled",e[e.Unknown=2]="Unknown",e[e.InvalidArgument=3]="InvalidArgument",e[e.DeadlineExceeded=4]="DeadlineExceeded",e[e.NotFound=5]="NotFound",e[e.AlreadyExists=6]="AlreadyExists",e[e.PermissionDenied=7]="PermissionDenied",e[e.ResourceExhausted=8]="ResourceExhausted",e[e.FailedPrecondition=9]="FailedPrecondition",e[e.Aborted=10]="Aborted",e[e.OutOfRange=11]="OutOfRange",e[e.Unimplemented=12]="Unimplemented",e[e.Internal=13]="Internal",e[e.Unavailable=14]="Unavailable",e[e.DataLoss=15]="DataLoss",e[e.Unauthenticated=16]="Unauthenticated"}(n=t.Code||(t.Code={})),t.httpStatusToCode=function(e){switch(e){case 0:return n.Internal;case 200:return n.OK;case 400:return n.InvalidArgument;case 401:return n.Unauthenticated;case 403:return n.PermissionDenied;case 404:return n.NotFound;case 409:return n.Aborted;case 412:return n.FailedPrecondition;case 429:return n.ResourceExhausted;case 499:return n.Canceled;case 500:default:return n.Unknown;case 501:return n.Unimplemented;case 503:return n.Unavailable;case 504:return n.DeadlineExceeded}}},934:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.client=void 0;var r=n(65),i=n(617),o=n(8),a=n(346),s=n(57),u=n(882);t.client=function(e,t){return new c(e,t)};var c=function(){function e(e,t){this.started=!1,this.sentFirstMessage=!1,this.completed=!1,this.closed=!1,this.finishedSending=!1,this.onHeadersCallbacks=[],this.onMessageCallbacks=[],this.onEndCallbacks=[],this.parser=new i.ChunkParser,this.methodDefinition=e,this.props=t,this.createTransport()}return e.prototype.createTransport=function(){var e=this.props.host+"/"+this.methodDefinition.service.serviceName+"/"+this.methodDefinition.methodName,t={methodDefinition:this.methodDefinition,debug:this.props.debug||!1,url:e,onHeaders:this.onTransportHeaders.bind(this),onChunk:this.onTransportChunk.bind(this),onEnd:this.onTransportEnd.bind(this)};this.props.transport?this.transport=this.props.transport(t):this.transport=s.makeDefaultTransport(t)},e.prototype.onTransportHeaders=function(e,t){if(this.props.debug&&a.debug("onHeaders",e,t),this.closed)this.props.debug&&a.debug("grpc.onHeaders received after request was closed - ignoring");else if(0===t);else{this.responseHeaders=e,this.props.debug&&a.debug("onHeaders.responseHeaders",JSON.stringify(this.responseHeaders,null,2));var n=_(e);this.props.debug&&a.debug("onHeaders.gRPCStatus",n);var r=n&&n>=0?n:o.httpStatusToCode(t);this.props.debug&&a.debug("onHeaders.code",r);var i=e.get("grpc-message")||[];if(this.props.debug&&a.debug("onHeaders.gRPCMessage",i),this.rawOnHeaders(e),r!==o.Code.OK){var s=this.decodeGRPCStatus(i[0]);this.rawOnError(r,s,e)}}},e.prototype.onTransportChunk=function(e){var t=this;if(this.closed)this.props.debug&&a.debug("grpc.onChunk received after request was closed - ignoring");else{var n=[];try{n=this.parser.parse(e)}catch(e){return this.props.debug&&a.debug("onChunk.parsing error",e,e.message),void this.rawOnError(o.Code.Internal,"parsing error: "+e.message)}n.forEach((function(e){if(e.chunkType===i.ChunkType.MESSAGE){var n=t.methodDefinition.responseType.deserializeBinary(e.data);t.rawOnMessage(n)}else e.chunkType===i.ChunkType.TRAILERS&&(t.responseHeaders?(t.responseTrailers=new r.Metadata(e.trailers),t.props.debug&&a.debug("onChunk.trailers",t.responseTrailers)):(t.responseHeaders=new r.Metadata(e.trailers),t.rawOnHeaders(t.responseHeaders)))}))}},e.prototype.onTransportEnd=function(){if(this.props.debug&&a.debug("grpc.onEnd"),this.closed)this.props.debug&&a.debug("grpc.onEnd received after request was closed - ignoring");else if(void 0!==this.responseTrailers){var e=_(this.responseTrailers);if(null!==e){var t=this.responseTrailers.get("grpc-message"),n=this.decodeGRPCStatus(t[0]);this.rawOnEnd(e,n,this.responseTrailers)}else this.rawOnError(o.Code.Internal,"Response closed without grpc-status (Trailers provided)")}else{if(void 0===this.responseHeaders)return void this.rawOnError(o.Code.Unknown,"Response closed without headers");var r=_(this.responseHeaders),i=this.responseHeaders.get("grpc-message");if(this.props.debug&&a.debug("grpc.headers only response ",r,i),null===r)return void this.rawOnEnd(o.Code.Unknown,"Response closed without grpc-status (Headers only)",this.responseHeaders);var s=this.decodeGRPCStatus(i[0]);this.rawOnEnd(r,s,this.responseHeaders)}},e.prototype.decodeGRPCStatus=function(e){if(!e)return"";try{return decodeURIComponent(e)}catch(t){return e}},e.prototype.rawOnEnd=function(e,t,n){var r=this;this.props.debug&&a.debug("rawOnEnd",e,t,n),this.completed||(this.completed=!0,this.onEndCallbacks.forEach((function(i){if(!r.closed)try{i(e,t,n)}catch(e){setTimeout((function(){throw e}),0)}})))},e.prototype.rawOnHeaders=function(e){this.props.debug&&a.debug("rawOnHeaders",e),this.completed||this.onHeadersCallbacks.forEach((function(t){try{t(e)}catch(e){setTimeout((function(){throw e}),0)}}))},e.prototype.rawOnError=function(e,t,n){var i=this;void 0===n&&(n=new r.Metadata),this.props.debug&&a.debug("rawOnError",e,t),this.completed||(this.completed=!0,this.onEndCallbacks.forEach((function(r){if(!i.closed)try{r(e,t,n)}catch(e){setTimeout((function(){throw e}),0)}})))},e.prototype.rawOnMessage=function(e){var t=this;this.props.debug&&a.debug("rawOnMessage",e.toObject()),this.completed||this.closed||this.onMessageCallbacks.forEach((function(n){if(!t.closed)try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))},e.prototype.onHeaders=function(e){this.onHeadersCallbacks.push(e)},e.prototype.onMessage=function(e){this.onMessageCallbacks.push(e)},e.prototype.onEnd=function(e){this.onEndCallbacks.push(e)},e.prototype.start=function(e){if(this.started)throw new Error("Client already started - cannot .start()");this.started=!0;var t=new r.Metadata(e||{});t.set("content-type","application/grpc-web+proto"),t.set("x-grpc-web","1"),this.transport.start(t)},e.prototype.send=function(e){if(!this.started)throw new Error("Client not started - .start() must be called before .send()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .send()");if(!this.methodDefinition.requestStream&&this.sentFirstMessage)throw new Error("Message already sent for non-client-streaming method - cannot .send()");this.sentFirstMessage=!0;var t=u.frameRequest(e);this.transport.sendMessage(t)},e.prototype.finishSend=function(){if(!this.started)throw new Error("Client not started - .finishSend() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .finishSend()");this.finishedSending=!0,this.transport.finishSend()},e.prototype.close=function(){if(!this.started)throw new Error("Client not started - .start() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .close()");this.closed=!0,this.props.debug&&a.debug("request.abort aborting request"),this.transport.cancel()},e}();function _(e){var t=e.get("grpc-status")||[];if(t.length>0)try{var n=t[0];return parseInt(n,10)}catch(e){return null}return null}},346:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debug=void 0,t.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.debug?console.debug.apply(null,e):console.log.apply(null,e)}},607:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.grpc=void 0;var r,i=n(418),o=n(57),a=n(229),s=n(540),u=n(210),c=n(859),_=n(8),l=n(938),E=n(35),d=n(934);(r=t.grpc||(t.grpc={})).setDefaultTransport=o.setDefaultTransportFactory,r.CrossBrowserHttpTransport=c.CrossBrowserHttpTransport,r.FetchReadableStreamTransport=a.FetchReadableStreamTransport,r.XhrTransport=u.XhrTransport,r.WebsocketTransport=s.WebsocketTransport,r.Code=_.Code,r.Metadata=i.BrowserHeaders,r.client=function(e,t){return d.client(e,t)},r.invoke=l.invoke,r.unary=E.unary},938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.invoke=void 0;var r=n(934);t.invoke=function(e,t){if(e.requestStream)throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");var n=r.client(e,{host:t.host,transport:t.transport,debug:t.debug});return t.onHeaders&&n.onHeaders(t.onHeaders),t.onMessage&&n.onMessage(t.onMessage),t.onEnd&&n.onEnd(t.onEnd),n.start(t.metadata),n.send(t.request),n.finishSend(),{close:function(){n.close()}}}},65:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(418);Object.defineProperty(t,"Metadata",{enumerable:!0,get:function(){return r.BrowserHeaders}})},57:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeDefaultTransport=t.setDefaultTransportFactory=void 0;var r=n(859),i=function(e){return r.CrossBrowserHttpTransport({withCredentials:!1})(e)};t.setDefaultTransportFactory=function(e){i=e},t.makeDefaultTransport=function(e){return i(e)}},229:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.detectFetchSupport=t.FetchReadableStreamTransport=void 0;var i=n(65),o=n(346);t.FetchReadableStreamTransport=function(e){return function(t){return function(e,t){return e.debug&&o.debug("fetchRequest",e),new a(e,t)}(t,e)}};var a=function(){function e(e,t){this.cancelled=!1,this.controller=self.AbortController&&new AbortController,this.options=e,this.init=t}return e.prototype.pump=function(e,t){var n=this;if(this.reader=e,this.cancelled)return this.options.debug&&o.debug("Fetch.pump.cancel at first pump"),void this.reader.cancel().catch((function(e){n.options.debug&&o.debug("Fetch.pump.reader.cancel exception",e)}));this.reader.read().then((function(e){if(e.done)return n.options.onEnd(),t;n.options.onChunk(e.value),n.pump(n.reader,t)})).catch((function(e){n.cancelled?n.options.debug&&o.debug("Fetch.catch - request cancelled"):(n.cancelled=!0,n.options.debug&&o.debug("Fetch.catch",e.message),n.options.onEnd(e))}))},e.prototype.send=function(e){var t=this;fetch(this.options.url,r(r({},this.init),{headers:this.metadata.toHeaders(),method:"POST",body:e,signal:this.controller&&this.controller.signal})).then((function(e){if(t.options.debug&&o.debug("Fetch.response",e),t.options.onHeaders(new i.Metadata(e.headers),e.status),!e.body)return e;t.pump(e.body.getReader(),e)})).catch((function(e){t.cancelled?t.options.debug&&o.debug("Fetch.catch - request cancelled"):(t.cancelled=!0,t.options.debug&&o.debug("Fetch.catch",e.message),t.options.onEnd(e))}))},e.prototype.sendMessage=function(e){this.send(e)},e.prototype.finishSend=function(){},e.prototype.start=function(e){this.metadata=e},e.prototype.cancel=function(){var e=this;this.cancelled?this.options.debug&&o.debug("Fetch.cancel already cancelled"):(this.cancelled=!0,this.controller?(this.options.debug&&o.debug("Fetch.cancel.controller.abort"),this.controller.abort()):this.options.debug&&o.debug("Fetch.cancel.missing abort controller"),this.reader?(this.options.debug&&o.debug("Fetch.cancel.reader.cancel"),this.reader.cancel().catch((function(t){e.options.debug&&o.debug("Fetch.cancel.reader.cancel exception",t)}))):this.options.debug&&o.debug("Fetch.cancel before reader"))},e}();t.detectFetchSupport=function(){return"undefined"!=typeof Response&&Response.prototype.hasOwnProperty("body")&&"function"==typeof Headers}},859:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrossBrowserHttpTransport=void 0;var r=n(229),i=n(210);t.CrossBrowserHttpTransport=function(e){if(r.detectFetchSupport()){var t={credentials:e.withCredentials?"include":"same-origin"};return r.FetchReadableStreamTransport(t)}return i.XhrTransport({withCredentials:e.withCredentials})}},210:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.stringToArrayBuffer=t.MozChunkedArrayBufferXHR=t.XHR=t.XhrTransport=void 0;var o=n(65),a=n(346),s=n(849);t.XhrTransport=function(e){return function(t){if(s.detectMozXHRSupport())return new c(t,e);if(s.detectXHROverrideMimeTypeSupport())return new u(t,e);throw new Error("This environment's XHR implementation cannot support binary transfer.")}};var u=function(){function e(e,t){this.options=e,this.init=t}return e.prototype.onProgressEvent=function(){this.options.debug&&a.debug("XHR.onProgressEvent.length: ",this.xhr.response.length);var e=this.xhr.response.substr(this.index);this.index=this.xhr.response.length;var t=l(e);this.options.onChunk(t)},e.prototype.onLoadEvent=function(){this.options.debug&&a.debug("XHR.onLoadEvent"),this.options.onEnd()},e.prototype.onStateChange=function(){this.options.debug&&a.debug("XHR.onStateChange",this.xhr.readyState),this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED&&this.options.onHeaders(new o.Metadata(this.xhr.getAllResponseHeaders()),this.xhr.status)},e.prototype.sendMessage=function(e){this.xhr.send(e)},e.prototype.finishSend=function(){},e.prototype.start=function(e){var t=this;this.metadata=e;var n=new XMLHttpRequest;this.xhr=n,n.open("POST",this.options.url),this.configureXhr(),this.metadata.forEach((function(e,t){n.setRequestHeader(e,t.join(", "))})),n.withCredentials=Boolean(this.init.withCredentials),n.addEventListener("readystatechange",this.onStateChange.bind(this)),n.addEventListener("progress",this.onProgressEvent.bind(this)),n.addEventListener("loadend",this.onLoadEvent.bind(this)),n.addEventListener("error",(function(e){t.options.debug&&a.debug("XHR.error",e),t.options.onEnd(e.error)}))},e.prototype.configureXhr=function(){this.xhr.responseType="text",this.xhr.overrideMimeType("text/plain; charset=x-user-defined")},e.prototype.cancel=function(){this.options.debug&&a.debug("XHR.abort"),this.xhr.abort()},e}();t.XHR=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.configureXhr=function(){this.options.debug&&a.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"),this.xhr.responseType="moz-chunked-arraybuffer"},t.prototype.onProgressEvent=function(){var e=this.xhr.response;this.options.debug&&a.debug("MozXHR.onProgressEvent: ",new Uint8Array(e)),this.options.onChunk(new Uint8Array(e))},t}(u);function _(e,t){var n=e.charCodeAt(t);if(n>=55296&&n<=56319){var r=e.charCodeAt(t+1);r>=56320&&r<=57343&&(n=65536+(n-55296<<10)+(r-56320))}return n}function l(e){for(var t=new Uint8Array(e.length),n=0,r=0;r<e.length;r++){var i=String.prototype.codePointAt?e.codePointAt(r):_(e,r);t[n++]=255&i}return t}t.MozChunkedArrayBufferXHR=c,t.stringToArrayBuffer=l},849:function(e,t){"use strict";var n;function r(){if(void 0!==n)return n;if(XMLHttpRequest){n=new XMLHttpRequest;try{n.open("GET","https://localhost")}catch(e){}}return n}function i(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.detectXHROverrideMimeTypeSupport=t.detectMozXHRSupport=t.xhrSupportsResponseType=void 0,t.xhrSupportsResponseType=i,t.detectMozXHRSupport=function(){return"undefined"!=typeof XMLHttpRequest&&i("moz-chunked-arraybuffer")},t.detectXHROverrideMimeTypeSupport=function(){return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType")}},540:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketTransport=void 0;var r,i=n(346),o=n(617);!function(e){e[e.FINISH_SEND=1]="FINISH_SEND"}(r||(r={}));var a=new Uint8Array([1]);t.WebsocketTransport=function(){return function(e){return function(e){e.debug&&i.debug("websocketRequest",e);var t,n=function(e){if("https://"===e.substr(0,8))return"wss://"+e.substr(8);if("http://"===e.substr(0,7))return"ws://"+e.substr(7);throw new Error("Websocket transport constructed with non-https:// or http:// host.")}(e.url),s=[];function u(e){if(e===r.FINISH_SEND)t.send(a);else{var n=e,i=new Int8Array(n.byteLength+1);i.set(new Uint8Array([0])),i.set(n,1),t.send(i)}}return{sendMessage:function(e){t&&t.readyState!==t.CONNECTING?u(e):s.push(e)},finishSend:function(){t&&t.readyState!==t.CONNECTING?u(r.FINISH_SEND):s.push(r.FINISH_SEND)},start:function(r){(t=new WebSocket(n,["grpc-websockets"])).binaryType="arraybuffer",t.onopen=function(){var n;e.debug&&i.debug("websocketRequest.onopen"),t.send((n="",r.forEach((function(e,t){n+=e+": "+t.join(", ")+"\r\n"})),o.encodeASCII(n))),s.forEach((function(e){u(e)}))},t.onclose=function(t){e.debug&&i.debug("websocketRequest.onclose",t),e.onEnd()},t.onerror=function(t){e.debug&&i.debug("websocketRequest.onerror",t)},t.onmessage=function(t){e.onChunk(new Uint8Array(t.data))}},cancel:function(){e.debug&&i.debug("websocket.abort"),t.close()}}}(e)}}},35:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unary=void 0;var r=n(65),i=n(934);t.unary=function(e,t){if(e.responseStream)throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");if(e.requestStream)throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");var n=null,o=null,a=i.client(e,{host:t.host,transport:t.transport,debug:t.debug});return a.onHeaders((function(e){n=e})),a.onMessage((function(e){o=e})),a.onEnd((function(e,i,a){t.onEnd({status:e,statusMessage:i,headers:n||new r.Metadata,message:o,trailers:a})})),a.start(t.metadata),a.send(t.request),a.finishSend(),{close:function(){a.close()}}}},882:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.frameRequest=void 0,t.frameRequest=function(e){var t=e.serializeBinary(),n=new ArrayBuffer(t.byteLength+5);return new DataView(n,1,4).setUint32(0,t.length,!1),new Uint8Array(n,5).set(t),new Uint8Array(n)}}},t={},function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(607);var e,t}()},206:function(e){"use strict";e.exports=function(e,t){var n=new Array(arguments.length-1),r=0,i=2,o=!0;for(;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,a){n[r]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(s){o&&(o=!1,a(s))}}))}},1:function(e,t){"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),i=new Array(123),o=0;o<64;)i[r[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;n.encode=function(e,t,n){for(var i,o=null,a=[],s=0,u=0;t<n;){var c=e[t++];switch(u){case 0:a[s++]=r[c>>2],i=(3&c)<<4,u=1;break;case 1:a[s++]=r[i|c>>4],i=(15&c)<<2,u=2;break;case 2:a[s++]=r[i|c>>6],a[s++]=r[63&c],u=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=r[i],a[s++]=61,1===u&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var a="invalid encoding";n.decode=function(e,t,n){for(var r,o=n,s=0,u=0;u<e.length;){var c=e.charCodeAt(u++);if(61===c&&s>1)break;if(void 0===(c=i[c]))throw Error(a);switch(s){case 0:r=c,s=1;break;case 1:t[n++]=r<<2|(48&c)>>4,r=c,s=2;break;case 2:t[n++]=(15&r)<<4|(60&c)>>2,r=c,s=3;break;case 3:t[n++]=(3&r)<<6|c,s=0}}if(1===s)throw Error(a);return n-o},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},111:function(e){"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},802:function(e){"use strict";function t(e){return"undefined"!==typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function o(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:o,e.writeFloatBE=r?o:i,e.readFloatLE=r?a:s,e.readFloatBE=r?s:a}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,n,r)}}function a(e,t,n){var r=e(t,n),i=2*(r>>31)+1,o=r>>>23&255,a=8388607&r;return 255===o?a?NaN:i*(1/0):0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=a.bind(null,i),e.readFloatBE=a.bind(null,o)}(),"undefined"!==typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function o(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:o,e.writeDoubleBE=r?o:i,e.readDoubleLE=r?a:s,e.readDoubleBE=r?s:a}():function(){function t(e,t,n,r,i,o){var a=r<0?1:0;if(a&&(r=-r),0===r)e(0,i,o+t),e(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))e(0,i,o+t),e(2146959360,i,o+n);else if(r>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,i,o+t),e((a<<31|s/4294967296)>>>0,i,o+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=r*Math.pow(2,-u))>>>0,i,o+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,i,o+n)}}}function a(e,t,n,r,i){var o=e(r,i+t),a=e(r,i+n),s=2*(a>>31)+1,u=a>>>20&2047,c=4294967296*(1048575&a)+o;return 2047===u?c?NaN:s*(1/0):0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=a.bind(null,i,0,4),e.readDoubleBE=a.bind(null,o,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},172:function(module){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},236:function(e){"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,o=null,a=r;return function(n){if(n<1||n>i)return e(n);a+n>r&&(o=e(r),a=0);var s=t.call(o,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},861:function(e,t){"use strict";var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296===(64512&n)&&56320===(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,o=[],a=0;t<n;)(r=e[t++])<128?o[a++]=r:r>191&&r<224?o[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(r>>10),o[a++]=56320+(1023&r)):o[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},n.write=function(e,t,n){for(var r,i,o=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&56320===(64512&(i=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-o}},987:function(e){e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(C){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var i={},o={};function a(e,t){var n,r,a;return t?(a=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=u(e,(0|e)<0?-1:0,!0),a&&(o[e]=n),n):(a=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=u(e,e<0?-1:0,!1),a&&(i[e]=n),n)}function s(e,t){if(isNaN(e))return t?S:p;if(t){if(e<0)return S;if(e>=d)return A}else{if(e<=-f)return O;if(e+1>=f)return v}return e<0?s(-e,t).neg():u(e%E|0,e/E|0,t)}function u(e,t,r){return new n(e,t,r)}n.fromInt=a,n.fromNumber=s,n.fromBits=u;var c=Math.pow;function _(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return p;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return _(e.substring(1),t,n).neg();for(var i=s(c(n,8)),o=p,a=0;a<e.length;a+=8){var u=Math.min(8,e.length-a),l=parseInt(e.substring(a,a+u),n);if(u<8){var E=s(c(n,u));o=o.mul(E).add(s(l))}else o=(o=o.mul(i)).add(s(l))}return o.unsigned=t,o}function l(e,t){return"number"===typeof e?s(e,t):"string"===typeof e?_(e,t):u(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=_,n.fromValue=l;var E=4294967296,d=E*E,f=d/2,I=a(1<<24),p=a(0);n.ZERO=p;var S=a(0,!0);n.UZERO=S;var T=a(1);n.ONE=T;var h=a(1,!0);n.UONE=h;var N=a(-1);n.NEG_ONE=N;var v=u(-1,2147483647,!1);n.MAX_VALUE=v;var A=u(-1,-1,!0);n.MAX_UNSIGNED_VALUE=A;var O=u(0,-2147483648,!1);n.MIN_VALUE=O;var R=n.prototype;R.toInt=function(){return this.unsigned?this.low>>>0:this.low},R.toNumber=function(){return this.unsigned?(this.high>>>0)*E+(this.low>>>0):this.high*E+(this.low>>>0)},R.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(O)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=s(c(e,6),this.unsigned),o=this,a="";;){var u=o.div(i),_=(o.sub(u.mul(i)).toInt()>>>0).toString(e);if((o=u).isZero())return _+a;for(;_.length<6;)_="0"+_;a=""+_+a}},R.getHighBits=function(){return this.high},R.getHighBitsUnsigned=function(){return this.high>>>0},R.getLowBits=function(){return this.low},R.getLowBitsUnsigned=function(){return this.low>>>0},R.getNumBitsAbs=function(){if(this.isNegative())return this.eq(O)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},R.isZero=function(){return 0===this.high&&0===this.low},R.eqz=R.isZero,R.isNegative=function(){return!this.unsigned&&this.high<0},R.isPositive=function(){return this.unsigned||this.high>=0},R.isOdd=function(){return 1===(1&this.low)},R.isEven=function(){return 0===(1&this.low)},R.equals=function(e){return r(e)||(e=l(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},R.eq=R.equals,R.notEquals=function(e){return!this.eq(e)},R.neq=R.notEquals,R.ne=R.notEquals,R.lessThan=function(e){return this.comp(e)<0},R.lt=R.lessThan,R.lessThanOrEqual=function(e){return this.comp(e)<=0},R.lte=R.lessThanOrEqual,R.le=R.lessThanOrEqual,R.greaterThan=function(e){return this.comp(e)>0},R.gt=R.greaterThan,R.greaterThanOrEqual=function(e){return this.comp(e)>=0},R.gte=R.greaterThanOrEqual,R.ge=R.greaterThanOrEqual,R.compare=function(e){if(r(e)||(e=l(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},R.comp=R.compare,R.negate=function(){return!this.unsigned&&this.eq(O)?O:this.not().add(T)},R.neg=R.negate,R.add=function(e){r(e)||(e=l(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,a=e.high>>>16,s=65535&e.high,c=e.low>>>16,_=0,E=0,d=0,f=0;return d+=(f+=o+(65535&e.low))>>>16,E+=(d+=i+c)>>>16,_+=(E+=n+s)>>>16,_+=t+a,u((d&=65535)<<16|(f&=65535),(_&=65535)<<16|(E&=65535),this.unsigned)},R.subtract=function(e){return r(e)||(e=l(e)),this.add(e.neg())},R.sub=R.subtract,R.multiply=function(e){if(this.isZero())return p;if(r(e)||(e=l(e)),t)return u(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return p;if(this.eq(O))return e.isOdd()?O:p;if(e.eq(O))return this.isOdd()?O:p;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(I)&&e.lt(I))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,o=this.low>>>16,a=65535&this.low,c=e.high>>>16,_=65535&e.high,E=e.low>>>16,d=65535&e.low,f=0,S=0,T=0,h=0;return T+=(h+=a*d)>>>16,S+=(T+=o*d)>>>16,T&=65535,S+=(T+=a*E)>>>16,f+=(S+=i*d)>>>16,S&=65535,f+=(S+=o*E)>>>16,S&=65535,f+=(S+=a*_)>>>16,f+=n*d+i*E+o*_+a*c,u((T&=65535)<<16|(h&=65535),(f&=65535)<<16|(S&=65535),this.unsigned)},R.mul=R.multiply,R.divide=function(e){if(r(e)||(e=l(e)),e.isZero())throw Error("division by zero");var n,i,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?S:p;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return S;if(e.gt(this.shru(1)))return h;o=S}else{if(this.eq(O))return e.eq(T)||e.eq(N)?O:e.eq(O)?T:(n=this.shr(1).div(e).shl(1)).eq(p)?e.isNegative()?T:N:(i=this.sub(e.mul(n)),o=n.add(i.div(e)));if(e.eq(O))return this.unsigned?S:p;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=p}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),_=a<=48?1:c(2,a-48),E=s(n),d=E.mul(e);d.isNegative()||d.gt(i);)d=(E=s(n-=_,this.unsigned)).mul(e);E.isZero()&&(E=T),o=o.add(E),i=i.sub(d)}return o},R.div=R.divide,R.modulo=function(e){return r(e)||(e=l(e)),t?u((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},R.mod=R.modulo,R.rem=R.modulo,R.not=function(){return u(~this.low,~this.high,this.unsigned)},R.and=function(e){return r(e)||(e=l(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},R.or=function(e){return r(e)||(e=l(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},R.xor=function(e){return r(e)||(e=l(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},R.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},R.shl=R.shiftLeft,R.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},R.shr=R.shiftRight,R.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},R.shru=R.shiftRightUnsigned,R.shr_u=R.shiftRightUnsigned,R.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},R.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},R.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},R.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},R.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},886:function(e,t,n){"use strict";e.exports=n(722)},722:function(e,t,n){"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(63),r.BufferWriter=n(815),r.Reader=n(216),r.BufferReader=n(557),r.util=n(97),r.rpc=n(994),r.roots=n(907),r.configure=i,i()},216:function(e,t,n){"use strict";e.exports=u;var r,i=n(97),o=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var c="undefined"!==typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},_=function(){return i.Buffer?function(e){return(u.create=function(e){return i.Buffer.isBuffer(e)?new r(e):c(e)})(e)}:c};function l(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function E(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw s(this,8);return new o(E(this.buf,this.pos+=4),E(this.buf,this.pos+=4))}u.create=_(),u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return e}}(),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return E(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|E(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},u.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},u.prototype.skip=function(e){if("number"===typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!==(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){r=e,u.create=_(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(u.prototype,{int64:function(){return l.call(this)[t](!1)},uint64:function(){return l.call(this)[t](!0)},sint64:function(){return l.call(this).zzDecode()[t](!1)},fixed64:function(){return d.call(this)[t](!0)},sfixed64:function(){return d.call(this)[t](!1)}})}},557:function(e,t,n){"use strict";e.exports=o;var r=n(216);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(97);function o(e){r.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},907:function(e){"use strict";e.exports={}},994:function(e,t,n){"use strict";t.Service=n(281)},281:function(e,t,n){"use strict";e.exports=i;var r=n(97);function i(e,t,n){if("function"!==typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(e,s,t,n,i,o);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,n){if(e)return s.emit("error",e,t),a(e);if(null!==n){if(!(n instanceof i))try{n=i[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",n,t),a(null,n)}s.end(!0)}))}catch(u){return s.emit("error",u,t),void setTimeout((function(){a(u)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},351:function(e,t,n){"use strict";e.exports=i;var r=n(97);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"===typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?o:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},97:function(e,t,n){"use strict";var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function o(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(206),r.base64=n(1),r.EventEmitter=n(111),r.float=n(802),r.inquire=n(172),r.utf8=n(861),r.pool=n(236),r.LongBits=n(351),r.isNode=Boolean("undefined"!==typeof n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!==typeof window&&window||"undefined"!==typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"===typeof e||e instanceof String},r.isObject=function(e){return e&&"object"===typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!==typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(t){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"===typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"===typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!==typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=o,r.ProtocolError=o("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},63:function(e,t,n){"use strict";e.exports=l;var r,i=n(97),o=i.LongBits,a=i.base64,s=i.utf8;function u(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function c(){}function _(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function l(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}var E=function(){return i.Buffer?function(){return(l.create=function(){return new r})()}:function(){return new l}};function d(e,t,n){t[n]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function I(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function p(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}l.create=E(),l.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(l.alloc=i.pool(l.alloc,i.Array.prototype.subarray)),l.prototype._push=function(e,t,n){return this.tail=this.tail.next=new u(e,t,n),this.len+=t,this},f.prototype=Object.create(u.prototype),f.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},l.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},l.prototype.int32=function(e){return e<0?this._push(I,10,o.fromNumber(e)):this.uint32(e)},l.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},l.prototype.uint64=function(e){var t=o.from(e);return this._push(I,t.length(),t)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(I,t.length(),t)},l.prototype.bool=function(e){return this._push(d,1,e?1:0)},l.prototype.fixed32=function(e){return this._push(p,4,e>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(e){var t=o.from(e);return this._push(p,4,t.lo)._push(p,4,t.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},l.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var S=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};l.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(i.isString(e)){var n=l.alloc(t=a.length(e));a.decode(e,n,0),e=n}return this.uint32(t)._push(S,t,e)},l.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(d,1,0)},l.prototype.fork=function(){return this.states=new _(this),this.head=this.tail=new u(c,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},l.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},l.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},l._configure=function(e){r=e,l.create=E(),r._configure()}},815:function(e,t,n){"use strict";e.exports=o;var r=n(63);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(97);function o(){r.call(this)}function a(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},o._configure()},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),d=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,p={};function S(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||f}function T(){}function h(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||f}S.prototype.isReactComponent={},S.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},S.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},T.prototype=S.prototype;var N=h.prototype=new T;N.constructor=h,I(N,S.prototype),N.isPureReactComponent=!0;var v=Array.isArray,A=Object.prototype.hasOwnProperty,O={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)A.call(t,i)&&!R.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),_=0;_<u;_++)c[_]=arguments[_+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:O.current}}function y(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var g=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function m(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+P(u,0):o,v(a)?(i="",null!=e&&(i=e.replace(g,"$&/")+"/"),m(a,t,i,"",(function(e){return e}))):null!=a&&(y(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(g,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",v(e))for(var c=0;c<e.length;c++){var _=o+P(s=e[c],c);u+=m(s,t,i,_,a)}else if(_=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof _)for(e=_.call(e),c=0;!(s=e.next()).done;)u+=m(s=s.value,t,i,_=o+P(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function L(e,t,n){if(null==e)return e;var r=[],i=0;return m(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function U(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},M={transition:null};t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e}},791:function(e,t,n){"use strict";e.exports=n(117)},121:function(e,t,n){var r;!function(e){!function(t){var r="object"===typeof n.g?n.g:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),i=o(e);function o(e,t){return function(n,r){"function"!==typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}"undefined"===typeof r.Reflect?r.Reflect=e:i=o(r.Reflect,i),function(e){var t=Object.prototype.hasOwnProperty,n="function"===typeof Symbol,r=n&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",o="function"===typeof Object.create,a={__proto__:[]}instanceof Array,s=!o&&!a,u={create:o?function(){return re(Object.create(null))}:a?function(){return re({__proto__:null})}:function(){return re({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),_="object"===typeof process&&{NODE_ENV:"production",PUBLIC_URL:"/play-ghp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/play-ghp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REFLECT_METADATA_USE_MAP_POLYFILL,l=_||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?ee():Map,E=_||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?te():Set,d=new(_||"function"!==typeof WeakMap?ne():WeakMap);function f(e,t,n,r){if(w(n)){if(!K(e))throw new TypeError;if(!j(t))throw new TypeError;return R(e,t)}if(!K(e))throw new TypeError;if(!F(t))throw new TypeError;if(!F(r)&&!w(r)&&!k(r))throw new TypeError;return k(r)&&(r=void 0),C(e,t,n=W(n),r)}function I(e,t){function n(n,r){if(!F(n))throw new TypeError;if(!w(r)&&!q(r))throw new TypeError;U(e,t,n,r)}return n}function p(e,t,n,r){if(!F(n))throw new TypeError;return w(r)||(r=W(r)),U(e,t,n,r)}function S(e,t,n){if(!F(t))throw new TypeError;return w(n)||(n=W(n)),g(e,t,n)}function T(e,t,n){if(!F(t))throw new TypeError;return w(n)||(n=W(n)),P(e,t,n)}function h(e,t,n){if(!F(t))throw new TypeError;return w(n)||(n=W(n)),m(e,t,n)}function N(e,t,n){if(!F(t))throw new TypeError;return w(n)||(n=W(n)),L(e,t,n)}function v(e,t){if(!F(e))throw new TypeError;return w(t)||(t=W(t)),D(e,t)}function A(e,t){if(!F(e))throw new TypeError;return w(t)||(t=W(t)),M(e,t)}function O(e,t,n){if(!F(t))throw new TypeError;w(n)||(n=W(n));var r=y(t,n,!1);if(w(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=d.get(t);return i.delete(n),i.size>0||d.delete(t),!0}function R(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!w(r)&&!k(r)){if(!j(r))throw new TypeError;t=r}}return t}function C(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!w(o)&&!k(o)){if(!F(o))throw new TypeError;r=o}}return r}function y(e,t,n){var r=d.get(e);if(w(r)){if(!n)return;r=new l,d.set(e,r)}var i=r.get(t);if(w(i)){if(!n)return;i=new l,r.set(t,i)}return i}function g(e,t,n){if(P(e,t,n))return!0;var r=$(t);return!k(r)&&g(e,r,n)}function P(e,t,n){var r=y(t,n,!1);return!w(r)&&H(r.has(e))}function m(e,t,n){if(P(e,t,n))return L(e,t,n);var r=$(t);return k(r)?void 0:m(e,r,n)}function L(e,t,n){var r=y(t,n,!1);if(!w(r))return r.get(e)}function U(e,t,n,r){y(n,r,!0).set(e,t)}function D(e,t){var n=M(e,t),r=$(e);if(null===r)return n;var i=D(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new E,a=[],s=0,u=n;s<u.length;s++){var c=u[s];o.has(c)||(o.add(c),a.push(c))}for(var _=0,l=i;_<l.length;_++){c=l[_];o.has(c)||(o.add(c),a.push(c))}return a}function M(e,t){var n=[],r=y(e,t,!1);if(w(r))return n;for(var i=z(r.keys()),o=0;;){var a=J(i);if(!a)return n.length=o,n;var s=X(a);try{n[o]=s}catch(u){try{Q(i)}finally{throw u}}o++}}function b(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function w(e){return void 0===e}function k(e){return null===e}function G(e){return"symbol"===typeof e}function F(e){return"object"===typeof e?null!==e:"function"===typeof e}function V(e,t){switch(b(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=Z(e,r);if(void 0!==i){var o=i.call(e,n);if(F(o))throw new TypeError;return o}return B(e,"default"===n?"number":n)}function B(e,t){if("string"===t){var n=e.toString;if(Y(n))if(!F(i=n.call(e)))return i;if(Y(r=e.valueOf))if(!F(i=r.call(e)))return i}else{var r;if(Y(r=e.valueOf))if(!F(i=r.call(e)))return i;var i,o=e.toString;if(Y(o))if(!F(i=o.call(e)))return i}throw new TypeError}function H(e){return!!e}function x(e){return""+e}function W(e){var t=V(e,3);return G(t)?t:x(t)}function K(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function Y(e){return"function"===typeof e}function j(e){return"function"===typeof e}function q(e){switch(b(e)){case 3:case 4:return!0;default:return!1}}function Z(e,t){var n=e[t];if(void 0!==n&&null!==n){if(!Y(n))throw new TypeError;return n}}function z(e){var t=Z(e,i);if(!Y(t))throw new TypeError;var n=t.call(e);if(!F(n))throw new TypeError;return n}function X(e){return e.value}function J(e){var t=e.next();return!t.done&&t}function Q(e){var t=e.return;t&&t.call(e)}function $(e){var t=Object.getPrototypeOf(e);if("function"!==typeof e||e===c)return t;if(t!==c)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!==typeof i||i===e?t:i}function ee(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new l}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function ne(){var e=16,n=u.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+c()}while(u.has(n,e));return n[e]=!0,e}function o(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:u.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function c(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function re(e){return e.__=void 0,delete e.__,e}e("decorate",f),e("metadata",I),e("defineMetadata",p),e("hasMetadata",S),e("hasOwnMetadata",T),e("getMetadata",h),e("getOwnMetadata",N),e("getMetadataKeys",v),e("getOwnMetadataKeys",A),e("deleteMetadata",O)}(i)}()}(r||(r={}))}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var __webpack_exports__={};!function(){"use strict";var e=JSON.parse('{"l":"0.3.1-alpha.1"}');function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,n){if(e){if("string"===typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw a}}}}var o=JSON.parse('{"Fw":"188","c$":"19","RA":{"176":"https://cf-st.sc-cdn.net/d/uHcaGrd5M15kBiQoVL10J?go=IgsKCTIBBEgBUFxgAQ%3D%3D&uc=92","177":"https://cf-st.sc-cdn.net/d/2GqOg7VkHsrxrA21X8EXs?go=IgsKCTIBBEgBUFxgAQ%3D%3D&uc=92","180":"https://cf-st.sc-cdn.net/d/kzVsAFvYp3hbj2xnQBRyM?go=IgsKCTIBBEgBUFxgAQ%3D%3D&uc=92","182":"https://cf-st.sc-cdn.net/d/ItO16EVLOcGyO4SXW8blZ?go=IgsKCTIBBEgBUFxgAQ%3D%3D&uc=92","183":"https://cf-st.sc-cdn.net/d/fNYd3lB92Acd6p8pt06yS?go=IgsKCTIBBEgBUFxgAQ%3D%3D&uc=92","186":"https://cf-st.sc-cdn.net/d/1Pnlen5v2Gh1WPHDaHYBY?go=IgsKCTIBBEgBUFxgAQ%3D%3D&uc=92","187":"https://cf-st.sc-cdn.net/d/JhDZhlDpLmjLwyXZlTDpQ?go=IgsKCTIBBEgBUFxgAQ%3D%3D&uc=92","188":"https://cf-st.sc-cdn.net/d/UGTlf2iKWvnGGt89WVAwO?go=IgsKCTIBBEgBUFxgAQ%3D%3D&uc=92"}}'),a=navigator.language,s=navigator.languages.map((function(e,t){var n=Math.max(0,(10-t)/10);return"".concat(e,";q=").concat(n.toFixed(1))})).join(", ");function u(e){var t=new Map([["Chrome","Chrome"],["Chromium","Chrome"],["Firefox","Firefox"],["Microsoft Edge","Chrome"],["Safari","Safari"]]),n=e.filter((function(e){var n=e.brand;return t.has(n)})).map((function(e){return{brand:t.get(e.brand),version:e.version}}));return 0===n.length?[{brand:"Firefox",version:"0"}]:n}function c(e){var t,n=new Map([["android","android"],["linux","linux"],["iphone os","ios"],["ipad","ipados"],["mac os","macos"],["macos","macos"],["windows","windows"]]),o=e.toLowerCase(),a=i(n.entries());try{for(a.s();!(t=a.n()).done;){var s=r(t.value,2),u=s[0],c=s[1];if(o.includes(u))return c}}catch(_){a.e(_)}finally{a.f()}return"unknown"}var _=function(){var t=navigator.userAgent,n=void 0!==navigator.userAgentData?function(e){return{brands:u(e.brands),mobile:e.mobile,platform:c(e.platform)}}(navigator.userAgentData):function(e){var t;if(/Chrome/.test(e)){var n=e.match(/Chrome\/([\d.]+)/);t={brand:"Chrome",version:null!==n?n[1]:"unknown"}}else if(/Safari/.test(e)){var r=e.match(/Version\/([\d.]+)/);null===r&&(r=e.match(/Safari\/([\d.]+)/)),t={brand:"Safari",version:null!==r?r[1]:"unknown"}}else t={brand:"Firefox",version:"0"};return{brands:[t],mobile:!1,platform:c(e)}}(t),r=function(e){var t=e.match(/\s([\d][\d_.]*[\d])(;|\)|\s)/);return null!=t?t[1].replace(/_/g,"."):""}(t),i=function(e){var t=e.match(/;[^;]+?;([^\)]+?)\)/);if(t)return t[1].trim();var n=e.match(/\(([^;]+);/);return n?n[1].trim():"unknown"}(t),s=n.brands[0],_="".concat(s.brand,"/").concat(s.version),l=function(){for(var e,t,n=location.hostname,r=void 0===location.ancestorOrigins?[window.parent.origin,null!==(t=null===(e=window.top)||void 0===e?void 0:e.origin)&&void 0!==t?t:""]:Array.from(location.ancestorOrigins);""===n&&r.length>0;)n=new URL(r.shift()).hostname;return n}(),E=e.l,d=E.replace(/[-+]\S+$/,""),f="release",I="CameraKitWeb/".concat(d," ")+"".concat("")+"(".concat(i,"; ").concat(n.platform," ").concat(r,") ")+"".concat(_," ")+"Core/".concat(o.Fw," ")+"AppId/".concat(l);return{osType:n.platform,osVersion:r,locale:a,sdkShortVersion:d,sdkLongVersion:E,flavor:f,lensCoreVersion:"".concat(o.Fw),deviceModel:i,appId:l,userAgent:I}}();function l(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=r(e,2);t[0];return void 0!==t[1]})))}function E(e,t,n){var r=Array.isArray(t)?t:[],i="function"===typeof t?t:n;if(!i)throw new TypeError("[Factory] Received invalid arguments. The factory function must be either the second or third argument.");if(i.length!==r.length)throw new TypeError("[Factory] Function arity does not match the number of dependencies. Function has arity "+"".concat(i.length,", but ").concat(r.length," dependencies were specified.")+"\nDependencies: ".concat(JSON.stringify(r)));var o=function(){return i.apply(void 0,arguments)};return o.token=e,o.dependencies=r,o}var d={shouldUseWorker:!0},f="__snap_camkit_debug";function I(){return"undefined"!==typeof window&&!!window.__snap_camkit_debug}"undefined"!==typeof window&&Object.defineProperty(window,f,{get:function(){return sessionStorage.getItem(f)},set:function(e){return sessionStorage.setItem(f,e)},enumerable:!1,configurable:!1});var p="configuration",S=function(e){return E(p,(function(){return Object.assign(Object.assign(Object.assign({},d),l(e)),function(){if(!I())return{};var e={wasmEndpointOverride:window.__snap_camkit_debug,logger:"console"};return console.warn("Configuration overrides applied",e),e}())}))};function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function h(){h=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof l?t:l,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return g()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===_)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===_)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=u;var _={};function l(){}function E(){}function d(){}var f={};s(f,i,(function(){return this}));var I=Object.getPrototypeOf,p=I&&I(I(y([])));p&&p!==t&&n.call(p,i)&&(f=p);var S=d.prototype=l.prototype=Object.create(f);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){function r(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var _=u.arg,l=_.value;return l&&"object"==T(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){_.value=e,a(_)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function A(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,A(e,t),"throw"===t.method))return _;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,_;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,_):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,_)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function y(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:g}}function g(){return{value:void 0,done:!0}}return E.prototype=d,s(S,"constructor",d),s(d,"constructor",E),E.displayName=s(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,a,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},N(v.prototype),s(v.prototype,o,(function(){return this})),e.AsyncIterator=v,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new v(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},N(S),s(S,a,"Generator"),s(S,i,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=y,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:y(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),_}},e}function N(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var v=function(){var e,t=(e=h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){N(o,r,i,a,s,"next",e)}function s(e){N(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();function A(e){return new Promise((function(t,n){var r=document.createElement("script");r.src=e,r.async=!0,r.addEventListener("load",(function(){return t()}),{once:!0}),r.addEventListener("error",(function(e){return n(e)}),{once:!0}),document.body.appendChild(r)}))}function O(e){return"string"===typeof e}function R(e){return O(e)&&encodeURIComponent(e)===e}function C(e){return"number"===typeof e}function y(e,t){return Array.isArray(t)&&t.every((function(t){return e(t)}))}function g(e){return"undefined"===typeof e}function P(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}function m(e){return"function"===typeof e}function L(e){return function(t){for(var n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(!e(i))return!1}return!0}}function U(e){if(!e)return!0;try{var t=new URL(e);return"https:"===t.protocol||"http:"===t.protocol}catch(n){return!1}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var w=function(){function e(t){D(this,e),this.inner=t}return b(e,[{key:"handler",get:function(){return this.inner}},{key:"map",value:function(t){var n=this;return new e((function(e,i){var o,a=new AbortController,s=a.signal,u=!1,c=function e(){var t;s.aborted||u||(a.abort(),null===(t=null===i||void 0===i?void 0:i.signal)||void 0===t||t.removeEventListener("abort",e))};null===(o=null===i||void 0===i?void 0:i.signal)||void 0===o||o.addEventListener("abort",c);var _=new Proxy(n.inner,{apply:function(e,t,n){var i=r(n,2),o=i[0],a=i[1],_=[];s.addEventListener=new Proxy(s.addEventListener,{apply:function(e,t,n){return _.push(n[1]),Reflect.apply(e,t,n)}});var l=Reflect.apply(e,t,[o,Object.assign(Object.assign({},a),{signal:s})]);return l.catch((function(){})).then((function(){var e;null===(e=null===a||void 0===a?void 0:a.signal)||void 0===e||e.removeEventListener("abort",c),_.forEach((function(e){return s.removeEventListener("abort",e)})),u=!0})),l}}),l=t(_)(e,i);return l.catch((function(){})).then(c),l}))}}]),e}(),k=["log","warn","info","debug","error"],G={log:function(){},warn:function(){},info:function(){},debug:function(){},error:function(){}},F={log:function(){var e;return(e=console).log.apply(e,arguments)},warn:function(){var e;return(e=console).warn.apply(e,arguments)},info:function(){var e;return(e=console).info.apply(e,arguments)},debug:function(){var e;return(e=console).debug.apply(e,arguments)},error:function(){var e;return(e=console).error.apply(e,arguments)}},V=G,B={noop:G,console:F};function H(e){var t;V=null!==(t=B[e])&&void 0!==t?t:G}function x(e){var t,n="[CameraKit.".concat(e,"]"),r=Object.assign({},V),o=i(k);try{var a=function(){var e=t.value;r[e]=function(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=V)[e].apply(t,[n].concat(i))}};for(o.s();!(t=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}return r}var W=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},K=x("noCorsRetryingFetchHandler"),Y=function(e){K.warn("NoCorsRetrying handler got failed response:",e,'Retrying request with {mode: "no-cors"}.')},j=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},q=x("retryingHandler"),Z=function(e,t){q.warn("Retrying handler got failed response:",e,"Waited ".concat(t," millis, attempting retry now."))},z=function(e){return new Promise((function(t){return setTimeout(t,e)}))},X=function(e,t){return Math.round(Math.random()*(t-e)+e)},J={backoffMultiple:3,baseSleep:500,maxSleep:5e3,retryPredicate:function(e){return!(e instanceof Response)||!e.ok}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l(e),n=Object.assign(Object.assign({},J),t),r=n.backoffMultiple,i=n.baseSleep,o=n.maxSleep,a=n.retryPredicate,s=function(e){return j(void 0,void 0,void 0,h().mark((function t(){var n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Math.min(o,X(i,e*r)),t.next=3,z(n);case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))},u=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;return function(r,i){return j(void 0,void 0,void 0,h().mark((function o(){var u,c,_,l,E;return h().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,t(r,i);case 3:if(_=o.sent,!a(_)){o.next=12;break}return o.next=7,s(n);case 7:if(l=o.sent,!(null===(u=null===i||void 0===i?void 0:i.signal)||void 0===u?void 0:u.aborted)){o.next=10;break}return o.abrupt("return",_);case 10:return Z(_,l),o.abrupt("return",e(t,l)(r,i));case 12:return o.abrupt("return",_);case 15:if(o.prev=15,o.t0=o.catch(0),o.t0 instanceof Error){o.next=19;break}throw new Error("Invalid type caught by retrying handler. Handlers may only throw Errors. Got "+"".concat(JSON.stringify(o.t0)));case 19:if("AbortError"!==o.t0.name){o.next=21;break}throw o.t0;case 21:if(a(o.t0)){o.next=23;break}throw o.t0;case 23:return o.next=25,s(n);case 25:if(E=o.sent,!(null===(c=null===i||void 0===i?void 0:i.signal)||void 0===c?void 0:c.aborted)){o.next=28;break}throw o.t0;case 28:return Z(o.t0,E),o.abrupt("return",e(t,E)(r,i));case 30:case"end":return o.stop()}}),o,null,[[0,15]])})))}};return function(e){return u(e)}},$=function(e){return new Promise((function(t){return setTimeout(t,e)}))},ee={createError:function(e){var t=O(e)?"for ".concat(e):e instanceof Request?"for ".concat(e.url):"";return new Error("Request ".concat(t," timed out by client timeout handler."))},timeout:3e4},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l(e),n=Object.assign(Object.assign({},ee),t),r=n.createError,i=n.timeout;return function(e){return function(t,n){return Promise.race([e(t,n),$(i).then((function(){return Promise.reject(r(t,n))}))])}}},ne=E("defaultFetchHandler",(function(){return new w(fetch).map((e=I(),e?function(e){return function(t,n){var r;return(O(t)?t:null!==(r=null===t||void 0===t?void 0:t.url)&&void 0!==r?r:"").startsWith("https://lens-core-wasm.sc-corp.net/")?e(t,Object.assign(Object.assign({},n),{credentials:"include"})):e(t,n)}}:function(e){return e})).map(function(){var e=new Map;return function(t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return W(void 0,void 0,void 0,h().mark((function i(){var o,a,s;return h().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:a="string"===typeof n?n:n.url;try{a=new URL(a,location.origin).host}catch(u){}return i.prev=2,i.next=5,t(n,r);case 5:return i.abrupt("return",i.sent);case 8:if(i.prev=8,i.t0=i.catch(2),!(i.t0 instanceof Error&&"AbortError"===i.t0.name)){i.next=12;break}throw i.t0;case 12:return Y(i.t0),s=null!==(o=e.get(a))&&void 0!==o?o:t(n,Object.assign(Object.assign({},r),{mode:"no-cors"})),e.set(a,s),i.next=17,s;case 17:return e.delete(a),i.abrupt("return",t(n,r));case 19:case"end":return i.stop()}}),i,null,[[2,8]])})))}}}()).map(Q()).map(te({timeout:1e4})).handler;var e})),re=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},ie=x("lensCoreFactory"),oe=["LensCoreWebAssembly.js","LensCoreWebAssembly.wasm"],ae=function(e,t){return t.find((function(t){return e.test(t)}))};function se(e){return re(this,void 0,void 0,h().mark((function t(){var n,r,i,a;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null===e||void 0===e?void 0:e.replace(/[\/]+$/,""),t.next=3,v();case 3:if(!t.sent){t.next=7;break}t.t0="release-simd",t.next=8;break;case 7:t.t0="release";case 8:return r=t.t0,i=o.Fw,a=o.c$,t.abrupt("return",oe.map((function(e){if(n)return"".concat(n,"/").concat(e);var t=new URL(o.RA[i]),s=t.origin,u=t.pathname,c=t.search;return"".concat(s).concat(u,"/").concat(i,"/").concat(a,"/").concat(r,"/").concat(e).concat(c)})));case 12:case"end":return t.stop()}}),t)})))}var ue=E("lensCore",[ne.token,p],(function(e,t){var n=t.wasmEndpoint,r=t.wasmEndpointOverride;return re(void 0,void 0,void 0,h().mark((function t(){var i,a,s,u,c,_,l,E;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=null!==(i=null!==r&&void 0!==r?r:n)&&void 0!==i?i:void 0,t.next=3,se(a);case 3:if(s=t.sent,u=ae(/\.js/,s),c=ae(/\.wasm/,s),u&&c){t.next=8;break}throw new Error("Cannot fetch required LensCore assets. Either the JS or WASM filename is missing from "+"this list: ".concat(s));case 8:return t.next=10,e(u).then((function(e){return e.blob()}));case 10:return _=t.sent,l=URL.createObjectURL(_),t.next=14,A(l);case 14:return t.next=16,new Promise((function(t,n){var r,i=__webpack_require__.g.createLensesModule(r={mainScriptUrlOrBlob:l,instantiateWasm:function(o,a){WebAssembly.instantiateStreaming(e(c),o).then((function(e){var n=e.instance,o=e.module;a(n,o),r.compiledModule=o,t(i)})).catch(n)}})}));case 16:return E=t.sent,o.Fw!="".concat(E.getCoreVersion())&&ie.warn("Loaded LensCore version (".concat(E.getCoreVersion(),") differs from expected one (").concat(o.Fw,")")),t.abrupt("return",E);case 19:case"end":return t.stop()}}),t)})))}));function ce(e){return function(t){return t.name=e,t}}function _e(e,t){var n,r=le(t),i=(null!==(n=r.stack)&&void 0!==n?n:"").includes(r.message)?r.stack:"".concat(r.message,"\n").concat(r.stack);return e.stack="".concat(e.stack,"\nCaused by: ").concat(i),e.cause=r,e}function le(e){if(e instanceof Error)return e;try{return new Error("Non-Error type exception thrown. Serialized error value: ".concat(JSON.stringify(e)))}catch(t){return new Error("Non-Error type exception thrown. Original error value could not be serialized.")}}ce("WebGLError");new Map([[34,1],[134,2],[385,3],[783,4],[1484,5],[2313,6]]);ce("BenchmarkError");function Ee(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}__webpack_require__(121);var de=Symbol("validate"),fe={string:String,number:Number,boolean:Boolean},Ie={1:"st",2:"nd",3:"rd"};function pe(e){return function(t,n,r){var i=Reflect.getOwnMetadata(de,t,n)||[];i[r]=e,Reflect.defineMetadata(de,i,t,n)}}function Se(e,t,n){var o=n.value,a=Reflect.getMetadata("design:paramtypes",e,t),s=Reflect.getMetadata(de,e,t);n.value=function(){for(var n=arguments.length,u=new Array(n),c=0;c<n;c++)u[c]=arguments[c];var _,l,E=i(a.entries());try{for(E.s();!(l=E.n()).done;){var d=r(l.value,2),f=d[0],I=d[1],p=Array.isArray(u)&&u[f];if(s&&s[f]&&!s[f](p))throw new Error("Predicate exists but arg of ".concat(p," failed validation in method: ").concat(String(t)));if(void 0===p||null===p)break;if(!Te(p,I)){var S="".concat(he(e),".").concat(String(t),"()"),T=null!==(_=Ie[f+1])&&void 0!==_?_:"th";throw new Error("The ".concat(f+1).concat(T," argument to '").concat(S,"' method is of type ")+"'".concat(he(p),"', which is not assignable to parameter of type '").concat(I.name,"'"))}}}catch(h){E.e(h)}finally{E.f()}return o.apply(this,arguments)}}function Te(e,t){return e instanceof t||e!==Object(e)&&fe[typeof e]===t}function he(e){return"object"!==typeof e&&"function"!==typeof e?typeof e:null===e?"null":Object.getPrototypeOf(e)===Function.prototype&&/^class/.test(String(e))?"class":Symbol.toStringTag in e&&"string"===typeof e[Symbol.toStringTag]?e[Symbol.toStringTag]:"string"===typeof e.constructor.name&&""!==e.constructor.name?e.constructor.name:typeof e}var Ne=E("cameraKitServiceFetchHandler",[p,ne.token],(function(e,t){var n,r=e.apiToken;return new w(t).map((n=function(e){return e.append("x-snap-client-user-agent",_.userAgent),e.append("authorization","Bearer ".concat(r)),e},function(e){return function(t,r){var i=r&&r.headers?new Headers(r.headers):"string"===typeof t?new Headers:t.headers,o=n(i);return e(t,Object.assign(Object.assign({},r),{headers:o}))}})).handler})),ve=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Ae=function(){function e(t,n){D(this,e),this.fallbackSources=t,this.source=n}return b(e,[{key:"retrieveLenses",value:function(e){var t,n,r=e.groupId,i=e.lensId;return ve(this,void 0,void 0,h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(t=this.source)||void 0===t?void 0:t.isGroupOwner(r))){e.next=2;break}return e.abrupt("return",g(i)?this.source.getLensGroup(r):this.source.getLens(i,r).then((function(e){return[e]})));case 2:return e.abrupt("return",null===(n=this.fallbackSources)||void 0===n?void 0:n.retrieveLenses({groupId:r,lensId:i}));case 3:case"end":return e.stop()}}),e,this)})))}}],[{key:"empty",value:function(){return new e}}]),e}(),Oe=E("lensSources",(function(){return Ae.empty()}));function Re(e){throw new Error("Reached unreachable code at runtime.")}function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Assertion failed";if(!e)throw t instanceof Error?t:new Error(t)}function ye(e){return P(e)&&O(e.id)&&O(e.name)&&P(e.vendorData)&&L(O)(e.vendorData)&&("undefined"===typeof e.content||function(e){return P(e)&&O(e.iconUrlBolt)&&O(e.lnsSha256)&&O(e.lnsUrlBolt)&&P(e.preview)&&O(e.preview.imageUrl)}(e.content))}function ge(e){var t,n=e.id,r=e.name,i=e.content,o=e.vendorData,a=e.cameraFacingPreference;return Ce(U(null===i||void 0===i?void 0:i.iconUrlBolt),"Unsafe icon URL"),Ce(U(null===(t=null===i||void 0===i?void 0:i.preview)||void 0===t?void 0:t.imageUrl),"Unsafe preview URL"),{id:n,name:r,iconUrl:null===i||void 0===i?void 0:i.iconUrlBolt,preview:null===i||void 0===i?void 0:i.preview,vendorData:o,cameraFacingPreference:a}}var Pe=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},me="https://api-kit.snapchat.com/com.snap.camerakit.v3.Lenses";function Le(e){return e.headers.get("x-request-id")}function Ue(e,t,n){return Pe(this,void 0,void 0,h().mark((function r(){var i,o,a,s;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=[me,"groups",n,"lenses",t].join("/"),r.next=3,e(i,{credentials:"include"});case 3:return o=r.sent,r.next=6,o.json();case 6:if(a=r.sent,ye(s=a.lens)){r.next=10;break}throw new Error("Expected request to ".concat(i," to return a Lens. Got:\n\n").concat(JSON.stringify(a),' with request-id of "').concat(Le(o),'"'));case 10:return r.abrupt("return",s);case 11:case"end":return r.stop()}}),r)})))}function De(e,t){return Pe(this,void 0,void 0,h().mark((function n(){var r,i,o;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=[me,"groups",t].join("/"),n.next=3,e(r,{credentials:"include"});case 3:return i=n.sent,n.next=6,i.json();case 6:if(o=n.sent,P(a=o)&&O(a.id)&&Array.isArray(a.lenses)&&a.lenses.every(ye)){n.next=9;break}throw new Error("Expected request to ".concat(r," to return a LensGroup. Got:\n\n").concat(JSON.stringify(o),' with request-id of "').concat(Le(i),'"'));case 9:return n.abrupt("return",o.lenses);case 10:case"end":return n.stop()}var a}),n)})))}var Me=__webpack_require__(886),be=__webpack_require__.n(Me),we=__webpack_require__(987),ke=__webpack_require__.n(we);function Ge(){return{typeUrl:"",value:new Uint8Array}}var Fe=function(e,t){for(var n=e instanceof Me.Reader?e:new Me.Reader(e),r=void 0===t?n.len:n.pos+t,i=Ge();n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.typeUrl=n.string();break;case 2:i.value=n.bytes();break;default:n.skipType(7&o)}}return i},Ve=function(){if("undefined"!==typeof Ve)return Ve;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"}();Ve.atob;Ve.btoa;Me.util.Long!==we&&(Me.util.Long=we,(0,Me.configure)());var Be,He,xe;function We(e){switch(e){case 0:case"CAMERA_FACING_UNSET":return Be.CAMERA_FACING_UNSET;case 1:case"CAMERA_FACING_FRONT":return Be.CAMERA_FACING_FRONT;case 2:case"CAMERA_FACING_BACK":return Be.CAMERA_FACING_BACK;default:return Be.UNRECOGNIZED}}function Ke(e){switch(e){case 0:case"DEVICE_DEPENDENT_ASSET_UNSET":return He.DEVICE_DEPENDENT_ASSET_UNSET;case 1:case"ASSET":return He.ASSET;default:return He.UNRECOGNIZED}}function Ye(e){switch(e){case He.DEVICE_DEPENDENT_ASSET_UNSET:return 0;case He.ASSET:return 1;default:return 0}}function je(e){switch(e){case 0:case"PRELOAD_UNSET":return xe.PRELOAD_UNSET;case 1:case"ON_DEMAND":return xe.ON_DEMAND;case 2:case"REQUIRED":return xe.REQUIRED;default:return xe.UNRECOGNIZED}}function qe(e){switch(e){case xe.PRELOAD_UNSET:return 0;case xe.ON_DEMAND:return 1;case xe.REQUIRED:return 2;default:return 0}}function Ze(){return{id:"",name:"",vendorData:{},content:void 0,isThirdParty:!1,cameraFacingPreference:Be.CAMERA_FACING_UNSET,featureMetadata:[]}}!function(e){e.CAMERA_FACING_UNSET="CAMERA_FACING_UNSET",e.CAMERA_FACING_FRONT="CAMERA_FACING_FRONT",e.CAMERA_FACING_BACK="CAMERA_FACING_BACK",e.UNRECOGNIZED="UNRECOGNIZED"}(Be||(Be={})),function(e){e.DEVICE_DEPENDENT_ASSET_UNSET="DEVICE_DEPENDENT_ASSET_UNSET",e.ASSET="ASSET",e.UNRECOGNIZED="UNRECOGNIZED"}(He||(He={})),function(e){e.PRELOAD_UNSET="PRELOAD_UNSET",e.ON_DEMAND="ON_DEMAND",e.REQUIRED="REQUIRED",e.UNRECOGNIZED="UNRECOGNIZED"}(xe||(xe={}));var ze=function(e,t){for(var n=e instanceof Me.Reader?e:new Me.Reader(e),r=void 0===t?n.len:n.pos+t,i=Ze();n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.id=n.string();break;case 2:i.name=n.string();break;case 3:var a=Xe.decode(n,n.uint32());void 0!==a.value&&(i.vendorData[a.key]=a.value);break;case 4:i.content=Je.decode(n,n.uint32());break;case 5:i.isThirdParty=n.bool();break;case 6:i.cameraFacingPreference=We(n.int32());break;case 7:i.featureMetadata.push(Fe(n,n.uint32()));break;default:n.skipType(7&o)}}return i};var Xe={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t},decode:function(e,t){for(var n=e instanceof Me.Reader?e:new Me.Reader(e),r=void 0===t?n.len:n.pos+t,i={key:"",value:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.key=n.string();break;case 2:i.value=n.string();break;default:n.skipType(7&o)}}return i},fromJSON:function(e){return{key:rt(e.key)?String(e.key):"",value:rt(e.value)?String(e.value):""}},toJSON:function(e){var t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value),t},fromPartial:function(e){var t,n,r={key:"",value:""};return r.key=null!==(t=e.key)&&void 0!==t?t:"",r.value=null!==(n=e.value)&&void 0!==n?n:"",r}};var Je={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();""!==e.lnsUrl&&t.uint32(10).string(e.lnsUrl),""!==e.lnsSha256&&t.uint32(18).string(e.lnsSha256),""!==e.iconUrl&&t.uint32(26).string(e.iconUrl),void 0!==e.preview&&tt.encode(e.preview,t.uint32(34).fork()).ldelim();var n,o=i(e.assetManifest);try{for(o.s();!(n=o.n()).done;){var a=n.value;et.encode(a,t.uint32(42).fork()).ldelim()}}catch(s){o.e(s)}finally{o.f()}return""!==e.defaultHintId&&t.uint32(50).string(e.defaultHintId),Object.entries(e.hintTranslations).forEach((function(e){var n=r(e,2),i=n[0],o=n[1];Qe.encode({key:i,value:o},t.uint32(58).fork()).ldelim()})),""!==e.lnsUrlBolt&&t.uint32(66).string(e.lnsUrlBolt),""!==e.iconUrlBolt&&t.uint32(74).string(e.iconUrlBolt),t},decode:function(e,t){for(var n=e instanceof Me.Reader?e:new Me.Reader(e),r=void 0===t?n.len:n.pos+t,i={lnsUrl:"",lnsSha256:"",iconUrl:"",preview:void 0,assetManifest:[],defaultHintId:"",hintTranslations:{},lnsUrlBolt:"",iconUrlBolt:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.lnsUrl=n.string();break;case 2:i.lnsSha256=n.string();break;case 3:i.iconUrl=n.string();break;case 4:i.preview=tt.decode(n,n.uint32());break;case 5:i.assetManifest.push(et.decode(n,n.uint32()));break;case 6:i.defaultHintId=n.string();break;case 7:var a=Qe.decode(n,n.uint32());void 0!==a.value&&(i.hintTranslations[a.key]=a.value);break;case 8:i.lnsUrlBolt=n.string();break;case 9:i.iconUrlBolt=n.string();break;default:n.skipType(7&o)}}return i},fromJSON:function(e){return{lnsUrl:rt(e.lnsUrl)?String(e.lnsUrl):"",lnsSha256:rt(e.lnsSha256)?String(e.lnsSha256):"",iconUrl:rt(e.iconUrl)?String(e.iconUrl):"",preview:rt(e.preview)?tt.fromJSON(e.preview):void 0,assetManifest:Array.isArray(null===e||void 0===e?void 0:e.assetManifest)?e.assetManifest.map((function(e){return et.fromJSON(e)})):[],defaultHintId:rt(e.defaultHintId)?String(e.defaultHintId):"",hintTranslations:nt(e.hintTranslations)?Object.entries(e.hintTranslations).reduce((function(e,t){var n=r(t,2),i=n[0],o=n[1];return e[i]=String(o),e}),{}):{},lnsUrlBolt:rt(e.lnsUrlBolt)?String(e.lnsUrlBolt):"",iconUrlBolt:rt(e.iconUrlBolt)?String(e.iconUrlBolt):""}},toJSON:function(e){var t={};return void 0!==e.lnsUrl&&(t.lnsUrl=e.lnsUrl),void 0!==e.lnsSha256&&(t.lnsSha256=e.lnsSha256),void 0!==e.iconUrl&&(t.iconUrl=e.iconUrl),void 0!==e.preview&&(t.preview=e.preview?tt.toJSON(e.preview):void 0),e.assetManifest?t.assetManifest=e.assetManifest.map((function(e){return e?et.toJSON(e):void 0})):t.assetManifest=[],void 0!==e.defaultHintId&&(t.defaultHintId=e.defaultHintId),t.hintTranslations={},e.hintTranslations&&Object.entries(e.hintTranslations).forEach((function(e){var n=r(e,2),i=n[0],o=n[1];t.hintTranslations[i]=o})),void 0!==e.lnsUrlBolt&&(t.lnsUrlBolt=e.lnsUrlBolt),void 0!==e.iconUrlBolt&&(t.iconUrlBolt=e.iconUrlBolt),t},fromPartial:function(e){var t,n,i,o,a,s,u,c,_={lnsUrl:"",lnsSha256:"",iconUrl:"",preview:void 0,assetManifest:[],defaultHintId:"",hintTranslations:{},lnsUrlBolt:"",iconUrlBolt:""};return _.lnsUrl=null!==(t=e.lnsUrl)&&void 0!==t?t:"",_.lnsSha256=null!==(n=e.lnsSha256)&&void 0!==n?n:"",_.iconUrl=null!==(i=e.iconUrl)&&void 0!==i?i:"",_.preview=void 0!==e.preview&&null!==e.preview?tt.fromPartial(e.preview):void 0,_.assetManifest=(null===(o=e.assetManifest)||void 0===o?void 0:o.map((function(e){return et.fromPartial(e)})))||[],_.defaultHintId=null!==(a=e.defaultHintId)&&void 0!==a?a:"",_.hintTranslations=Object.entries(null!==(s=e.hintTranslations)&&void 0!==s?s:{}).reduce((function(e,t){var n=r(t,2),i=n[0],o=n[1];return void 0!==o&&(e[i]=String(o)),e}),{}),_.lnsUrlBolt=null!==(u=e.lnsUrlBolt)&&void 0!==u?u:"",_.iconUrlBolt=null!==(c=e.iconUrlBolt)&&void 0!==c?c:"",_}};var Qe={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t},decode:function(e,t){for(var n=e instanceof Me.Reader?e:new Me.Reader(e),r=void 0===t?n.len:n.pos+t,i={key:"",value:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.key=n.string();break;case 2:i.value=n.string();break;default:n.skipType(7&o)}}return i},fromJSON:function(e){return{key:rt(e.key)?String(e.key):"",value:rt(e.value)?String(e.value):""}},toJSON:function(e){var t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value),t},fromPartial:function(e){var t,n,r={key:"",value:""};return r.key=null!==(t=e.key)&&void 0!==t?t:"",r.value=null!==(n=e.value)&&void 0!==n?n:"",r}};function $e(){return{type:He.DEVICE_DEPENDENT_ASSET_UNSET,id:"",requestTiming:xe.PRELOAD_UNSET,assetUrl:"",assetChecksum:""}}var et={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return e.type!==He.DEVICE_DEPENDENT_ASSET_UNSET&&t.uint32(8).int32(Ye(e.type)),""!==e.id&&t.uint32(18).string(e.id),e.requestTiming!==xe.PRELOAD_UNSET&&t.uint32(24).int32(qe(e.requestTiming)),""!==e.assetUrl&&t.uint32(34).string(e.assetUrl),""!==e.assetChecksum&&t.uint32(42).string(e.assetChecksum),t},decode:function(e,t){for(var n=e instanceof Me.Reader?e:new Me.Reader(e),r=void 0===t?n.len:n.pos+t,i=$e();n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.type=Ke(n.int32());break;case 2:i.id=n.string();break;case 3:i.requestTiming=je(n.int32());break;case 4:i.assetUrl=n.string();break;case 5:i.assetChecksum=n.string();break;default:n.skipType(7&o)}}return i},fromJSON:function(e){return{type:rt(e.type)?Ke(e.type):He.DEVICE_DEPENDENT_ASSET_UNSET,id:rt(e.id)?String(e.id):"",requestTiming:rt(e.requestTiming)?je(e.requestTiming):xe.PRELOAD_UNSET,assetUrl:rt(e.assetUrl)?String(e.assetUrl):"",assetChecksum:rt(e.assetChecksum)?String(e.assetChecksum):""}},toJSON:function(e){var t={};return void 0!==e.type&&(t.type=function(e){switch(e){case He.DEVICE_DEPENDENT_ASSET_UNSET:return"DEVICE_DEPENDENT_ASSET_UNSET";case He.ASSET:return"ASSET";default:return"UNKNOWN"}}(e.type)),void 0!==e.id&&(t.id=e.id),void 0!==e.requestTiming&&(t.requestTiming=function(e){switch(e){case xe.PRELOAD_UNSET:return"PRELOAD_UNSET";case xe.ON_DEMAND:return"ON_DEMAND";case xe.REQUIRED:return"REQUIRED";default:return"UNKNOWN"}}(e.requestTiming)),void 0!==e.assetUrl&&(t.assetUrl=e.assetUrl),void 0!==e.assetChecksum&&(t.assetChecksum=e.assetChecksum),t},fromPartial:function(e){var t,n,r,i,o,a=$e();return a.type=null!==(t=e.type)&&void 0!==t?t:He.DEVICE_DEPENDENT_ASSET_UNSET,a.id=null!==(n=e.id)&&void 0!==n?n:"",a.requestTiming=null!==(r=e.requestTiming)&&void 0!==r?r:xe.PRELOAD_UNSET,a.assetUrl=null!==(i=e.assetUrl)&&void 0!==i?i:"",a.assetChecksum=null!==(o=e.assetChecksum)&&void 0!==o?o:"",a}};var tt={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return""!==e.imageUrl&&t.uint32(10).string(e.imageUrl),t},decode:function(e,t){for(var n=e instanceof Me.Reader?e:new Me.Reader(e),r=void 0===t?n.len:n.pos+t,i={imageUrl:""};n.pos<r;){var o=n.uint32();if(o>>>3===1)i.imageUrl=n.string();else n.skipType(7&o)}return i},fromJSON:function(e){return{imageUrl:rt(e.imageUrl)?String(e.imageUrl):""}},toJSON:function(e){var t={};return void 0!==e.imageUrl&&(t.imageUrl=e.imageUrl),t},fromPartial:function(e){var t,n={imageUrl:""};return n.imageUrl=null!==(t=e.imageUrl)&&void 0!==t?t:"",n}};function nt(e){return"object"===typeof e&&null!==e}function rt(e){return null!==e&&void 0!==e}Me.util.Long!==we&&(Me.util.Long=we,(0,Me.configure)());var it,ot;!function(e){e.UNSET="UNSET",e.SHOP_KIT="SHOP_KIT",e.UNRECOGNIZED="UNRECOGNIZED"}(it||(it={})),function(e){e.UNSET="UNSET",e.UNKNOWN="UNKNOWN",e.NOT_FOUND="NOT_FOUND",e.INCOMPATIBLE_LENS_CORE_VERSION="INCOMPATIBLE_LENS_CORE_VERSION",e.ARCHIVED_OR_INVISIBLE="ARCHIVED_OR_INVISIBLE",e.CONTAINS_MUSIC="CONTAINS_MUSIC",e.UNRECOGNIZED="UNRECOGNIZED"}(ot||(ot={}));var at=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return""!==e.userAgent&&t.uint32(10).string(e.userAgent),""!==e.locale&&t.uint32(18).string(e.locale),t};var st=function(e,t){for(var n=e instanceof Me.Reader?e:new Me.Reader(e),r=void 0===t?n.len:n.pos+t,i={lenses:[]};n.pos<r;){var o=n.uint32();if(o>>>3===1)i.lenses.push(ze(n,n.uint32()));else n.skipType(7&o)}return i},ut=function(){if("undefined"!==typeof ut)return ut;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"}();ut.atob;ut.btoa;function ct(e){return e.reduce((function(e,t){return[].concat(Ee(e),Ee(function(e){try{return st(new Uint8Array(e)).lenses}catch(t){throw new Error("Invalid lens envelope")}}(t)))}),[])}Me.util.Long!==we&&(Me.util.Long=we,(0,Me.configure)());var _t=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},lt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},Et=function(e,t){return function(n,r){t(n,r,e)}},dt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},ft=function(){function e(t,n){D(this,e),this.httpClient=t,this.lensSources=n,this.lensCache=new Map}return b(e,[{key:"loadLens",value:function(e,t){return dt(this,void 0,void 0,h().mark((function n(){var r,i;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.lensSources.retrieveLenses({lensId:e,groupId:t});case 2:if(!(r=n.sent)){n.next=9;break}if(i=ct(r)[0]){n.next=7;break}throw new Error("Expected non-empty envelope");case 7:n.next=12;break;case 9:return n.next=11,Ue(this.httpClient,e,t);case 11:i=n.sent;case 12:return this.lensCache.set(i.id,i),n.abrupt("return",ge(i));case 14:case"end":return n.stop()}}),n,this)})))}},{key:"loadLensGroups",value:function(e){return dt(this,void 0,void 0,h().mark((function t(){var n,r,i,o=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map((function(e){return dt(o,void 0,void 0,h().mark((function t(){var n,r,i=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.lensSources.retrieveLenses({groupId:e});case 3:if(!(n=t.sent)){t.next=8;break}t.t0=ct(n),t.next=11;break;case 8:return t.next=10,De(this.httpClient,e);case 10:t.t0=t.sent;case 11:return(r=t.t0).forEach((function(e){return i.lensCache.set(e.id,e)})),t.abrupt("return",r.map(ge));case 16:return t.prev=16,t.t1=t.catch(0),t.abrupt("return",t.t1);case 19:case"end":return t.stop()}}),t,this,[[0,16]])})))})));case 2:return n=t.sent,r=[],i=[],n.forEach((function(e){return Array.isArray(e)?i.push.apply(i,Ee(e)):r.push(e)})),t.abrupt("return",{errors:r,lenses:i});case 7:case"end":return t.stop()}}),t)})))}},{key:"getCachedLens",value:function(e){return this.lensCache.get(e)}}]),e}();_t([Se,Et(0,pe(R)),Et(1,pe(R)),lt("design:type",Function),lt("design:paramtypes",[String,String]),lt("design:returntype",Promise)],ft.prototype,"loadLens",null),_t([Se,Et(0,pe((function(e){return y(R,e)}))),lt("design:type",Function),lt("design:paramtypes",[Array]),lt("design:returntype",Promise)],ft.prototype,"loadLensGroups",null);var It=E("LensRepository",[Ne.token,Oe.token],(function(e,t){return new ft(e,t)}));function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(e){return"function"===typeof e&&"function"===typeof e.delegate}function Tt(e){var t,n=function(){return"undefined"!==typeof t?t:t=e.apply(void 0,arguments)};return n.delegate=e,n}var ht=function(e){return Object.entries(e)},Nt=function(){function e(t){D(this,e),this.injectables=t}return b(e,[{key:"provides",value:function(t){return new e(Object.assign(Object.assign({},this.injectables),pt({},t.token,t)))}},{key:"getFactories",value:function(e){return Object.fromEntries(ht(this.injectables).map((function(t){var n=r(t,2),i=n[0],o=n[1];return[i,Tt((function(t){return o.apply(void 0,Ee(o.dependencies.map((function(n){return n===i?e.get(n):t.get(n)}))))}))]})))}},{key:"getTokens",value:function(){return Object.keys(this.injectables)}}]),e}(),vt="$container",At=function(){function e(t){for(var n in D(this,e),this.factories={},t){var r=t[n];St(r)?this.factories[n]=r:this.factories[n]=Tt(r)}}return b(e,[{key:"copy",value:function(t){var n=this,r=Object.assign({},this.factories);return(t||[]).forEach((function(e){r[e]=n.factories[e].delegate})),new e(r)}},{key:"get",value:function(e){if(e===vt)return this;var t=this.factories[e];if(!t)throw new Error('[Container::get] Could not find Service for Token "'.concat(e,"\". This should've caused a ")+"compile-time error. If the Token is 'undefined', check all your calls to the Injectable function. Make sure you define dependencies using string literals or string constants that are definitely initialized before the call to Injectable.");return t(this)}},{key:"run",value:function(e){if(e instanceof Nt){var t,n=this.provides(e),r=i(e.getTokens());try{for(r.s();!(t=r.n()).done;){var o=t.value;n.get(o)}}catch(a){r.e(a)}finally{r.f()}}else this.provides(e).get(e.token);return this}},{key:"provides",value:function(e){return e instanceof Nt?this.providesContainer(e):this.providesService(e)}},{key:"providesContainer",value:function(t){var n=t.getFactories(this);return new e(Object.assign(Object.assign({},this.factories),n))}},{key:"providesService",value:function(t){var n=this,r=t.token,i=t.dependencies,o=Tt((function(e){return t.apply(void 0,Ee(i.map((function(t){return t===r?n.get(t):e.get(t)}))))}));return new e(Object.assign(Object.assign({},this.factories),pt({},r,o)))}}],[{key:"provides",value:function(t){return new e({}).provides(t)}}]),e}(),Ot=function(){return performance.now()};function Rt(e,t){return Rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rt(e,t)}function Ct(e){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ct(e)}function yt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function gt(e,t){if(t&&("object"===T(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Pt(e,t,n){return Pt=yt()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Rt(i,n.prototype),i},Pt.apply(null,arguments)}function mt(e){var t="function"===typeof Map?new Map:void 0;return mt=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Pt(e,arguments,Ct(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Rt(r,e)},mt(e)}var Lt,Ut=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rt(e,t)}(n,e);var t=function(e){var t=yt();return function(){var n,r=Ct(e);if(t){var i=Ct(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return gt(this,n)}}(n);function n(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return D(this,n),t.call(this,e,Object.assign(Object.assign({},i),{detail:r}))}return b(n)}(mt(CustomEvent)),Dt=function(){function e(){D(this,e),this.listeners=new Map,this.options=new Map}return b(e,[{key:"addEventListener",value:function(e,t,n){var r,i=t,o=null!==(r=this.listeners.get(e))&&void 0!==r?r:[];this.listeners.set(e,[].concat(Ee(o),[i])),n&&this.options.set(i,n)}},{key:"dispatchEvent",value:function(e){var t=this,n=this.listeners.get(e.type);return!n||(n.forEach((function(n){var r,i=null!==(r=t.options.get(n))&&void 0!==r?r:{};try{n(e)}catch(o){window&&window.dispatchEvent(new CustomEvent("error",{detail:o}))}i.once&&t.removeEventListener(e.type,n)})),!0)}},{key:"removeEventListener",value:function(e,t){var n=t,r=this.listeners.get(e);r&&(this.listeners.set(e,r.filter((function(e){return e!==n}))),this.options.delete(n))}}]),e}(),Mt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},bt=0,wt=function(e){if(null==e)return 0;var t=parseInt(e);return isNaN(t)?0:t},kt=new Dt,Gt=function(e){var t=Object.assign(Object.assign({},e),{requestId:bt++,timeMs:Ot()});return kt.dispatchEvent(new Ut("started",t)),t},Ft=function(e){var t=Object.assign(Object.assign({},e),{timeMs:Ot()});return kt.dispatchEvent(new Ut("completed",t)),t},Vt=function(e){var t=Object.assign(Object.assign({},e),{timeMs:Ot()});return kt.dispatchEvent(new Ut("errored",t)),t},Bt=E("LensContext",(function(){return{activeLens:void 0}})),Ht=E("sessionEventTarget",(function(){return new Dt})),xt=__webpack_require__(350),Wt=__webpack_require__(791),Kt=function(){return Kt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Kt.apply(this,arguments)};!function(e){e[e.UNKNOWN_BENCHMARK=0]="UNKNOWN_BENCHMARK",e[e.CPU_GFLOPS=1]="CPU_GFLOPS",e[e.GPU_GFLOPS=2]="GPU_GFLOPS",e[e.GPU_GFLOPS_VECTOR=3]="GPU_GFLOPS_VECTOR",e[e.GPU_SYSTEM_CAPABILITIES=4]="GPU_SYSTEM_CAPABILITIES",e[e.GPU_VERTEX_THROUGHPUT=5]="GPU_VERTEX_THROUGHPUT",e[e.GPU_SIMPLE_GEOMETRY_THROUGHPUT=6]="GPU_SIMPLE_GEOMETRY_THROUGHPUT",e[e.GPU_GAUSSIAN_BLUR=7]="GPU_GAUSSIAN_BLUR",e[e.CPU_MEMORY_THROUGHPUT=8]="CPU_MEMORY_THROUGHPUT",e[e.GPU_FILL_RATE=9]="GPU_FILL_RATE",e[e.MEM_TOTAL_MEMORY=10]="MEM_TOTAL_MEMORY",e[e.CPU_NUM_PROCESSORS=11]="CPU_NUM_PROCESSORS",e[e.DEVICE_INFORMATION_CHIPSET=12]="DEVICE_INFORMATION_CHIPSET",e[e.DEVICE_INFORMATION_BUILD_HARDWARE=13]="DEVICE_INFORMATION_BUILD_HARDWARE",e[e.DEVICE_INFORMATION_BUILD_BRAND=14]="DEVICE_INFORMATION_BUILD_BRAND",e[e.DEVICE_INFORMATION_BUILD_MANUFACTURER=15]="DEVICE_INFORMATION_BUILD_MANUFACTURER",e[e.DEVICE_INFORMATION_BUILD_MODEL=16]="DEVICE_INFORMATION_BUILD_MODEL",e[e.DEVICE_INFORMATION_SCREEN_PROPERTIES=17]="DEVICE_INFORMATION_SCREEN_PROPERTIES",e[e.DEVICE_INFORMATION_CODEC_CAPABILITES=18]="DEVICE_INFORMATION_CODEC_CAPABILITES",e[e.CPU_PRIME_KOTLIN=19]="CPU_PRIME_KOTLIN",e[e.CPU_PRIME_NATIVE=20]="CPU_PRIME_NATIVE",e[e.CPU_SQRT_KOTLIN=21]="CPU_SQRT_KOTLIN",e[e.CPU_SQRT_NATIVE=22]="CPU_SQRT_NATIVE",e[e.CPU_INT_MATH_KOTLIN=23]="CPU_INT_MATH_KOTLIN",e[e.CPU_INT_MATH_NATIVE=24]="CPU_INT_MATH_NATIVE",e[e.DEVICE_INFORMATION_GL_VERSION=25]="DEVICE_INFORMATION_GL_VERSION",e[e.DEVICE_INFORMATION_GLSL_VERSION=26]="DEVICE_INFORMATION_GLSL_VERSION",e[e.DEVICE_INFORMATION_OPENCL_EXISTS=27]="DEVICE_INFORMATION_OPENCL_EXISTS",e[e.DEVICE_INFORMATION_IS_HOST_UNIFIED_MEMORY=28]="DEVICE_INFORMATION_IS_HOST_UNIFIED_MEMORY",e[e.DEVICE_INFORMATION_OPENCL_VERSION=29]="DEVICE_INFORMATION_OPENCL_VERSION",e[e.DEVICE_INFORMATION_TIMING_RESOLUTION_NS=30]="DEVICE_INFORMATION_TIMING_RESOLUTION_NS",e[e.DEVICE_INFORMATION_ADDRESS_SIZE=31]="DEVICE_INFORMATION_ADDRESS_SIZE",e[e.DEVICE_INFORMATION_GPU_MAX_CLOCK_FREQUENCY_MHZ=32]="DEVICE_INFORMATION_GPU_MAX_CLOCK_FREQUENCY_MHZ",e[e.DEVICE_INFORMATION_COMPUTE_UNITS=33]="DEVICE_INFORMATION_COMPUTE_UNITS",e[e.DEVICE_INFORMATION_MAX_WORKGROUP_SIZE=34]="DEVICE_INFORMATION_MAX_WORKGROUP_SIZE",e[e.DEVICE_INFORMATION_LOCAL_MEMORY_IS_LOCAL=35]="DEVICE_INFORMATION_LOCAL_MEMORY_IS_LOCAL",e[e.DEVICE_INFORMATION_LOCAL_MEMORY_SIZE=36]="DEVICE_INFORMATION_LOCAL_MEMORY_SIZE",e[e.DEVICE_INFORMATION_GLOBAL_MEMORY_CACHE_SIZE=37]="DEVICE_INFORMATION_GLOBAL_MEMORY_CACHE_SIZE",e[e.DEVICE_INFORMATION_GLOBAL_MEMORY_CACHELINE_SIZE=38]="DEVICE_INFORMATION_GLOBAL_MEMORY_CACHELINE_SIZE",e[e.DEVICE_INFORMATION_GL_HAS_FENCE_SYNC_OBJECT=39]="DEVICE_INFORMATION_GL_HAS_FENCE_SYNC_OBJECT",e[e.DEVICE_INFORMATION_HEXAGON_NN_LIBRARY_VERSION=40]="DEVICE_INFORMATION_HEXAGON_NN_LIBRARY_VERSION",e[e.GPU_GFLOPS_V2=41]="GPU_GFLOPS_V2",e[e.GPU_GFLOPS_VECTOR_V2=42]="GPU_GFLOPS_VECTOR_V2",e[e.DEVICE_INFORMATION_GPU_MODEL=43]="DEVICE_INFORMATION_GPU_MODEL",e[e.DEVICE_INFORMATION_CODEC_CAPABILITES_V2=44]="DEVICE_INFORMATION_CODEC_CAPABILITES_V2",e[e.DEVICE_INFORMATION_MEDIA_PERFORMANCE_CLASS=45]="DEVICE_INFORMATION_MEDIA_PERFORMANCE_CLASS",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Lt||(Lt={})),be().util.Long!==ke()&&(be().util.Long=ke(),be().configure());var Yt={seconds:0,nanos:0},jt=function(e,t){for(var n=e instanceof be().Reader?e:new(be().Reader)(e),r=void 0===t?n.len:n.pos+t,i=Kt({},Yt);n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.seconds=Zt(n.int64());break;case 2:i.nanos=n.int32();break;default:n.skipType(7&o)}}return i},qt=function(){if("undefined"!==typeof qt)return qt;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"}();function Zt(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new qt.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}be().util.Long!==ke()&&(be().util.Long=ke(),be().configure());var zt,Xt={},Jt=function(e,t){return void 0===t&&(t=be().Writer.create()),void 0!==e.intValue&&t.uint32(8).int32(e.intValue),void 0!==e.longValue&&t.uint32(16).int64(e.longValue),void 0!==e.boolValue&&t.uint32(24).bool(e.boolValue),void 0!==e.floatValue&&t.uint32(37).float(e.floatValue),t},Qt=function(e){var t=Kt({},Xt);return void 0!==e.intValue&&null!==e.intValue?t.intValue=e.intValue:t.intValue=void 0,void 0!==e.longValue&&null!==e.longValue?t.longValue=e.longValue:t.longValue=void 0,void 0!==e.boolValue&&null!==e.boolValue?t.boolValue=e.boolValue:t.boolValue=void 0,void 0!==e.floatValue&&null!==e.floatValue?t.floatValue=e.floatValue:t.floatValue=void 0,t},$t={benchmarkNames:0},en=function(e,t){var n=e instanceof be().Reader?e:new(be().Reader)(e),r=void 0===t?n.len:n.pos+t,i=Kt({},$t);for(i.benchmarkNames=[];n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:if(2===(7&o))for(var a=n.uint32()+n.pos;n.pos<a;)i.benchmarkNames.push(n.int32());else i.benchmarkNames.push(n.int32());break;case 2:i.expirationTimestamp=an(jt(n,n.uint32()));break;default:n.skipType(7&o)}}return i},tn={name:0},nn=function(e,t){return void 0===t&&(t=be().Writer.create()),0!==e.name&&t.uint32(8).int32(e.name),void 0!==e.value&&Jt(e.value,t.uint32(18).fork()).ldelim(),t},rn=function(e){var t=Kt({},tn);return void 0!==e.name&&null!==e.name?t.name=e.name:t.name=0,void 0!==e.value&&null!==e.value?t.value=Qt(e.value):t.value=void 0,t},on=function(){if("undefined"!==typeof on)return on;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"}();function an(e){var t=1e3*e.seconds;return t+=e.nanos/1e6,new Date(t)}be().util.Long!==ke()&&(be().util.Long=ke(),be().configure()),function(e){e[e.UNSET=0]="UNSET",e[e.USER=1]="USER",e[e.DEVICE=2]="DEVICE",e[e.WEB_CLIENT=3]="WEB_CLIENT",e[e.AD_ACCOUNT=4]="AD_ACCOUNT",e[e.USERNAME=5]="USERNAME",e[e.AD_MODERATION_AD=6]="AD_MODERATION_AD",e[e.WEB_SNAPCHAT_USER=7]="WEB_SNAPCHAT_USER",e[e.INTERNAL=8]="INTERNAL",e[e.AM_ORGANIZATION=9]="AM_ORGANIZATION",e[e.AM_MEMBER=10]="AM_MEMBER",e[e.AM_SESSION=11]="AM_SESSION",e[e.AM_PROFILE=12]="AM_PROFILE",e[e.AM_SNAPCHAT_USER=13]="AM_SNAPCHAT_USER",e[e.SNAPCHAT_ADVERTISING=14]="SNAPCHAT_ADVERTISING",e[e.AM_CLIENT=15]="AM_CLIENT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(zt||(zt={}));var sn={type:0,stringValue:"",loggingIdValue:""},un=function(e,t){return void 0===t&&(t=be().Writer.create()),0!==e.type&&t.uint32(8).int32(e.type),""!==e.stringValue&&t.uint32(18).string(e.stringValue),""!==e.loggingIdValue&&t.uint32(26).string(e.loggingIdValue),t},cn=function(e){var t=Kt({},sn);return void 0!==e.type&&null!==e.type?t.type=e.type:t.type=0,void 0!==e.stringValue&&null!==e.stringValue?t.stringValue=e.stringValue:t.stringValue="",void 0!==e.loggingIdValue&&null!==e.loggingIdValue?t.loggingIdValue=e.loggingIdValue:t.loggingIdValue="",t};be().util.Long!==ke()&&(be().util.Long=ke(),be().configure());var _n,ln,En,dn,fn={value:!1},In=function(e,t){return void 0===t&&(t=be().Writer.create()),!0===e.value&&t.uint32(8).bool(e.value),t},pn=function(e,t){for(var n=e instanceof be().Reader?e:new(be().Reader)(e),r=void 0===t?n.len:n.pos+t,i=Kt({},fn);n.pos<r;){var o=n.uint32();if(o>>>3===1)i.value=n.bool();else n.skipType(7&o)}return i},Sn=function(){if("undefined"!==typeof Sn)return Sn;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"}();be().util.Long!==ke()&&(be().util.Long=ke(),be().configure()),function(e){e[e.UNKNOWN_EVENT_TYPE=0]="UNKNOWN_EVENT_TYPE",e[e.COLD_START=1]="COLD_START",e[e.WARM_START=2]="WARM_START",e[e.FOREGROUND_TRIGGER=3]="FOREGROUND_TRIGGER",e[e.BACKGROUND_TRIGGER=4]="BACKGROUND_TRIGGER",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(_n||(_n={})),function(e){e[e.UNKNOWN_APP_STATE=0]="UNKNOWN_APP_STATE",e[e.FOREGROUND=1]="FOREGROUND",e[e.BACKGROUND=2]="BACKGROUND",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(ln||(ln={})),function(e){e[e.DEFAULT_INSTRUMENTATION=0]="DEFAULT_INSTRUMENTATION",e[e.USER_AUTHENTICATION=1]="USER_AUTHENTICATION",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(En||(En={})),function(e){e[e.UNKNOWN_NETWORK_TYPE=0]="UNKNOWN_NETWORK_TYPE",e[e.CELLULAR=1]="CELLULAR",e[e.WIFI=2]="WIFI",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(dn||(dn={}));var Tn={configResultsEtag:"",namespaces:0,ghostId:"",countryCode:"",screenWidth:0,screenHeight:0,maxVideoWidthPx:0,maxVideoHeightPx:0,deltaSync:!1,userAgent:"",triggerEventType:0,appState:0,locale:"",deviceId:"",userId:"",clientIp:"",isUnAuthorized:!1,appLocale:"",instrumentation:0,lastSuccessfulSync:0,isLogout:!1,packageInstaller:"",syncTriggerBlizzardSessionId:"",syncExecutionBlizzardSessionId:"",cofSyncTriggerDelayFromStartupMs:0,cofSyncExecutionDelayFromStartupMs:0,syncTriggerTime:0,snapkitAppId:"",lenscoreVersion:0,configNames:"",includeTestUserTreatments:!1,disableExposureLogging:!1,lensClusterOrig4:0},hn=function(e,t){void 0===t&&(t=be().Writer.create()),""!==e.configResultsEtag&&t.uint32(10).string(e.configResultsEtag),t.uint32(18).fork();for(var n=0,r=e.namespaces;n<r.length;n++){var i=r[n];t.int32(i)}t.ldelim(),""!==e.ghostId&&t.uint32(26).string(e.ghostId),""!==e.countryCode&&t.uint32(34).string(e.countryCode),0!==e.screenWidth&&t.uint32(40).int32(e.screenWidth),0!==e.screenHeight&&t.uint32(48).int32(e.screenHeight),void 0!==e.connectivity&&An.encode(e.connectivity,t.uint32(58).fork()).ldelim(),0!==e.maxVideoWidthPx&&t.uint32(64).int32(e.maxVideoWidthPx),0!==e.maxVideoHeightPx&&t.uint32(72).int32(e.maxVideoHeightPx);for(var o=0,a=e.benchmarkResults;o<a.length;o++){i=a[o];nn(i,t.uint32(82).fork()).ldelim()}!0===e.deltaSync&&t.uint32(88).bool(e.deltaSync),""!==e.userAgent&&t.uint32(98).string(e.userAgent),0!==e.triggerEventType&&t.uint32(104).int32(e.triggerEventType),0!==e.appState&&t.uint32(112).int32(e.appState),""!==e.locale&&t.uint32(122).string(e.locale),""!==e.deviceId&&t.uint32(130).string(e.deviceId),""!==e.userId&&t.uint32(138).string(e.userId),""!==e.clientIp&&t.uint32(146).string(e.clientIp),!0===e.isUnAuthorized&&t.uint32(152).bool(e.isUnAuthorized),""!==e.appLocale&&t.uint32(162).string(e.appLocale),0!==e.instrumentation&&t.uint32(168).int32(e.instrumentation),0!==e.lastSuccessfulSync&&t.uint32(176).int64(e.lastSuccessfulSync),!0===e.isLogout&&t.uint32(184).bool(e.isLogout),""!==e.packageInstaller&&t.uint32(194).string(e.packageInstaller),""!==e.syncTriggerBlizzardSessionId&&t.uint32(202).string(e.syncTriggerBlizzardSessionId),""!==e.syncExecutionBlizzardSessionId&&t.uint32(210).string(e.syncExecutionBlizzardSessionId),0!==e.cofSyncTriggerDelayFromStartupMs&&t.uint32(216).int32(e.cofSyncTriggerDelayFromStartupMs),0!==e.cofSyncExecutionDelayFromStartupMs&&t.uint32(224).int32(e.cofSyncExecutionDelayFromStartupMs),0!==e.syncTriggerTime&&t.uint32(232).int64(e.syncTriggerTime),void 0!==e.decoderEncoderAvailability&&Rn.encode(e.decoderEncoderAvailability,t.uint32(242).fork()).ldelim(),""!==e.snapkitAppId&&t.uint32(250).string(e.snapkitAppId),0!==e.lenscoreVersion&&t.uint32(256).int32(e.lenscoreVersion),void 0!==e.ruid&&un(e.ruid,t.uint32(266).fork()).ldelim();for(var s=0,u=e.configNames;s<u.length;s++){i=u[s];t.uint32(274).string(i)}return!0===e.includeTestUserTreatments&&t.uint32(288).bool(e.includeTestUserTreatments),!0===e.disableExposureLogging&&t.uint32(296).bool(e.disableExposureLogging),0!==e.lensClusterOrig4&&t.uint32(304).int32(e.lensClusterOrig4),t},Nn=function(e){var t=Kt({},Tn);if(t.namespaces=[],t.benchmarkResults=[],t.configNames=[],void 0!==e.configResultsEtag&&null!==e.configResultsEtag?t.configResultsEtag=e.configResultsEtag:t.configResultsEtag="",void 0!==e.namespaces&&null!==e.namespaces)for(var n=0,r=e.namespaces;n<r.length;n++){var i=r[n];t.namespaces.push(i)}if(void 0!==e.ghostId&&null!==e.ghostId?t.ghostId=e.ghostId:t.ghostId="",void 0!==e.countryCode&&null!==e.countryCode?t.countryCode=e.countryCode:t.countryCode="",void 0!==e.screenWidth&&null!==e.screenWidth?t.screenWidth=e.screenWidth:t.screenWidth=0,void 0!==e.screenHeight&&null!==e.screenHeight?t.screenHeight=e.screenHeight:t.screenHeight=0,void 0!==e.connectivity&&null!==e.connectivity?t.connectivity=An.fromPartial(e.connectivity):t.connectivity=void 0,void 0!==e.maxVideoWidthPx&&null!==e.maxVideoWidthPx?t.maxVideoWidthPx=e.maxVideoWidthPx:t.maxVideoWidthPx=0,void 0!==e.maxVideoHeightPx&&null!==e.maxVideoHeightPx?t.maxVideoHeightPx=e.maxVideoHeightPx:t.maxVideoHeightPx=0,void 0!==e.benchmarkResults&&null!==e.benchmarkResults)for(var o=0,a=e.benchmarkResults;o<a.length;o++){i=a[o];t.benchmarkResults.push(rn(i))}if(void 0!==e.deltaSync&&null!==e.deltaSync?t.deltaSync=e.deltaSync:t.deltaSync=!1,void 0!==e.userAgent&&null!==e.userAgent?t.userAgent=e.userAgent:t.userAgent="",void 0!==e.triggerEventType&&null!==e.triggerEventType?t.triggerEventType=e.triggerEventType:t.triggerEventType=0,void 0!==e.appState&&null!==e.appState?t.appState=e.appState:t.appState=0,void 0!==e.locale&&null!==e.locale?t.locale=e.locale:t.locale="",void 0!==e.deviceId&&null!==e.deviceId?t.deviceId=e.deviceId:t.deviceId="",void 0!==e.userId&&null!==e.userId?t.userId=e.userId:t.userId="",void 0!==e.clientIp&&null!==e.clientIp?t.clientIp=e.clientIp:t.clientIp="",void 0!==e.isUnAuthorized&&null!==e.isUnAuthorized?t.isUnAuthorized=e.isUnAuthorized:t.isUnAuthorized=!1,void 0!==e.appLocale&&null!==e.appLocale?t.appLocale=e.appLocale:t.appLocale="",void 0!==e.instrumentation&&null!==e.instrumentation?t.instrumentation=e.instrumentation:t.instrumentation=0,void 0!==e.lastSuccessfulSync&&null!==e.lastSuccessfulSync?t.lastSuccessfulSync=e.lastSuccessfulSync:t.lastSuccessfulSync=0,void 0!==e.isLogout&&null!==e.isLogout?t.isLogout=e.isLogout:t.isLogout=!1,void 0!==e.packageInstaller&&null!==e.packageInstaller?t.packageInstaller=e.packageInstaller:t.packageInstaller="",void 0!==e.syncTriggerBlizzardSessionId&&null!==e.syncTriggerBlizzardSessionId?t.syncTriggerBlizzardSessionId=e.syncTriggerBlizzardSessionId:t.syncTriggerBlizzardSessionId="",void 0!==e.syncExecutionBlizzardSessionId&&null!==e.syncExecutionBlizzardSessionId?t.syncExecutionBlizzardSessionId=e.syncExecutionBlizzardSessionId:t.syncExecutionBlizzardSessionId="",void 0!==e.cofSyncTriggerDelayFromStartupMs&&null!==e.cofSyncTriggerDelayFromStartupMs?t.cofSyncTriggerDelayFromStartupMs=e.cofSyncTriggerDelayFromStartupMs:t.cofSyncTriggerDelayFromStartupMs=0,void 0!==e.cofSyncExecutionDelayFromStartupMs&&null!==e.cofSyncExecutionDelayFromStartupMs?t.cofSyncExecutionDelayFromStartupMs=e.cofSyncExecutionDelayFromStartupMs:t.cofSyncExecutionDelayFromStartupMs=0,void 0!==e.syncTriggerTime&&null!==e.syncTriggerTime?t.syncTriggerTime=e.syncTriggerTime:t.syncTriggerTime=0,void 0!==e.decoderEncoderAvailability&&null!==e.decoderEncoderAvailability?t.decoderEncoderAvailability=Rn.fromPartial(e.decoderEncoderAvailability):t.decoderEncoderAvailability=void 0,void 0!==e.snapkitAppId&&null!==e.snapkitAppId?t.snapkitAppId=e.snapkitAppId:t.snapkitAppId="",void 0!==e.lenscoreVersion&&null!==e.lenscoreVersion?t.lenscoreVersion=e.lenscoreVersion:t.lenscoreVersion=0,void 0!==e.ruid&&null!==e.ruid?t.ruid=cn(e.ruid):t.ruid=void 0,void 0!==e.configNames&&null!==e.configNames)for(var s=0,u=e.configNames;s<u.length;s++){i=u[s];t.configNames.push(i)}return void 0!==e.includeTestUserTreatments&&null!==e.includeTestUserTreatments?t.includeTestUserTreatments=e.includeTestUserTreatments:t.includeTestUserTreatments=!1,void 0!==e.disableExposureLogging&&null!==e.disableExposureLogging?t.disableExposureLogging=e.disableExposureLogging:t.disableExposureLogging=!1,void 0!==e.lensClusterOrig4&&null!==e.lensClusterOrig4?t.lensClusterOrig4=e.lensClusterOrig4:t.lensClusterOrig4=0,t},vn={networkType:0,carrier:""},An={encode:function(e,t){return void 0===t&&(t=be().Writer.create()),0!==e.networkType&&t.uint32(8).int32(e.networkType),void 0!==e.isMetered&&In({value:e.isMetered},t.uint32(18).fork()).ldelim(),void 0!==e.isRoaming&&In({value:e.isRoaming},t.uint32(26).fork()).ldelim(),""!==e.carrier&&t.uint32(34).string(e.carrier),t},decode:function(e,t){for(var n=e instanceof be().Reader?e:new(be().Reader)(e),r=void 0===t?n.len:n.pos+t,i=Kt({},vn);n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.networkType=n.int32();break;case 2:i.isMetered=pn(n,n.uint32()).value;break;case 3:i.isRoaming=pn(n,n.uint32()).value;break;case 4:i.carrier=n.string();break;default:n.skipType(7&o)}}return i},fromPartial:function(e){var t=Kt({},vn);return void 0!==e.networkType&&null!==e.networkType?t.networkType=e.networkType:t.networkType=0,void 0!==e.isMetered&&null!==e.isMetered?t.isMetered=e.isMetered:t.isMetered=void 0,void 0!==e.isRoaming&&null!==e.isRoaming?t.isRoaming=e.isRoaming:t.isRoaming=void 0,void 0!==e.carrier&&null!==e.carrier?t.carrier=e.carrier:t.carrier="",t}},On={isSnapVp9DecoderAvailable:!1,isSnapAv1DecoderAvailable:!1},Rn={encode:function(e,t){return void 0===t&&(t=be().Writer.create()),!0===e.isSnapVp9DecoderAvailable&&t.uint32(8).bool(e.isSnapVp9DecoderAvailable),!0===e.isSnapAv1DecoderAvailable&&t.uint32(16).bool(e.isSnapAv1DecoderAvailable),t},decode:function(e,t){for(var n=e instanceof be().Reader?e:new(be().Reader)(e),r=void 0===t?n.len:n.pos+t,i=Kt({},On);n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.isSnapVp9DecoderAvailable=n.bool();break;case 2:i.isSnapAv1DecoderAvailable=n.bool();break;default:n.skipType(7&o)}}return i},fromPartial:function(e){var t=Kt({},On);return void 0!==e.isSnapVp9DecoderAvailable&&null!==e.isSnapVp9DecoderAvailable?t.isSnapVp9DecoderAvailable=e.isSnapVp9DecoderAvailable:t.isSnapVp9DecoderAvailable=!1,void 0!==e.isSnapAv1DecoderAvailable&&null!==e.isSnapAv1DecoderAvailable?t.isSnapAv1DecoderAvailable=e.isSnapAv1DecoderAvailable:t.isSnapAv1DecoderAvailable=!1,t}},Cn=function(){if("undefined"!==typeof Cn)return Cn;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"}();be().util.Long!==ke()&&(be().util.Long=ke(),be().configure());var yn={typeUrl:""},gn=function(e,t){return void 0===t&&(t=be().Writer.create()),""!==e.typeUrl&&t.uint32(10).string(e.typeUrl),0!==e.value.length&&t.uint32(18).bytes(e.value),t},Pn=function(e,t){var n=e instanceof be().Reader?e:new(be().Reader)(e),r=void 0===t?n.len:n.pos+t,i=Kt({},yn);for(i.value=new Uint8Array;n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.typeUrl=n.string();break;case 2:i.value=n.bytes();break;default:n.skipType(7&o)}}return i},mn=function(e){var t=Kt({},yn);return void 0!==e.typeUrl&&null!==e.typeUrl?t.typeUrl=e.typeUrl:t.typeUrl="",void 0!==e.value&&null!==e.value?t.value=e.value:t.value=new Uint8Array,t};be().util.Long!==ke()&&(be().util.Long=ke(),be().configure());var Ln,Un,Dn,Mn,bn,wn={key:"",value:""},kn=function(e,t){return void 0===t&&(t=be().Writer.create()),""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t},Gn=function(e,t){for(var n=e instanceof be().Reader?e:new(be().Reader)(e),r=void 0===t?n.len:n.pos+t,i=Kt({},wn);n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.key=n.string();break;case 2:i.value=n.string();break;default:n.skipType(7&o)}}return i},Fn=function(e){var t=Kt({},wn);return void 0!==e.key&&null!==e.key?t.key=e.key:t.key="",void 0!==e.value&&null!==e.value?t.value=e.value:t.value="",t},Vn={},Bn=function(e,t){void 0===t&&(t=be().Writer.create());for(var n=0,r=e.records;n<r.length;n++){var i=r[n];kn(i,t.uint32(10).fork()).ldelim()}return t},Hn=function(e,t){var n=e instanceof be().Reader?e:new(be().Reader)(e),r=void 0===t?n.len:n.pos+t,i=Kt({},Vn);for(i.records=[];n.pos<r;){var o=n.uint32();if(o>>>3===1)i.records.push(Gn(n,n.uint32()));else n.skipType(7&o)}return i},xn=function(e){var t=Kt({},Vn);if(t.records=[],void 0!==e.records&&null!==e.records)for(var n=0,r=e.records;n<r.length;n++){var i=r[n];t.records.push(Fn(i))}return t},Wn={},Kn=function(e,t){return void 0===t&&(t=be().Writer.create()),void 0!==e.intValue&&t.uint32(8).int32(e.intValue),void 0!==e.longValue&&t.uint32(16).int64(e.longValue),void 0!==e.floatValue&&t.uint32(29).float(e.floatValue),void 0!==e.doubleValue&&t.uint32(73).double(e.doubleValue),void 0!==e.boolValue&&t.uint32(32).bool(e.boolValue),void 0!==e.stringValue&&t.uint32(42).string(e.stringValue),void 0!==e.anyValue&&gn(e.anyValue,t.uint32(50).fork()).ldelim(),void 0!==e.mapValue&&Bn(e.mapValue,t.uint32(58).fork()).ldelim(),void 0!==e.intPairValue&&t.uint32(65).fixed64(e.intPairValue),t},Yn=function(e,t){for(var n=e instanceof be().Reader?e:new(be().Reader)(e),r=void 0===t?n.len:n.pos+t,i=Kt({},Wn);n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.intValue=n.int32();break;case 2:i.longValue=Zn(n.int64());break;case 3:i.floatValue=n.float();break;case 9:i.doubleValue=n.double();break;case 4:i.boolValue=n.bool();break;case 5:i.stringValue=n.string();break;case 6:i.anyValue=Pn(n,n.uint32());break;case 7:i.mapValue=Hn(n,n.uint32());break;case 8:i.intPairValue=Zn(n.fixed64());break;default:n.skipType(7&o)}}return i},jn=function(e){var t=Kt({},Wn);return void 0!==e.intValue&&null!==e.intValue?t.intValue=e.intValue:t.intValue=void 0,void 0!==e.longValue&&null!==e.longValue?t.longValue=e.longValue:t.longValue=void 0,void 0!==e.floatValue&&null!==e.floatValue?t.floatValue=e.floatValue:t.floatValue=void 0,void 0!==e.doubleValue&&null!==e.doubleValue?t.doubleValue=e.doubleValue:t.doubleValue=void 0,void 0!==e.boolValue&&null!==e.boolValue?t.boolValue=e.boolValue:t.boolValue=void 0,void 0!==e.stringValue&&null!==e.stringValue?t.stringValue=e.stringValue:t.stringValue=void 0,void 0!==e.anyValue&&null!==e.anyValue?t.anyValue=mn(e.anyValue):t.anyValue=void 0,void 0!==e.mapValue&&null!==e.mapValue?t.mapValue=xn(e.mapValue):t.mapValue=void 0,void 0!==e.intPairValue&&null!==e.intPairValue?t.intPairValue=e.intPairValue:t.intPairValue=void 0,t},qn=function(){if("undefined"!==typeof qn)return qn;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"}();function Zn(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new qn.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}be().util.Long!==ke()&&(be().util.Long=ke(),be().configure()),function(e){e[e.UNKNOWN_CONTEXT_PLATFORM=0]="UNKNOWN_CONTEXT_PLATFORM",e[e.IOS_PLATFORM=1]="IOS_PLATFORM",e[e.ANDROID_PLATFORM=2]="ANDROID_PLATFORM",e[e.SERVER_PLATFORM=3]="SERVER_PLATFORM",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Ln||(Ln={})),function(e){e[e.UNKNOWN_OPERATOR=0]="UNKNOWN_OPERATOR",e[e.AND=1]="AND",e[e.OR=2]="OR",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Un||(Un={})),function(e){e[e.UNKNOWN_PREDICATE_OPERATOR=0]="UNKNOWN_PREDICATE_OPERATOR",e[e.EQUAL=1]="EQUAL",e[e.NOT_EQUAL=2]="NOT_EQUAL",e[e.GREATER_THAN_OR_EQUAL_TO=3]="GREATER_THAN_OR_EQUAL_TO",e[e.LESS_THAN_OR_EQUAL_TO=4]="LESS_THAN_OR_EQUAL_TO",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Dn||(Dn={})),function(e){e[e.UNKNOWN_PROPERTY=0]="UNKNOWN_PROPERTY",e[e.BATTERY_LEVEL=1]="BATTERY_LEVEL",e[e.IS_OFFLINE=2]="IS_OFFLINE",e[e.IS_CHARGING=3]="IS_CHARGING",e[e.BANDWIDTH=4]="BANDWIDTH",e[e.DISK_SIZE=5]="DISK_SIZE",e[e.DISK_AVAILABLE=6]="DISK_AVAILABLE",e[e.MEDIA_TYPE_DEPRECATED=7]="MEDIA_TYPE_DEPRECATED",e[e.IS_PUBLIC_STORY=8]="IS_PUBLIC_STORY",e[e.IS_OFFICIAL_STORY=9]="IS_OFFICIAL_STORY",e[e.CAMERA_DIRECTION=10]="CAMERA_DIRECTION",e[e.CAMERA_CONTEXT=11]="CAMERA_CONTEXT",e[e.CAMERA_API=12]="CAMERA_API",e[e.CAMERA_FLASH_STATE=13]="CAMERA_FLASH_STATE",e[e.SNAP_SOURCE=14]="SNAP_SOURCE",e[e.LEGACY_MUSHROOM_CONTENT_TYPE=15]="LEGACY_MUSHROOM_CONTENT_TYPE",e[e.UPLOAD_BANDWIDTH=16]="UPLOAD_BANDWIDTH",e[e.CAMERA2_LEVEL=17]="CAMERA2_LEVEL",e[e.CAMERA_NIGHT_MODE_STATE=18]="CAMERA_NIGHT_MODE_STATE",e[e.USER_LANGUAGE=19]="USER_LANGUAGE",e[e.VIDEO_DURATION=20]="VIDEO_DURATION",e[e.REALTIME_MOBILE_NETWORK_GENERATION=21]="REALTIME_MOBILE_NETWORK_GENERATION",e[e.REALTIME_NETWORK_TYPE=22]="REALTIME_NETWORK_TYPE",e[e.REALTIME_NETWORK_IS_METERED=23]="REALTIME_NETWORK_IS_METERED",e[e.REALTIME_NETWORK_IS_ROAMING=24]="REALTIME_NETWORK_IS_ROAMING",e[e.CAMERA_IS_FIRST_CAPTURE=25]="CAMERA_IS_FIRST_CAPTURE",e[e.PICTURE_MODE=26]="PICTURE_MODE",e[e.BOLT_USE_CASE=27]="BOLT_USE_CASE",e[e.BOLT_CDN_EXPERIMENTATION_ID=28]="BOLT_CDN_EXPERIMENTATION_ID",e[e.MINS_SINCE_LAST_LENS_ACTIVATION=29]="MINS_SINCE_LAST_LENS_ACTIVATION",e[e.MINS_SINCE_LAST_SNAPPABLE_LENS_ACTIVATION=30]="MINS_SINCE_LAST_SNAPPABLE_LENS_ACTIVATION",e[e.DAYS_SINCE_LAST_LOGIN_OR_OPEN=31]="DAYS_SINCE_LAST_LOGIN_OR_OPEN",e[e.SPECTACLES_VERSION=32]="SPECTACLES_VERSION",e[e.STICKY_MAX_CONNECTION_TYPE=33]="STICKY_MAX_CONNECTION_TYPE",e[e.WITH_ANIMATED_OVERLAY=34]="WITH_ANIMATED_OVERLAY",e[e.ESTIMATED_DURATION_FOR_EVENT_MS=35]="ESTIMATED_DURATION_FOR_EVENT_MS",e[e.URL=36]="URL",e[e.MEDIA_SOURCE=37]="MEDIA_SOURCE",e[e.ASSET_TYPE=38]="ASSET_TYPE",e[e.BOLT_IS_CONTENT_POPULAR=39]="BOLT_IS_CONTENT_POPULAR",e[e.CAPTURE_MODE=40]="CAPTURE_MODE",e[e.VP9_SOFTWARE_DECODING_SUPPORTED=41]="VP9_SOFTWARE_DECODING_SUPPORTED",e[e.AV1_SOFTWARE_DECODING_SUPPORTED=42]="AV1_SOFTWARE_DECODING_SUPPORTED",e[e.WITH_MUSIC=43]="WITH_MUSIC",e[e.FEATURE_PROVIDED_SIZE=44]="FEATURE_PROVIDED_SIZE",e[e.MEDIA_TYPE=45]="MEDIA_TYPE",e[e.SCANNED_CATEGORY_IDS=46]="SCANNED_CATEGORY_IDS",e[e.CONTENT_VIEW_SOURCE=47]="CONTENT_VIEW_SOURCE",e[e.RECIPIENTS_SUPPORT_HEVC=48]="RECIPIENTS_SUPPORT_HEVC",e[e.COGNAC_APP_ID=49]="COGNAC_APP_ID",e[e.EMAIL_VERIFIED=50]="EMAIL_VERIFIED",e[e.PHONE_VERIFIED=51]="PHONE_VERIFIED",e[e.NOTIFICATION_PERM_GRANTED=52]="NOTIFICATION_PERM_GRANTED",e[e.CONTACT_PERM_GRANTED=53]="CONTACT_PERM_GRANTED",e[e.MUTUAL_FRIENDS_COUNT=54]="MUTUAL_FRIENDS_COUNT",e[e.GROUPS_COUNT=55]="GROUPS_COUNT",e[e.HAS_NON_TEAM_SNAPCHAT_CONVERSATIONS=56]="HAS_NON_TEAM_SNAPCHAT_CONVERSATIONS",e[e.PLAYBACK_ITEM_TYPE=57]="PLAYBACK_ITEM_TYPE",e[e.SUP_BOOLEAN_PROPERTY=58]="SUP_BOOLEAN_PROPERTY",e[e.SUP_INTEGER_PROPERTY=59]="SUP_INTEGER_PROPERTY",e[e.SUP_LONG_PROPERTY=60]="SUP_LONG_PROPERTY",e[e.SUP_STRING_PROPERTY=61]="SUP_STRING_PROPERTY",e[e.SUP_DOUBLE_PROPERTY=62]="SUP_DOUBLE_PROPERTY",e[e.SUP_MILLIS_PROPERTY_TO_NOW=63]="SUP_MILLIS_PROPERTY_TO_NOW",e[e.HAS_USED_SPECTACLES=64]="HAS_USED_SPECTACLES",e[e.SUP_SECS_PROPERTY_TO_NOW=65]="SUP_SECS_PROPERTY_TO_NOW",e[e.BOLT_CLIENT_APP_STATE=66]="BOLT_CLIENT_APP_STATE",e[e.EMAIL_SET=67]="EMAIL_SET",e[e.BITMOJI_SET=68]="BITMOJI_SET",e[e.QUICK_TAP_CAMERA_SUPPORTED_ENABLED=69]="QUICK_TAP_CAMERA_SUPPORTED_ENABLED",e[e.HAS_ADD_FRIENDS_REQUEST=70]="HAS_ADD_FRIENDS_REQUEST",e[e.APP_LAUNCH_FROM_PUSH=71]="APP_LAUNCH_FROM_PUSH",e[e.APP_LAUNCH_TYPE=72]="APP_LAUNCH_TYPE",e[e.BILLBOARD_CAMPAIGN_LOCAL_IMPRESSION_COUNT=73]="BILLBOARD_CAMPAIGN_LOCAL_IMPRESSION_COUNT",e[e.BILLBOARD_CAMPAIGN_LOCAL_LAST_IMPRESSION_TIME_SECS_TO_NOW=74]="BILLBOARD_CAMPAIGN_LOCAL_LAST_IMPRESSION_TIME_SECS_TO_NOW",e[e.BILLBOARD_CAMPAIGN_LOCAL_CONTINUOUS_DISMISS_COUNT=75]="BILLBOARD_CAMPAIGN_LOCAL_CONTINUOUS_DISMISS_COUNT",e[e.FST_NUM_IN_APP_WARNINGS=76]="FST_NUM_IN_APP_WARNINGS",e[e.FST_SHOULD_CHANGE_PASSWORD=77]="FST_SHOULD_CHANGE_PASSWORD",e[e.FST_IS_BACKGROUND_CHECK=78]="FST_IS_BACKGROUND_CHECK",e[e.AUDIO_RECORD_PERM_GRANTED=79]="AUDIO_RECORD_PERM_GRANTED",e[e.MUTUAL_FRIENDS_WITH_BIRTHDAY_COUNT=80]="MUTUAL_FRIENDS_WITH_BIRTHDAY_COUNT",e[e.BILLBOARD_CAMPAIGN_LOCAL_DISMISS_COUNT=81]="BILLBOARD_CAMPAIGN_LOCAL_DISMISS_COUNT",e[e.USE_VERTICAL_NAVIGATION=82]="USE_VERTICAL_NAVIGATION",e[e.FREEABLE_DISK_AVAILABLE=83]="FREEABLE_DISK_AVAILABLE",e[e.MEMORIES_COUNT=84]="MEMORIES_COUNT",e[e.DEVICE_MODEL=85]="DEVICE_MODEL",e[e.COUNTRY=86]="COUNTRY",e[e.OS=87]="OS",e[e.OS_VERSION=88]="OS_VERSION",e[e.APP_VERSION=89]="APP_VERSION",e[e.BUILD_FLAVOR=90]="BUILD_FLAVOR",e[e.USER_ID=91]="USER_ID",e[e.LOCALE=92]="LOCALE",e[e.DEVICE_CLUSTER=93]="DEVICE_CLUSTER",e[e.DEVICE_BRAND=94]="DEVICE_BRAND",e[e.IS_EMPLOYEE=95]="IS_EMPLOYEE",e[e.USERNAME=96]="USERNAME",e[e.IS_TEST_USER=97]="IS_TEST_USER",e[e.USER_PROFILE=98]="USER_PROFILE",e[e.SCREEN_WIDTH=99]="SCREEN_WIDTH",e[e.SCREEN_HEIGHT=100]="SCREEN_HEIGHT",e[e.HEVC_SUPPORT=101]="HEVC_SUPPORT",e[e.NETWORK_TYPE=102]="NETWORK_TYPE",e[e.MAX_VIDEO_WIDTH=103]="MAX_VIDEO_WIDTH",e[e.MAX_VIDEO_HEIGHT=104]="MAX_VIDEO_HEIGHT",e[e.IS_NETWORK_METERED=105]="IS_NETWORK_METERED",e[e.IS_ROAMING=106]="IS_ROAMING",e[e.APP_ENGAGEMENT_LEVEL=107]="APP_ENGAGEMENT_LEVEL",e[e.COMMUNICATION_ENGAGEMENT_LEVEL=108]="COMMUNICATION_ENGAGEMENT_LEVEL",e[e.FRIEND_STORY_ENGAGEMENT_LEVEL=109]="FRIEND_STORY_ENGAGEMENT_LEVEL",e[e.PUBLIC_USER_STORY_ENGAGEMENT_LEVEL=110]="PUBLIC_USER_STORY_ENGAGEMENT_LEVEL",e[e.PUBLISHER_STORY_ENGAGEMENT_LEVEL=111]="PUBLISHER_STORY_ENGAGEMENT_LEVEL",e[e.LENS_ENGAGEMENT_LEVEL=112]="LENS_ENGAGEMENT_LEVEL",e[e.NON_FRIEND_STORY_ENGAGEMENT_LEVEL=113]="NON_FRIEND_STORY_ENGAGEMENT_LEVEL",e[e.FOLLOWER_SIZE_LEVEL=114]="FOLLOWER_SIZE_LEVEL",e[e.DAYS_SINCE_CREATION=115]="DAYS_SINCE_CREATION",e[e.USER_PERSONA=116]="USER_PERSONA",e[e.USER_CREATION_TIME=117]="USER_CREATION_TIME",e[e.MOBILE_NETWORK_TYPE=118]="MOBILE_NETWORK_TYPE",e[e.AGGREGATED_USER_BANDWIDTH=119]="AGGREGATED_USER_BANDWIDTH",e[e.LENS_CLUSTER_BIASED=120]="LENS_CLUSTER_BIASED",e[e.LENS_CLUSTER_LOG=121]="LENS_CLUSTER_LOG",e[e.LENS_CLUSTER_ORIG=122]="LENS_CLUSTER_ORIG",e[e.LENS_CLUSTER_ORIG_4=123]="LENS_CLUSTER_ORIG_4",e[e.LENS_CLUSTER_BIASED_LOG=124]="LENS_CLUSTER_BIASED_LOG",e[e.APP_LOCALE=125]="APP_LOCALE",e[e.DEVICE_COMMON_NAME=126]="DEVICE_COMMON_NAME",e[e.USER_FRIEND_COUNT=127]="USER_FRIEND_COUNT",e[e.L90_COUNTRY=128]="L90_COUNTRY",e[e.STUB=129]="STUB",e[e.IS_TRUE=130]="IS_TRUE",e[e.STORY_POST_RATIO=131]="STORY_POST_RATIO",e[e.GENDER=132]="GENDER",e[e.INFERRED_AGE_BUCKET=133]="INFERRED_AGE_BUCKET",e[e.STORIES=134]="STORIES",e[e.SENDS=135]="SENDS",e[e.SNAP_CREATE_L7=136]="SNAP_CREATE_L7",e[e.STORY_POST_L7=137]="STORY_POST_L7",e[e.COMMUNICATION_L7=138]="COMMUNICATION_L7",e[e.DF_L7=139]="DF_L7",e[e.APP_L7=140]="APP_L7",e[e.DAYS_SINCE_CREATION_BUCKET=141]="DAYS_SINCE_CREATION_BUCKET",e[e.BIDIRECTIONAL_FRIEND_STATUS=142]="BIDIRECTIONAL_FRIEND_STATUS",e[e.STORY_POST_PREDICTION=143]="STORY_POST_PREDICTION",e[e.APP_OPENS=144]="APP_OPENS",e[e.LENS_SWIPES=145]="LENS_SWIPES",e[e.LENS_SNAPS=146]="LENS_SNAPS",e[e.LENS_OPS=147]="LENS_OPS",e[e.W1_APP_OPENS=148]="W1_APP_OPENS",e[e.W1_LENS_SWIPES=149]="W1_LENS_SWIPES",e[e.W1_LENS_SNAPS=150]="W1_LENS_SNAPS",e[e.W1_LENS_OPS=151]="W1_LENS_OPS",e[e.W2_APP_OPENS=152]="W2_APP_OPENS",e[e.W2_LENS_SWIPES=153]="W2_LENS_SWIPES",e[e.W2_LENS_SNAPS=154]="W2_LENS_SNAPS",e[e.W2_LENS_OPS=155]="W2_LENS_OPS",e[e.W34_APP_OPENS=156]="W34_APP_OPENS",e[e.W34_LENS_SWIPES=157]="W34_LENS_SWIPES",e[e.W34_LENS_SNAPS=158]="W34_LENS_SNAPS",e[e.W34_LENS_OPS=159]="W34_LENS_OPS",e[e.LENS_SWIPES_PREDICTION=160]="LENS_SWIPES_PREDICTION",e[e.REGISTRATION_COUNTRY=161]="REGISTRATION_COUNTRY",e[e.IP_ASN=162]="IP_ASN",e[e.IP_REGION=163]="IP_REGION",e[e.IP_CITY=164]="IP_CITY",e[e.HAS_USER_ID=165]="HAS_USER_ID",e[e.HAS_BITMOJI=166]="HAS_BITMOJI",e[e.NUM_APP_OPENS_LAST_8_DAYS=167]="NUM_APP_OPENS_LAST_8_DAYS",e[e.NUM_FEATURE_STORY_VIEW_DAYS_L7=168]="NUM_FEATURE_STORY_VIEW_DAYS_L7",e[e.NUM_FEATURE_STORY_SYNC_DAYS_L7=169]="NUM_FEATURE_STORY_SYNC_DAYS_L7",e[e.HEXAGON_NN_SUPPORTED_VERSION=170]="HEXAGON_NN_SUPPORTED_VERSION",e[e.NETWORK_QUALITY=171]="NETWORK_QUALITY",e[e.DEVICE_MEMORY_MB=172]="DEVICE_MEMORY_MB",e[e.DEVICE_GL_VERSION=173]="DEVICE_GL_VERSION",e[e.SNAP_PRO_STATUS=174]="SNAP_PRO_STATUS",e[e.DEVICE_VP9_DECODING_SUPPORT=175]="DEVICE_VP9_DECODING_SUPPORT",e[e.AVG_FRIEND_STORY_VIEW_COUNT_L7=176]="AVG_FRIEND_STORY_VIEW_COUNT_L7",e[e.GAME_JOIN_TIME=177]="GAME_JOIN_TIME",e[e.GAME_LAST_ACTIVE_TIME=178]="GAME_LAST_ACTIVE_TIME",e[e.DAYS_SINCE_FIRST_GAME_ACTIVITY=179]="DAYS_SINCE_FIRST_GAME_ACTIVITY",e[e.DAYS_SINCE_LAST_GAME_ACTIVITY=180]="DAYS_SINCE_LAST_GAME_ACTIVITY",e[e.PF_PAGE_SESSIONS_WITH_LONG_IMP=181]="PF_PAGE_SESSIONS_WITH_LONG_IMP",e[e.WIRELESS_CARRIER=182]="WIRELESS_CARRIER",e[e.MINIS_JOIN_TIME=183]="MINIS_JOIN_TIME",e[e.MINIS_LAST_ACTIVE_TIME=184]="MINIS_LAST_ACTIVE_TIME",e[e.DAYS_SINCE_FIRST_MINIS_ACTIVITY=185]="DAYS_SINCE_FIRST_MINIS_ACTIVITY",e[e.DAYS_SINCE_LAST_MINIS_ACTIVITY=186]="DAYS_SINCE_LAST_MINIS_ACTIVITY",e[e.DEVICE_AV1_DECODING_SUPPORT=187]="DEVICE_AV1_DECODING_SUPPORT",e[e.APP_PACKAGE_INSTALLER=188]="APP_PACKAGE_INSTALLER",e[e.STORY_VIEWS_5TH_TAB_ENGAGEMENT_LEVEL=189]="STORY_VIEWS_5TH_TAB_ENGAGEMENT_LEVEL",e[e.REPORTED_AGE=190]="REPORTED_AGE",e[e.ANDROID_MOBILE_SERVICES_PROVIDER=191]="ANDROID_MOBILE_SERVICES_PROVIDER",e[e.IS_ACQUIRED_USER=192]="IS_ACQUIRED_USER",e[e.YDPI=193]="YDPI",e[e.BIDIRECTIONAL_FRIEND_STATUS_VELLUM=194]="BIDIRECTIONAL_FRIEND_STATUS_VELLUM",e[e.ORIGIN=195]="ORIGIN",e[e.LENSCORE_VERSION=196]="LENSCORE_VERSION",e[e.SNAPKIT_APP_ID=197]="SNAPKIT_APP_ID",e[e.GPU=198]="GPU",e[e.CHIPSET_NAME=199]="CHIPSET_NAME",e[e.CHIPSET_VERSION=200]="CHIPSET_VERSION",e[e.HAS_ZERO_IDFA=201]="HAS_ZERO_IDFA",e[e.LIMIT_AD_TRACKING=202]="LIMIT_AD_TRACKING",e[e.ATT_AUTH_STATUS=203]="ATT_AUTH_STATUS",e[e.CAMERA2_FRONT_SS_GAIN_OVER_TPA=204]="CAMERA2_FRONT_SS_GAIN_OVER_TPA",e[e.ATTACHMENT_TOOL_V2=205]="ATTACHMENT_TOOL_V2",e[e.USER_PERSONA_V3=206]="USER_PERSONA_V3",e[e.SNAPS_SEND_WITH_HEVC=207]="SNAPS_SEND_WITH_HEVC",e[e.SNAPS_SEND_WITHOUT_HEVC=208]="SNAPS_SEND_WITHOUT_HEVC",e[e.CAMERA2_NATIVE_CRASH_OVER_CAMERA1=209]="CAMERA2_NATIVE_CRASH_OVER_CAMERA1",e[e.CAMERA2_G2S_LATENCY_OVER_CAMERA1=210]="CAMERA2_G2S_LATENCY_OVER_CAMERA1",e[e.IS_INTERNAL=211]="IS_INTERNAL",e[e.IS_WEB=212]="IS_WEB",e[e.APP_OPEN_TO_MAP=213]="APP_OPEN_TO_MAP",e[e.APP_OPEN_TO_FRIENDSFEED=214]="APP_OPEN_TO_FRIENDSFEED",e[e.APP_OPEN_TO_LENSES=215]="APP_OPEN_TO_LENSES",e[e.APP_OPEN_TO_MEMORIES=216]="APP_OPEN_TO_MEMORIES",e[e.APP_OPEN_TO_COMMUNITY=217]="APP_OPEN_TO_COMMUNITY",e[e.APP_OPEN_TO_SPOTLIGHT=218]="APP_OPEN_TO_SPOTLIGHT",e[e.IS_IMPACTED_BY_PINC_893=219]="IS_IMPACTED_BY_PINC_893",e[e.DAYS_BEFORE_BIRTHDAY=220]="DAYS_BEFORE_BIRTHDAY",e[e.HAS_BIPA=221]="HAS_BIPA",e[e.SPOTLIGHT_STORY_ENGAGEMENT_STATUS=222]="SPOTLIGHT_STORY_ENGAGEMENT_STATUS",e[e.INCLUSION_PANEL_MEMBER=223]="INCLUSION_PANEL_MEMBER",e[e.HEVC_HW_DECODER=224]="HEVC_HW_DECODER",e[e.HEVC_SW_DECODER=225]="HEVC_SW_DECODER",e[e.HASH_MURMUR3_128_MOD_100=226]="HASH_MURMUR3_128_MOD_100",e[e.HAS_ACTIVE_SNAPCHAT_PLUS=227]="HAS_ACTIVE_SNAPCHAT_PLUS",e[e.SNAP_KIT_OAUTH_ID=228]="SNAP_KIT_OAUTH_ID",e[e.ORGANIZATION_TYPE=229]="ORGANIZATION_TYPE",e[e.CHUNK_UPLOAD_SUPPORT_REQUIRED=230]="CHUNK_UPLOAD_SUPPORT_REQUIRED",e[e.CLOUDFRONT_POP=231]="CLOUDFRONT_POP",e[e.BILLBOARD_CAMPAIGN_LOCAL_FIRST_IMPRESSION_TIME_SECS_TO_NOW=232]="BILLBOARD_CAMPAIGN_LOCAL_FIRST_IMPRESSION_TIME_SECS_TO_NOW",e[e.BILLBOARD_CAMPAIGN_LOCAL_CLICK_COUNT=233]="BILLBOARD_CAMPAIGN_LOCAL_CLICK_COUNT",e[e.BILLBOARD_CAMPAIGN_LOCAL_INTERACTION_COUNT=234]="BILLBOARD_CAMPAIGN_LOCAL_INTERACTION_COUNT",e[e.BILLBOARD_CAMPAIGN_LOCAL_LAST_INTERACTION_TIME_SECS_TO_NOW=235]="BILLBOARD_CAMPAIGN_LOCAL_LAST_INTERACTION_TIME_SECS_TO_NOW",e[e.FST_LOCK_SCREEN_WIDGET_BILLBOARD_LAUNCHED_FROM_PUSH=236]="FST_LOCK_SCREEN_WIDGET_BILLBOARD_LAUNCHED_FROM_PUSH",e[e.WEB_SCREEN_WIDTH=237]="WEB_SCREEN_WIDTH",e[e.WEB_SCREEN_HEIGHT=238]="WEB_SCREEN_HEIGHT",e[e.SUP_IOS_LOCK_SCREEN_WIDGET_ENABLED=239]="SUP_IOS_LOCK_SCREEN_WIDGET_ENABLED",e[e.SNAP_PRIVACY=240]="SNAP_PRIVACY",e[e.ADS_INTERFACES_IS_NEW_ORGANIZATION=241]="ADS_INTERFACES_IS_NEW_ORGANIZATION",e[e.SERVER_ONLY=242]="SERVER_ONLY",e[e.GHE_ORGANIZATION=243]="GHE_ORGANIZATION",e[e.GHE_REPOSITORY=244]="GHE_REPOSITORY",e[e.GHE_USER_EMAIL=245]="GHE_USER_EMAIL",e[e.BUILD_DEFINITION_ID=246]="BUILD_DEFINITION_ID",e[e.BUILD_DEFINITION_NAME=247]="BUILD_DEFINITION_NAME",e[e.LCA_PRINCIPAL=248]="LCA_PRINCIPAL",e[e.MEDIA_PERFORMANCE_CLASS=249]="MEDIA_PERFORMANCE_CLASS",e[e.COMMUNITY_COUNT=250]="COMMUNITY_COUNT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Mn||(Mn={})),function(e){e[e.UNKNOWN_SIGNAL_TO_HASH=0]="UNKNOWN_SIGNAL_TO_HASH",e[e.HASH_SEED_AND_USER_ID=1]="HASH_SEED_AND_USER_ID",e[e.HASH_USER_ID_AND_NAMESPACE=2]="HASH_USER_ID_AND_NAMESPACE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(bn||(bn={}));var zn={configId:"",ttlSeconds:0,priority:0,namespace:0,studyName:"",experimentId:0,delete:!1,servePlatforms:0,sequenceId:0,ruidType:0,segmentOrdinal:0,generatedFromAbAllowlists:!1},Xn=function(e,t){var n=e instanceof be().Reader?e:new(be().Reader)(e),r=void 0===t?n.len:n.pos+t,i=Kt({},zn);for(i.servePlatforms=[],i.configRuleUuidBytes=new Uint8Array;n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.configId=n.string();break;case 2:i.value=Yn(n,n.uint32());break;case 3:i.targetingExpression=Qn.decode(n,n.uint32());break;case 4:i.ttlSeconds=nr(n.int64());break;case 5:i.configRuleUuidBytes=n.bytes();break;case 6:i.priority=n.int32();break;case 7:i.namespace=n.int32();break;case 8:i.studyName=n.string();break;case 9:i.experimentId=n.int32();break;case 10:i.delete=n.bool();break;case 11:if(2===(7&o))for(var a=n.uint32()+n.pos;n.pos<a;)i.servePlatforms.push(n.int32());else i.servePlatforms.push(n.int32());break;case 12:i.sequenceId=n.int32();break;case 13:i.ruidType=n.int32();break;case 14:i.segmentOrdinal=n.int32();break;case 15:i.generatedFromAbAllowlists=n.bool();break;default:n.skipType(7&o)}}return i},Jn={operator:0,property:0,predicateOperator:0},Qn={encode:function(e,t){void 0===t&&(t=be().Writer.create()),0!==e.operator&&t.uint32(8).int32(e.operator);for(var n=0,r=e.children;n<r.length;n++){var i=r[n];Qn.encode(i,t.uint32(18).fork()).ldelim()}return 0!==e.property&&t.uint32(24).int32(e.property),0!==e.predicateOperator&&t.uint32(32).int32(e.predicateOperator),void 0!==e.value&&Kn(e.value,t.uint32(42).fork()).ldelim(),void 0!==e.propertyMetadata&&er.encode(e.propertyMetadata,t.uint32(50).fork()).ldelim(),t},decode:function(e,t){var n=e instanceof be().Reader?e:new(be().Reader)(e),r=void 0===t?n.len:n.pos+t,i=Kt({},Jn);for(i.children=[];n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.operator=n.int32();break;case 2:i.children.push(Qn.decode(n,n.uint32()));break;case 3:i.property=n.int32();break;case 4:i.predicateOperator=n.int32();break;case 5:i.value=Yn(n,n.uint32());break;case 6:i.propertyMetadata=er.decode(n,n.uint32());break;default:n.skipType(7&o)}}return i},fromPartial:function(e){var t=Kt({},Jn);if(t.children=[],void 0!==e.operator&&null!==e.operator?t.operator=e.operator:t.operator=0,void 0!==e.children&&null!==e.children)for(var n=0,r=e.children;n<r.length;n++){var i=r[n];t.children.push(Qn.fromPartial(i))}return void 0!==e.property&&null!==e.property?t.property=e.property:t.property=0,void 0!==e.predicateOperator&&null!==e.predicateOperator?t.predicateOperator=e.predicateOperator:t.predicateOperator=0,void 0!==e.value&&null!==e.value?t.value=jn(e.value):t.value=void 0,void 0!==e.propertyMetadata&&null!==e.propertyMetadata?t.propertyMetadata=er.fromPartial(e.propertyMetadata):t.propertyMetadata=void 0,t}},$n={itemId:0,signalToHash:0,abNamespaceForHashing:"",abSeedForHashing:""},er={encode:function(e,t){return void 0===t&&(t=be().Writer.create()),0!==e.itemId&&t.uint32(8).int32(e.itemId),0!==e.signalToHash&&t.uint32(16).int32(e.signalToHash),""!==e.abNamespaceForHashing&&t.uint32(26).string(e.abNamespaceForHashing),""!==e.abSeedForHashing&&t.uint32(34).string(e.abSeedForHashing),t},decode:function(e,t){for(var n=e instanceof be().Reader?e:new(be().Reader)(e),r=void 0===t?n.len:n.pos+t,i=Kt({},$n);n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.itemId=n.int32();break;case 2:i.signalToHash=n.int32();break;case 3:i.abNamespaceForHashing=n.string();break;case 4:i.abSeedForHashing=n.string();break;default:n.skipType(7&o)}}return i},fromPartial:function(e){var t=Kt({},$n);return void 0!==e.itemId&&null!==e.itemId?t.itemId=e.itemId:t.itemId=0,void 0!==e.signalToHash&&null!==e.signalToHash?t.signalToHash=e.signalToHash:t.signalToHash=0,void 0!==e.abNamespaceForHashing&&null!==e.abNamespaceForHashing?t.abNamespaceForHashing=e.abNamespaceForHashing:t.abNamespaceForHashing="",void 0!==e.abSeedForHashing&&null!==e.abSeedForHashing?t.abSeedForHashing=e.abSeedForHashing:t.abSeedForHashing="",t}},tr=function(){if("undefined"!==typeof tr)return tr;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"}();function nr(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new tr.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}be().util.Long!==ke()&&(be().util.Long=ke(),be().configure());var rr,ir={abResultChecksumInput:""},or=function(e,t){for(var n=e instanceof be().Reader?e:new(be().Reader)(e),r=void 0===t?n.len:n.pos+t,i=Kt({},ir);n.pos<r;){var o=n.uint32();if(o>>>3===1)i.abResultChecksumInput=n.string();else n.skipType(7&o)}return i},ar={configResultsEtag:"",fullResults:!1,abResultChecksum:0,iso3166Alpha2CountryCodeFromRequestIp:""},sr=function(e,t){var n=e instanceof be().Reader?e:new(be().Reader)(e),r=void 0===t?n.len:n.pos+t,i=Kt({},ar);for(i.configResults=[];n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.configResults.push(Xn(n,n.uint32()));break;case 2:i.configResultsEtag=n.string();break;case 3:i.benchmarkRequest=en(n,n.uint32());break;case 4:i.fullResults=n.bool();break;case 5:i.abResultChecksum=n.int32();break;case 6:i.iso3166Alpha2CountryCodeFromRequestIp=n.string();break;case 7:i.debugData=or(n,n.uint32());break;default:n.skipType(7&o)}}return i};be().util.Long!==ke()&&(be().util.Long=ke(),be().configure()),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.CAMERA=1]="CAMERA",e[e.COF=2]="COF",e[e.MDP=3]="MDP",e[e.MONETIZATION=4]="MONETIZATION",e[e.LEGACY_AB=5]="LEGACY_AB",e[e.AB_STUDY_VERSION=6]="AB_STUDY_VERSION",e[e.CAMERA_PLATFORM=7]="CAMERA_PLATFORM",e[e.PLATFORM_UI=8]="PLATFORM_UI",e[e.PLATFORM_CORE=9]="PLATFORM_CORE",e[e.MONETIZATION_UI=10]="MONETIZATION_UI",e[e.MONETIZATION_RANKING=11]="MONETIZATION_RANKING",e[e.USERS_AND_FRIENDS_UI=12]="USERS_AND_FRIENDS_UI",e[e.USERS_AND_FRIENDS_CORE=13]="USERS_AND_FRIENDS_CORE",e[e.USERS_AND_FRIENDS_RANKING=14]="USERS_AND_FRIENDS_RANKING",e[e.MESSAGING_UI=15]="MESSAGING_UI",e[e.MESSAGING_CORE=16]="MESSAGING_CORE",e[e.STORIES_UI=17]="STORIES_UI",e[e.STORIES_CORE=18]="STORIES_CORE",e[e.STORIES_RANKING=19]="STORIES_RANKING",e[e.DISCOVER_UI=20]="DISCOVER_UI",e[e.DISCOVER_CORE=21]="DISCOVER_CORE",e[e.DISCOVER_RANKING=22]="DISCOVER_RANKING",e[e.PREMIUM_CONTENT_UI=23]="PREMIUM_CONTENT_UI",e[e.PREMIUM_CONTENT_CORE=24]="PREMIUM_CONTENT_CORE",e[e.PREMIUM_CONTENT_RANKING=25]="PREMIUM_CONTENT_RANKING",e[e.COMMUNITY_UI=26]="COMMUNITY_UI",e[e.COMMUNITY_CORE=27]="COMMUNITY_CORE",e[e.COMMUNITY_RANKING=28]="COMMUNITY_RANKING",e[e.CAMERA_UI=29]="CAMERA_UI",e[e.CREATIVE_TOOLS_UI=30]="CREATIVE_TOOLS_UI",e[e.CREATIVE_TOOLS_CORE=31]="CREATIVE_TOOLS_CORE",e[e.CAMERA_PLATFORM_UI=32]="CAMERA_PLATFORM_UI",e[e.CAMERA_PLATFORM_RANKING=33]="CAMERA_PLATFORM_RANKING",e[e.PERCEPTION_UI=34]="PERCEPTION_UI",e[e.PERCEPTION_CORE=35]="PERCEPTION_CORE",e[e.PERCEPTION_RANKING=36]="PERCEPTION_RANKING",e[e.MEDIA_UI=37]="MEDIA_UI",e[e.MEMORIES_UI=38]="MEMORIES_UI",e[e.MEMORIES_CORE=39]="MEMORIES_CORE",e[e.MAP_UI=40]="MAP_UI",e[e.MAP_CORE=41]="MAP_CORE",e[e.SEARCH_UI=42]="SEARCH_UI",e[e.SEARCH_CORE=43]="SEARCH_CORE",e[e.SEARCH_RANKING=44]="SEARCH_RANKING",e[e.COGNAC_UI=45]="COGNAC_UI",e[e.COGNAC_CORE=46]="COGNAC_CORE",e[e.BITMOJI_UI=47]="BITMOJI_UI",e[e.BITMOJI_CORE=48]="BITMOJI_CORE",e[e.SPECTACLES_UI=49]="SPECTACLES_UI",e[e.SPECTACLES_CORE=50]="SPECTACLES_CORE",e[e.SNAP_KIT_UI=51]="SNAP_KIT_UI",e[e.SNAP_KIT_CORE=52]="SNAP_KIT_CORE",e[e.SNAP_PRO_UI=53]="SNAP_PRO_UI",e[e.SNAP_PRO_CORE=54]="SNAP_PRO_CORE",e[e.NGS_UI=55]="NGS_UI",e[e.CAMEOS_UI=56]="CAMEOS_UI",e[e.CAMEOS_CORE=57]="CAMEOS_CORE",e[e.CAMEOS_RANKING=58]="CAMEOS_RANKING",e[e.BLIZZARD_CLIENT=59]="BLIZZARD_CLIENT",e[e.BLIZZARD_BACKEND=60]="BLIZZARD_BACKEND",e[e.AB_SEGMENT=61]="AB_SEGMENT",e[e.CONFIG_ROLLOUT=62]="CONFIG_ROLLOUT",e[e.COMMERCE_BACKEND=63]="COMMERCE_BACKEND",e[e.LENS_CORE=64]="LENS_CORE",e[e.CAMERA_KIT_CORE=65]="CAMERA_KIT_CORE",e[e.MDP_CONTENT_MANAGER=66]="MDP_CONTENT_MANAGER",e[e.REQUEST_DOMAIN_ROUTING=67]="REQUEST_DOMAIN_ROUTING",e[e.CDN_ROUTING=68]="CDN_ROUTING",e[e.GRAPHENE_SAMPLING=69]="GRAPHENE_SAMPLING",e[e.WEB_STORY_CORE=70]="WEB_STORY_CORE",e[e.WEB_STORY_UI=71]="WEB_STORY_UI",e[e.CLIENT_SWITCHBOARD=72]="CLIENT_SWITCHBOARD",e[e.MCS=73]="MCS",e[e.SHARING_UI=74]="SHARING_UI",e[e.SHARING_CORE=75]="SHARING_CORE",e[e.SHARING_RANKING=76]="SHARING_RANKING",e[e.MDP_PLAYBACK=77]="MDP_PLAYBACK",e[e.CAMERA_BUSINESS=78]="CAMERA_BUSINESS",e[e.ADDLIVE=79]="ADDLIVE",e[e.AD_KIT_CORE=80]="AD_KIT_CORE",e[e.ADDLIVE_UI=81]="ADDLIVE_UI",e[e.ADDLIVE_CORE=82]="ADDLIVE_CORE",e[e.ADDLIVE_RANKING=83]="ADDLIVE_RANKING",e[e.STORY_STUDIO_LITE_UI=84]="STORY_STUDIO_LITE_UI",e[e.STORY_STUDIO_LITE_CORE=85]="STORY_STUDIO_LITE_CORE",e[e.COMMERCE_UI=86]="COMMERCE_UI",e[e.COMMERCE_CORE=87]="COMMERCE_CORE",e[e.COMMERCE_RANKING=88]="COMMERCE_RANKING",e[e.STORIES_UX=89]="STORIES_UX",e[e.CONTEXT_UI=90]="CONTEXT_UI",e[e.CONTEXT_CORE=91]="CONTEXT_CORE",e[e.LENS_TARGETING=92]="LENS_TARGETING",e[e.SPOTLIGHT_RANKING=93]="SPOTLIGHT_RANKING",e[e.SPOTLIGHT_CORE=94]="SPOTLIGHT_CORE",e[e.SPOTLIGHT_UI=95]="SPOTLIGHT_UI",e[e.ACTIVATION_CORE=96]="ACTIVATION_CORE",e[e.FRIENDING=97]="FRIENDING",e[e.SAFETY=98]="SAFETY",e[e.LOGIN=99]="LOGIN",e[e.MYLENSES_WEB_CORE=100]="MYLENSES_WEB_CORE",e[e.SECURITY=101]="SECURITY",e[e.AB_CONSOLE=102]="AB_CONSOLE",e[e.AD_MODERATION=103]="AD_MODERATION",e[e.CONTENT_LIFT_MEASUREMENT=104]="CONTENT_LIFT_MEASUREMENT",e[e.CONTEXT_BACKEND=105]="CONTEXT_BACKEND",e[e.GAMES_FEED_CORE=106]="GAMES_FEED_CORE",e[e.RECIPIENT_DEVICE_CAPABILITIES=107]="RECIPIENT_DEVICE_CAPABILITIES",e[e.ADS_GATEWAY_CORE=108]="ADS_GATEWAY_CORE",e[e.ADS_INTERFACES_UI=109]="ADS_INTERFACES_UI",e[e.ADS_MANAGER_UI=110]="ADS_MANAGER_UI",e[e.BUSINESS_MANAGER_UI=111]="BUSINESS_MANAGER_UI",e[e.PROFILE_MANAGER_UI=112]="PROFILE_MANAGER_UI",e[e.NOTIFICATION=113]="NOTIFICATION",e[e.BILLBOARD=114]="BILLBOARD",e[e.LENS_DELIVERY_CORE=115]="LENS_DELIVERY_CORE",e[e.TIER_0_LAUNCH=116]="TIER_0_LAUNCH",e[e.FRIENDING_REG=117]="FRIENDING_REG",e[e.CAMERA_KIT_WEB_CORE=118]="CAMERA_KIT_WEB_CORE",e[e.MDP_OPERA_CORE=119]="MDP_OPERA_CORE",e[e.SHARED_WEB_UI=120]="SHARED_WEB_UI",e[e.CODELABS_SANDBOX=121]="CODELABS_SANDBOX",e[e.FRIENDING_QA_RANKING=122]="FRIENDING_QA_RANKING",e[e.FRIENDING_REG_RANKING=123]="FRIENDING_REG_RANKING",e[e.SEARCH_CSL=124]="SEARCH_CSL",e[e.WEB3=125]="WEB3",e[e.PLUS_CORE=126]="PLUS_CORE",e[e.WEB_STORYTELLER_UI=127]="WEB_STORYTELLER_UI",e[e.PLATFORM_SERVICES=128]="PLATFORM_SERVICES",e[e.WEB_ACCOUNTS=129]="WEB_ACCOUNTS",e[e.SHOPKIT_WEB=130]="SHOPKIT_WEB",e[e.SNAPGRAPH_MODSERVER=131]="SNAPGRAPH_MODSERVER",e[e.MUSIC=132]="MUSIC",e[e.SOUNDS=133]="SOUNDS",e[e.MACHAMP=134]="MACHAMP",e[e.PIE_AUTOBOT=135]="PIE_AUTOBOT",e[e.NOTIFICATION_RANKING=136]="NOTIFICATION_RANKING",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(rr||(rr={})),be().util.Long!==ke()&&(be().util.Long=ke(),be().configure());var ur=new Map;function cr(e,t){ur.set(e,t)}var _r={};(function(e,t){for(var n in t)e[n]=t[n]})(_r,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={splitValues:!1});var n,i=this;this.headersMap={},e&&("undefined"!==typeof Headers&&e instanceof Headers?r.getHeaderKeys(e).forEach((function(n){r.getHeaderValues(e,n).forEach((function(e){t.splitValues?i.append(n,r.splitHeaderValue(e)):i.append(n,e)}))})):"object"===typeof(n=e)&&"object"===typeof n.headersMap&&"function"===typeof n.forEach?e.forEach((function(e,t){i.append(e,t)})):"undefined"!==typeof Map&&e instanceof Map?e.forEach((function(e,t){i.append(t,e)})):"string"===typeof e?this.appendFromString(e):"object"===typeof e&&Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t];Array.isArray(n)?n.forEach((function(e){i.append(t,e)})):i.append(t,n)})))}return e.prototype.appendFromString=function(e){for(var t=e.split("\r\n"),n=0;n<t.length;n++){var r=t[n],i=r.indexOf(":");if(i>0){var o=r.substring(0,i).trim(),a=r.substring(i+1).trim();this.append(o,a)}}},e.prototype.delete=function(e,t){var n=r.normalizeName(e);if(void 0===t)delete this.headersMap[n];else{var i=this.headersMap[n];if(i){var o=i.indexOf(t);o>=0&&i.splice(o,1),0===i.length&&delete this.headersMap[n]}}},e.prototype.append=function(e,t){var n=this,i=r.normalizeName(e);Array.isArray(this.headersMap[i])||(this.headersMap[i]=[]),Array.isArray(t)?t.forEach((function(e){n.headersMap[i].push(r.normalizeValue(e))})):this.headersMap[i].push(r.normalizeValue(t))},e.prototype.set=function(e,t){var n=r.normalizeName(e);if(Array.isArray(t)){var i=[];t.forEach((function(e){i.push(r.normalizeValue(e))})),this.headersMap[n]=i}else this.headersMap[n]=[r.normalizeValue(t)]},e.prototype.has=function(e,t){var n=this.headersMap[r.normalizeName(e)];if(!Array.isArray(n))return!1;if(void 0!==t){var i=r.normalizeValue(t);return n.indexOf(i)>=0}return!0},e.prototype.get=function(e){var t=this.headersMap[r.normalizeName(e)];return void 0!==t?t.concat():[]},e.prototype.forEach=function(e){var t=this;Object.getOwnPropertyNames(this.headersMap).forEach((function(n){e(n,t.headersMap[n])}),this)},e.prototype.toHeaders=function(){if("undefined"!==typeof Headers){var e=new Headers;return this.forEach((function(t,n){n.forEach((function(n){e.append(t,n)}))})),e}throw new Error("Headers class is not defined")},e}();t.BrowserHeaders=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.BrowserHeaders=r.BrowserHeaders},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.iterateHeaders=function(e,t){for(var n=e[Symbol.iterator](),r=n.next();!r.done;)t(r.value[0]),r=n.next()},t.iterateHeadersKeys=function(e,t){for(var n=e.keys(),r=n.next();!r.done;)t(r.value),r=n.next()}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.normalizeName=function(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()},t.normalizeValue=function(e){return"string"!==typeof e&&(e=String(e)),e},t.getHeaderValues=function(e,t){var n=e;if(n instanceof Headers&&n.getAll)return n.getAll(t);var r=n.get(t);return r&&"string"===typeof r?[r]:r},t.getHeaderKeys=function(e){var t=e,n={},i=[];return t.keys?r.iterateHeadersKeys(t,(function(e){n[e]||(n[e]=!0,i.push(e))})):t.forEach?t.forEach((function(e,t){n[t]||(n[t]=!0,i.push(t))})):r.iterateHeaders(t,(function(e){var t=e[0];n[t]||(n[t]=!0,i.push(t))})),i},t.splitHeaderValue=function(e){var t=[];return e.split(", ").forEach((function(e){e.split(",").forEach((function(e){t.push(e)}))})),t}}]));var lr=function(){function e(e,t){this.host=e,this.options=t}return e.prototype.unary=function(e,t,n){var r,i=this,o=Kt(Kt({},t),e.requestType),a=n&&this.options.metadata?new _r.BrowserHeaders(Kt(Kt({},null===(r=this.options)||void 0===r?void 0:r.metadata),n)):n||this.options.metadata;return new Promise((function(t,n){xt.grpc.unary(e,{request:o,host:i.host,metadata:a,transport:i.options.transport,debug:i.options.debug,onEnd:function(e){if(e.status===xt.grpc.Code.OK)t(e.message);else{var r=new Error(e.statusMessage);r.code=e.status,r.metadata=e.trailers,n(r)}}})}))},e}(),Er=Symbol("context key"),dr={host:"https://aws.api.snapchat.com"};function fr(){if("undefined"!==typeof window)return window[Er]}function Ir(){var e=fr();if(!e)throw new Error("initConfigsClient() has to be called on app startup");return e}function pr(e){void 0===e&&(e=dr);var t=fr();if(t){if(JSON.stringify(e)!==JSON.stringify(t.settings))throw new Error("initConfigsClient() has already been called")}else!function(e){"undefined"!==typeof window&&(window[Er]=e)}({settings:e,rpc:new lr(e.host,{metadata:e.metadata})}),cr(Mn.WEB_SCREEN_HEIGHT,(function(){return window.innerHeight})),cr(Mn.WEB_SCREEN_WIDTH,(function(){return window.innerWidth}))}"undefined"!==typeof window&&Object.defineProperty(window,Er,{enumerable:!1,writable:!0});var Sr={methodName:"targetingQuery",service:{serviceName:"snapchat.cdp.cof.CircumstancesService"},requestStream:!1,responseStream:!1,requestType:{serializeBinary:function(){return hn(this).finish()}},responseType:{deserializeBinary:function(e){return Kt(Kt({},sr(e)),{toObject:function(){return this}})}}};var Tr,hr,Nr,vr,Ar,Or,Rr,Cr,yr=function(){if("undefined"!==typeof yr)return yr;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"}();be().util.Long!==ke()&&(be().util.Long=ke(),be().configure()),function(e){e[e.USER_WHITELISTED=0]="USER_WHITELISTED",e[e.USER_GROUP_WHITELISTED=1]="USER_GROUP_WHITELISTED",e[e.FILTER_CONDITIONS=2]="FILTER_CONDITIONS",e[e.SLICE_RANGE=3]="SLICE_RANGE",e[e.TRAFFIC_ALLOCATED=4]="TRAFFIC_ALLOCATED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Tr||(Tr={})),function(e){e[e.VALIDATE_REQUEST=0]="VALIDATE_REQUEST",e[e.REQUEST_ATLAS=1]="REQUEST_ATLAS",e[e.BUILD_TARGETING_INFO=2]="BUILD_TARGETING_INFO",e[e.QUERY_INDEX=3]="QUERY_INDEX",e[e.REQUEST_AB=4]="REQUEST_AB",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(hr||(hr={})),be().util.Long!==ke()&&(be().util.Long=ke(),be().configure()),function(e){e[e.TYPE_DOUBLE=1]="TYPE_DOUBLE",e[e.TYPE_FLOAT=2]="TYPE_FLOAT",e[e.TYPE_INT64=3]="TYPE_INT64",e[e.TYPE_UINT64=4]="TYPE_UINT64",e[e.TYPE_INT32=5]="TYPE_INT32",e[e.TYPE_FIXED64=6]="TYPE_FIXED64",e[e.TYPE_FIXED32=7]="TYPE_FIXED32",e[e.TYPE_BOOL=8]="TYPE_BOOL",e[e.TYPE_STRING=9]="TYPE_STRING",e[e.TYPE_GROUP=10]="TYPE_GROUP",e[e.TYPE_MESSAGE=11]="TYPE_MESSAGE",e[e.TYPE_BYTES=12]="TYPE_BYTES",e[e.TYPE_UINT32=13]="TYPE_UINT32",e[e.TYPE_ENUM=14]="TYPE_ENUM",e[e.TYPE_SFIXED32=15]="TYPE_SFIXED32",e[e.TYPE_SFIXED64=16]="TYPE_SFIXED64",e[e.TYPE_SINT32=17]="TYPE_SINT32",e[e.TYPE_SINT64=18]="TYPE_SINT64",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Nr||(Nr={})),function(e){e[e.LABEL_OPTIONAL=1]="LABEL_OPTIONAL",e[e.LABEL_REQUIRED=2]="LABEL_REQUIRED",e[e.LABEL_REPEATED=3]="LABEL_REPEATED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(vr||(vr={})),function(e){e[e.SPEED=1]="SPEED",e[e.CODE_SIZE=2]="CODE_SIZE",e[e.LITE_RUNTIME=3]="LITE_RUNTIME",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Ar||(Ar={})),function(e){e[e.STRING=0]="STRING",e[e.CORD=1]="CORD",e[e.STRING_PIECE=2]="STRING_PIECE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Or||(Or={})),function(e){e[e.JS_NORMAL=0]="JS_NORMAL",e[e.JS_STRING=1]="JS_STRING",e[e.JS_NUMBER=2]="JS_NUMBER",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Rr||(Rr={})),function(e){e[e.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",e[e.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",e[e.IDEMPOTENT=2]="IDEMPOTENT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Cr||(Cr={}));var gr,Pr,mr,Lr,Ur,Dr,Mr,br,wr=function(){if("undefined"!==typeof wr)return wr;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"}();be().util.Long!==ke()&&(be().util.Long=ke(),be().configure()),function(e){e[e.UNKNOWN_SNAP_PRO=0]="UNKNOWN_SNAP_PRO",e[e.NOT_SNAP_PRO=1]="NOT_SNAP_PRO",e[e.STANDARD_TIER=2]="STANDARD_TIER",e[e.OFFICIAL_TIER=3]="OFFICIAL_TIER",e[e.PUBLIC_TIER=4]="PUBLIC_TIER",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(gr||(gr={})),function(e){e[e.UNKNOWN_ORIGIN=0]="UNKNOWN_ORIGIN",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Pr||(Pr={})),function(e){e[e.UNKNOWN_PLATFORM=0]="UNKNOWN_PLATFORM",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(mr||(mr={})),function(e){e[e.UNKNOWN_STATUS=0]="UNKNOWN_STATUS",e[e.DEPLOYED=1]="DEPLOYED",e[e.COMPLETED=2]="COMPLETED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Lr||(Lr={})),function(e){e[e.UNKNOWN_SEGMENT=0]="UNKNOWN_SEGMENT",e[e.STANDARD_SEGMENT=1]="STANDARD_SEGMENT",e[e.BUDGET_SEGMENT=2]="BUDGET_SEGMENT",e[e.ROLLOUT_SEGMENT=3]="ROLLOUT_SEGMENT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Ur||(Ur={})),function(e){e[e.UNKNOWN_OPERATOR=0]="UNKNOWN_OPERATOR",e[e.AND=1]="AND",e[e.OR=2]="OR",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Dr||(Dr={})),function(e){e[e.UNKNOWN_PREDICATE_OPERATOR=0]="UNKNOWN_PREDICATE_OPERATOR",e[e.EQUAL=1]="EQUAL",e[e.NOT_EQUAL=2]="NOT_EQUAL",e[e.GREATER_THAN_OR_EQUAL_TO=3]="GREATER_THAN_OR_EQUAL_TO",e[e.LESS_THAN_OR_EQUAL_TO=4]="LESS_THAN_OR_EQUAL_TO",e[e.IN=5]="IN",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Mr||(Mr={})),function(e){e[e.UNKNOWN_PROPERTY=0]="UNKNOWN_PROPERTY",e[e.DEVICE_MODEL=1]="DEVICE_MODEL",e[e.COUNTRY=2]="COUNTRY",e[e.OS=3]="OS",e[e.OS_VERSION=4]="OS_VERSION",e[e.APP_VERSION=5]="APP_VERSION",e[e.BUILD_FLAVOR=6]="BUILD_FLAVOR",e[e.USER_ID=7]="USER_ID",e[e.LOCALE=8]="LOCALE",e[e.IS_CHARGING=9]="IS_CHARGING",e[e.BATTERY_LEVEL=10]="BATTERY_LEVEL",e[e.DEVICE_CLUSTER=11]="DEVICE_CLUSTER",e[e.IS_OFFLINE=12]="IS_OFFLINE",e[e.BANDWIDTH=13]="BANDWIDTH",e[e.DEVICE_BRAND=14]="DEVICE_BRAND",e[e.IS_EMPLOYEE=15]="IS_EMPLOYEE",e[e.USERNAME=16]="USERNAME",e[e.IS_TEST_USER=17]="IS_TEST_USER",e[e.USER_PROFILE=18]="USER_PROFILE",e[e.SCREEN_WIDTH=19]="SCREEN_WIDTH",e[e.SCREEN_HEIGHT=20]="SCREEN_HEIGHT",e[e.HEVC_SUPPORT=21]="HEVC_SUPPORT",e[e.DISK_SIZE=22]="DISK_SIZE",e[e.DISK_AVAILABLE=23]="DISK_AVAILABLE",e[e.NETWORK_TYPE=24]="NETWORK_TYPE",e[e.MAX_VIDEO_WIDTH=25]="MAX_VIDEO_WIDTH",e[e.MAX_VIDEO_HEIGHT=26]="MAX_VIDEO_HEIGHT",e[e.MEDIA_TYPE_DEPRECATED=27]="MEDIA_TYPE_DEPRECATED",e[e.IS_PUBLIC_STORY=28]="IS_PUBLIC_STORY",e[e.IS_OFFICIAL_STORY=29]="IS_OFFICIAL_STORY",e[e.IS_NETWORK_METERED=30]="IS_NETWORK_METERED",e[e.IS_ROAMING=31]="IS_ROAMING",e[e.APP_ENGAGEMENT_LEVEL=32]="APP_ENGAGEMENT_LEVEL",e[e.COMMUNICATION_ENGAGEMENT_LEVEL=33]="COMMUNICATION_ENGAGEMENT_LEVEL",e[e.FRIEND_STORY_ENGAGEMENT_LEVEL=34]="FRIEND_STORY_ENGAGEMENT_LEVEL",e[e.PUBLIC_USER_STORY_ENGAGEMENT_LEVEL=35]="PUBLIC_USER_STORY_ENGAGEMENT_LEVEL",e[e.PUBLISHER_STORY_ENGAGEMENT_LEVEL=36]="PUBLISHER_STORY_ENGAGEMENT_LEVEL",e[e.LENS_ENGAGEMENT_LEVEL=37]="LENS_ENGAGEMENT_LEVEL",e[e.CAMERA_CONTEXT=38]="CAMERA_CONTEXT",e[e.CAMERA_DIRECTION=39]="CAMERA_DIRECTION",e[e.CAMERA_FLASH_STATE=40]="CAMERA_FLASH_STATE",e[e.CAMERA_API=41]="CAMERA_API",e[e.NON_FRIEND_STORY_ENGAGEMENT_LEVEL=42]="NON_FRIEND_STORY_ENGAGEMENT_LEVEL",e[e.FOLLOWER_SIZE_LEVEL=43]="FOLLOWER_SIZE_LEVEL",e[e.LEGACY_MUSHROOM_CONTENT_TYPE=44]="LEGACY_MUSHROOM_CONTENT_TYPE",e[e.SNAP_SOURCE=45]="SNAP_SOURCE",e[e.UPLOAD_BANDWIDTH=46]="UPLOAD_BANDWIDTH",e[e.DAYS_SINCE_CREATION=47]="DAYS_SINCE_CREATION",e[e.CAMERA2_LEVEL=48]="CAMERA2_LEVEL",e[e.CAMERA_NIGHT_MODE_STATE=49]="CAMERA_NIGHT_MODE_STATE",e[e.USER_PERSONA=50]="USER_PERSONA",e[e.USER_LANGUAGE=51]="USER_LANGUAGE",e[e.USER_CREATION_TIME=52]="USER_CREATION_TIME",e[e.VIDEO_DURATION=53]="VIDEO_DURATION",e[e.MOBILE_NETWORK_TYPE=54]="MOBILE_NETWORK_TYPE",e[e.AGGREGATED_USER_BANDWIDTH=55]="AGGREGATED_USER_BANDWIDTH",e[e.REALTIME_MOBILE_NETWORK_GENERATION=56]="REALTIME_MOBILE_NETWORK_GENERATION",e[e.REALTIME_NETWORK_TYPE=57]="REALTIME_NETWORK_TYPE",e[e.REALTIME_NETWORK_IS_METERED=58]="REALTIME_NETWORK_IS_METERED",e[e.REALTIME_NETWORK_IS_ROAMING=59]="REALTIME_NETWORK_IS_ROAMING",e[e.LENS_CLUSTER_BIASED=60]="LENS_CLUSTER_BIASED",e[e.LENS_CLUSTER_LOG=61]="LENS_CLUSTER_LOG",e[e.LENS_CLUSTER_ORIG=62]="LENS_CLUSTER_ORIG",e[e.LENS_CLUSTER_ORIG_4=63]="LENS_CLUSTER_ORIG_4",e[e.LENS_CLUSTER_BIASED_LOG=64]="LENS_CLUSTER_BIASED_LOG",e[e.APP_LOCALE=65]="APP_LOCALE",e[e.DEVICE_COMMON_NAME=66]="DEVICE_COMMON_NAME",e[e.PICTURE_MODE=67]="PICTURE_MODE",e[e.USER_FRIEND_COUNT=68]="USER_FRIEND_COUNT",e[e.BOLT_USE_CASE=69]="BOLT_USE_CASE",e[e.L90_COUNTRY=70]="L90_COUNTRY",e[e.STUB=71]="STUB",e[e.IS_TRUE=72]="IS_TRUE",e[e.STORY_POST_RATIO=73]="STORY_POST_RATIO",e[e.GENDER=74]="GENDER",e[e.INFERRED_AGE_BUCKET=75]="INFERRED_AGE_BUCKET",e[e.STORIES=76]="STORIES",e[e.SENDS=77]="SENDS",e[e.SNAP_CREATE_L7=78]="SNAP_CREATE_L7",e[e.STORY_POST_L7=79]="STORY_POST_L7",e[e.COMMUNICATION_L7=80]="COMMUNICATION_L7",e[e.DF_L7=81]="DF_L7",e[e.APP_L7=82]="APP_L7",e[e.DAYS_SINCE_CREATION_BUCKET=83]="DAYS_SINCE_CREATION_BUCKET",e[e.BIDIRECTIONAL_FRIEND_STATUS=84]="BIDIRECTIONAL_FRIEND_STATUS",e[e.STORY_POST_PREDICTION=85]="STORY_POST_PREDICTION",e[e.BOLT_CDN_EXPERIMENTATION_ID=86]="BOLT_CDN_EXPERIMENTATION_ID",e[e.MINS_SINCE_LAST_LENS_ACTIVATION=87]="MINS_SINCE_LAST_LENS_ACTIVATION",e[e.APP_OPENS=88]="APP_OPENS",e[e.LENS_SWIPES=89]="LENS_SWIPES",e[e.LENS_SNAPS=90]="LENS_SNAPS",e[e.LENS_OPS=91]="LENS_OPS",e[e.W1_APP_OPENS=92]="W1_APP_OPENS",e[e.W1_LENS_SWIPES=93]="W1_LENS_SWIPES",e[e.W1_LENS_SNAPS=94]="W1_LENS_SNAPS",e[e.W1_LENS_OPS=95]="W1_LENS_OPS",e[e.W2_APP_OPENS=96]="W2_APP_OPENS",e[e.W2_LENS_SWIPES=97]="W2_LENS_SWIPES",e[e.W2_LENS_SNAPS=98]="W2_LENS_SNAPS",e[e.W2_LENS_OPS=99]="W2_LENS_OPS",e[e.W34_APP_OPENS=100]="W34_APP_OPENS",e[e.W34_LENS_SWIPES=101]="W34_LENS_SWIPES",e[e.W34_LENS_SNAPS=102]="W34_LENS_SNAPS",e[e.W34_LENS_OPS=103]="W34_LENS_OPS",e[e.LENS_SWIPES_PREDICTION=104]="LENS_SWIPES_PREDICTION",e[e.REGISTRATION_COUNTRY=105]="REGISTRATION_COUNTRY",e[e.IP_ASN=106]="IP_ASN",e[e.IP_REGION=107]="IP_REGION",e[e.IP_CITY=108]="IP_CITY",e[e.HAS_USER_ID=109]="HAS_USER_ID",e[e.HAS_BITMOJI=110]="HAS_BITMOJI",e[e.NUM_APP_OPENS_LAST_8_DAYS=111]="NUM_APP_OPENS_LAST_8_DAYS",e[e.MINS_SINCE_LAST_SNAPPABLE_LENS_ACTIVATION=112]="MINS_SINCE_LAST_SNAPPABLE_LENS_ACTIVATION",e[e.NUM_FEATURE_STORY_VIEW_DAYS_L7=113]="NUM_FEATURE_STORY_VIEW_DAYS_L7",e[e.NUM_FEATURE_STORY_SYNC_DAYS_L7=114]="NUM_FEATURE_STORY_SYNC_DAYS_L7",e[e.HEXAGON_NN_SUPPORTED_VERSION=115]="HEXAGON_NN_SUPPORTED_VERSION",e[e.DAYS_SINCE_LAST_LOGIN_OR_OPEN=116]="DAYS_SINCE_LAST_LOGIN_OR_OPEN",e[e.SPECTACLES_VERSION=117]="SPECTACLES_VERSION",e[e.NETWORK_QUALITY=118]="NETWORK_QUALITY",e[e.DEVICE_MEMORY_MB=119]="DEVICE_MEMORY_MB",e[e.DEVICE_GL_VERSION=120]="DEVICE_GL_VERSION",e[e.SNAP_PRO_STATUS=121]="SNAP_PRO_STATUS",e[e.DEVICE_VP9_DECODING_SUPPORT=122]="DEVICE_VP9_DECODING_SUPPORT",e[e.AVG_FRIEND_STORY_VIEW_COUNT_L7=123]="AVG_FRIEND_STORY_VIEW_COUNT_L7",e[e.GAME_JOIN_TIME=124]="GAME_JOIN_TIME",e[e.GAME_LAST_ACTIVE_TIME=125]="GAME_LAST_ACTIVE_TIME",e[e.DAYS_SINCE_FIRST_GAME_ACTIVITY=126]="DAYS_SINCE_FIRST_GAME_ACTIVITY",e[e.DAYS_SINCE_LAST_GAME_ACTIVITY=127]="DAYS_SINCE_LAST_GAME_ACTIVITY",e[e.PF_PAGE_SESSIONS_WITH_LONG_IMP=128]="PF_PAGE_SESSIONS_WITH_LONG_IMP",e[e.STICKY_MAX_CONNECTION_TYPE=129]="STICKY_MAX_CONNECTION_TYPE",e[e.WIRELESS_CARRIER=130]="WIRELESS_CARRIER",e[e.WITH_ANIMATED_OVERLAY=131]="WITH_ANIMATED_OVERLAY",e[e.MINIS_JOIN_TIME=132]="MINIS_JOIN_TIME",e[e.MINIS_LAST_ACTIVE_TIME=133]="MINIS_LAST_ACTIVE_TIME",e[e.DAYS_SINCE_FIRST_MINIS_ACTIVITY=134]="DAYS_SINCE_FIRST_MINIS_ACTIVITY",e[e.DAYS_SINCE_LAST_MINIS_ACTIVITY=135]="DAYS_SINCE_LAST_MINIS_ACTIVITY",e[e.DEVICE_AV1_DECODING_SUPPORT=136]="DEVICE_AV1_DECODING_SUPPORT",e[e.APP_PACKAGE_INSTALLER=137]="APP_PACKAGE_INSTALLER",e[e.URL=138]="URL",e[e.ESTIMATED_DURATION_FOR_EVENT_MS=139]="ESTIMATED_DURATION_FOR_EVENT_MS",e[e.MEDIA_SOURCE=140]="MEDIA_SOURCE",e[e.ASSET_TYPE=141]="ASSET_TYPE",e[e.STORY_VIEWS_5TH_TAB_ENGAGEMENT_LEVEL=142]="STORY_VIEWS_5TH_TAB_ENGAGEMENT_LEVEL",e[e.REPORTED_AGE=143]="REPORTED_AGE",e[e.ANDROID_MOBILE_SERVICES_PROVIDER=144]="ANDROID_MOBILE_SERVICES_PROVIDER",e[e.IS_ACQUIRED_USER=145]="IS_ACQUIRED_USER",e[e.YDPI=146]="YDPI",e[e.BOLT_IS_CONTENT_POPULAR=147]="BOLT_IS_CONTENT_POPULAR",e[e.CAPTURE_MODE=148]="CAPTURE_MODE",e[e.BIDIRECTIONAL_FRIEND_STATUS_VELLUM=149]="BIDIRECTIONAL_FRIEND_STATUS_VELLUM",e[e.ORIGIN=150]="ORIGIN",e[e.LENSCORE_VERSION=151]="LENSCORE_VERSION",e[e.SNAPKIT_APP_ID=152]="SNAPKIT_APP_ID",e[e.GPU=153]="GPU",e[e.CHIPSET_NAME=154]="CHIPSET_NAME",e[e.CHIPSET_VERSION=155]="CHIPSET_VERSION",e[e.HAS_ZERO_IDFA=156]="HAS_ZERO_IDFA",e[e.LIMIT_AD_TRACKING=157]="LIMIT_AD_TRACKING",e[e.ATT_AUTH_STATUS=158]="ATT_AUTH_STATUS",e[e.VP9_SOFTWARE_DECODING_SUPPORTED=159]="VP9_SOFTWARE_DECODING_SUPPORTED",e[e.AV1_SOFTWARE_DECODING_SUPPORTED=160]="AV1_SOFTWARE_DECODING_SUPPORTED",e[e.WITH_MUSIC=161]="WITH_MUSIC",e[e.CAMERA2_FRONT_SS_GAIN_OVER_TPA=162]="CAMERA2_FRONT_SS_GAIN_OVER_TPA",e[e.ATTACHMENT_TOOL_V2=163]="ATTACHMENT_TOOL_V2",e[e.MEDIA_TYPE=164]="MEDIA_TYPE",e[e.USER_PERSONA_V3=165]="USER_PERSONA_V3",e[e.FEATURE_PROVIDED_SIZE=166]="FEATURE_PROVIDED_SIZE",e[e.SNAPS_SEND_WITH_HEVC=167]="SNAPS_SEND_WITH_HEVC",e[e.SNAPS_SEND_WITHOUT_HEVC=168]="SNAPS_SEND_WITHOUT_HEVC",e[e.CAMERA2_NATIVE_CRASH_OVER_CAMERA1=169]="CAMERA2_NATIVE_CRASH_OVER_CAMERA1",e[e.CAMERA2_G2S_LATENCY_OVER_CAMERA1=170]="CAMERA2_G2S_LATENCY_OVER_CAMERA1",e[e.SCANNED_CATEGORY_IDS=171]="SCANNED_CATEGORY_IDS",e[e.CONTENT_VIEW_SOURCE=172]="CONTENT_VIEW_SOURCE",e[e.IS_INTERNAL=173]="IS_INTERNAL",e[e.IS_WEB=174]="IS_WEB",e[e.RECIPIENTS_SUPPORT_HEVC=175]="RECIPIENTS_SUPPORT_HEVC",e[e.APP_OPEN_TO_MAP=176]="APP_OPEN_TO_MAP",e[e.APP_OPEN_TO_FRIENDSFEED=177]="APP_OPEN_TO_FRIENDSFEED",e[e.APP_OPEN_TO_LENSES=178]="APP_OPEN_TO_LENSES",e[e.APP_OPEN_TO_MEMORIES=179]="APP_OPEN_TO_MEMORIES",e[e.APP_OPEN_TO_COMMUNITY=180]="APP_OPEN_TO_COMMUNITY",e[e.APP_OPEN_TO_SPOTLIGHT=181]="APP_OPEN_TO_SPOTLIGHT",e[e.IS_IMPACTED_BY_PINC_893=182]="IS_IMPACTED_BY_PINC_893",e[e.DAYS_BEFORE_BIRTHDAY=183]="DAYS_BEFORE_BIRTHDAY",e[e.HAS_BIPA=184]="HAS_BIPA",e[e.EMAIL_VERIFIED=185]="EMAIL_VERIFIED",e[e.PHONE_VERIFIED=186]="PHONE_VERIFIED",e[e.NOTIFICATION_PERM_GRANTED=187]="NOTIFICATION_PERM_GRANTED",e[e.CONTACT_PERM_GRANTED=188]="CONTACT_PERM_GRANTED",e[e.MUTUAL_FRIENDS_COUNT=189]="MUTUAL_FRIENDS_COUNT",e[e.GROUPS_COUNT=190]="GROUPS_COUNT",e[e.SPOTLIGHT_STORY_ENGAGEMENT_STATUS=191]="SPOTLIGHT_STORY_ENGAGEMENT_STATUS",e[e.HAS_NON_TEAM_SNAPCHAT_CONVERSATIONS=192]="HAS_NON_TEAM_SNAPCHAT_CONVERSATIONS",e[e.COGNAC_APP_ID=193]="COGNAC_APP_ID",e[e.PLAYBACK_ITEM_TYPE=194]="PLAYBACK_ITEM_TYPE",e[e.SUP_IS_BIRTHDAY_PARTY_ENABLED=195]="SUP_IS_BIRTHDAY_PARTY_ENABLED",e[e.SUP_FHP_LAST_INTERACTION_TIME_MILLIS_TO_NOW=196]="SUP_FHP_LAST_INTERACTION_TIME_MILLIS_TO_NOW",e[e.SUP_FHP_CONTACT_SYNC_INTERACTION_COUNT=197]="SUP_FHP_CONTACT_SYNC_INTERACTION_COUNT",e[e.SUP_FHP_CONTACT_SYNC_LAST_SHOWN_TIME_MILLIS_TO_NOW=198]="SUP_FHP_CONTACT_SYNC_LAST_SHOWN_TIME_MILLIS_TO_NOW",e[e.SUP_FHP_NOTIFICATION_PERMISSION_INTERACTION_COUNT=199]="SUP_FHP_NOTIFICATION_PERMISSION_INTERACTION_COUNT",e[e.SUP_FHP_NOTIFICATION_PERMISSION_LAST_SHOWN_TIME_MILLIS_TO_NOW=200]="SUP_FHP_NOTIFICATION_PERMISSION_LAST_SHOWN_TIME_MILLIS_TO_NOW",e[e.SUP_FHP_PHONE_VERIFICATION_INTERACTION_COUNT=201]="SUP_FHP_PHONE_VERIFICATION_INTERACTION_COUNT",e[e.SUP_FHP_PHONE_VERIFICATION_LAST_SHOWN_TIME_MILLIS_TO_NOW=202]="SUP_FHP_PHONE_VERIFICATION_LAST_SHOWN_TIME_MILLIS_TO_NOW",e[e.SUP_FHP_BIRTHDAY_PARTY_INTERACTION_COUNT=203]="SUP_FHP_BIRTHDAY_PARTY_INTERACTION_COUNT",e[e.SUP_FHP_BIRTHDAY_PARTY_LAST_SHOWN_TIME_MILLIS_TO_NOW=204]="SUP_FHP_BIRTHDAY_PARTY_LAST_SHOWN_TIME_MILLIS_TO_NOW",e[e.SUP_FHP_EMAIL_VERIFICATION_INTERACTION_COUNT=205]="SUP_FHP_EMAIL_VERIFICATION_INTERACTION_COUNT",e[e.SUP_FHP_EMAIL_VERIFICATION_LAST_SHOWN_TIME_MILLIS_TO_NOW=206]="SUP_FHP_EMAIL_VERIFICATION_LAST_SHOWN_TIME_MILLIS_TO_NOW",e[e.HAS_USED_SPECTACLES=207]="HAS_USED_SPECTACLES",e[e.BOLT_CLIENT_APP_STATE=208]="BOLT_CLIENT_APP_STATE",e[e.EMAIL_SET=209]="EMAIL_SET",e[e.BITMOJI_SET=210]="BITMOJI_SET",e[e.QUICK_TAP_CAMERA_SUPPORTED_ENABLED=211]="QUICK_TAP_CAMERA_SUPPORTED_ENABLED",e[e.HAS_ADD_FRIENDS_REQUEST=212]="HAS_ADD_FRIENDS_REQUEST",e[e.APP_LAUNCH_FROM_PUSH=213]="APP_LAUNCH_FROM_PUSH",e[e.APP_LAUNCH_TYPE=214]="APP_LAUNCH_TYPE",e[e.BILLBOARD_CAMPAIGN_LOCAL_IMPRESSION_COUNT=215]="BILLBOARD_CAMPAIGN_LOCAL_IMPRESSION_COUNT",e[e.BILLBOARD_CAMPAIGN_LOCAL_LAST_IMPRESSION_TIME_SECS_TO_NOW=216]="BILLBOARD_CAMPAIGN_LOCAL_LAST_IMPRESSION_TIME_SECS_TO_NOW",e[e.BILLBOARD_CAMPAIGN_LOCAL_CONTINUOUS_DISMISS_COUNT=217]="BILLBOARD_CAMPAIGN_LOCAL_CONTINUOUS_DISMISS_COUNT",e[e.FST_NUM_IN_APP_WARNINGS=218]="FST_NUM_IN_APP_WARNINGS",e[e.FST_SHOULD_CHANGE_PASSWORD=219]="FST_SHOULD_CHANGE_PASSWORD",e[e.FST_IS_BACKGROUND_CHECK=220]="FST_IS_BACKGROUND_CHECK",e[e.SUP_FST_IDENTITY_VERIFICATION_IMPRESSION_COUNT=221]="SUP_FST_IDENTITY_VERIFICATION_IMPRESSION_COUNT",e[e.SUP_FST_IDENTITY_VERIFICATION_LAST_IMPRESSION_TIME_SECS_TO_NOW=222]="SUP_FST_IDENTITY_VERIFICATION_LAST_IMPRESSION_TIME_SECS_TO_NOW",e[e.SUP_FST_FRIEND_ADD_LAST_IMPRESSION_TIME_SECS_TO_NOW=223]="SUP_FST_FRIEND_ADD_LAST_IMPRESSION_TIME_SECS_TO_NOW",e[e.SUP_FST_CONTACT_SYNC_IMPRESSION_COUNT=224]="SUP_FST_CONTACT_SYNC_IMPRESSION_COUNT",e[e.SUP_FST_CONTACT_SYNC_LAST_IMPRESSION_TIME_SECS_TO_NOW=225]="SUP_FST_CONTACT_SYNC_LAST_IMPRESSION_TIME_SECS_TO_NOW",e[e.SUP_FST_BITMOJI_CREATION_IMPRESSION_COUNT=226]="SUP_FST_BITMOJI_CREATION_IMPRESSION_COUNT",e[e.SUP_FST_BITMOJI_CREATION_LAST_IMPRESSION_TIME_SECS_TO_NOW=227]="SUP_FST_BITMOJI_CREATION_LAST_IMPRESSION_TIME_SECS_TO_NOW",e[e.SUP_FST_USER_REACHABILITY_LAST_IMPRESSION_TIME_SECS_TO_NOW=228]="SUP_FST_USER_REACHABILITY_LAST_IMPRESSION_TIME_SECS_TO_NOW",e[e.SUP_FST_BIPA_HAS_CLICKED=229]="SUP_FST_BIPA_HAS_CLICKED",e[e.INCLUSION_PANEL_MEMBER=230]="INCLUSION_PANEL_MEMBER",e[e.AUDIO_RECORD_PERM_GRANTED=231]="AUDIO_RECORD_PERM_GRANTED",e[e.MUTUAL_FRIENDS_WITH_BIRTHDAY_COUNT=232]="MUTUAL_FRIENDS_WITH_BIRTHDAY_COUNT",e[e.BILLBOARD_CAMPAIGN_LOCAL_DISMISS_COUNT=233]="BILLBOARD_CAMPAIGN_LOCAL_DISMISS_COUNT",e[e.SUP_PAC_PHONE_VERIFICATION_DISMISS_COUNT=234]="SUP_PAC_PHONE_VERIFICATION_DISMISS_COUNT",e[e.SUP_PAC_BIRTHDAY_MINI_IMPRESSION_COUNT=235]="SUP_PAC_BIRTHDAY_MINI_IMPRESSION_COUNT",e[e.SUP_PAC_BIRTHDAY_MINI_DISMISS_COUNT=236]="SUP_PAC_BIRTHDAY_MINI_DISMISS_COUNT",e[e.SUP_PAC_RUN_FOR_OFFICE_MINI_IMPRESSION_COUNT=237]="SUP_PAC_RUN_FOR_OFFICE_MINI_IMPRESSION_COUNT",e[e.SUP_PAC_RUN_FOR_OFFICE_MINI_DISMISS_COUNT=238]="SUP_PAC_RUN_FOR_OFFICE_MINI_DISMISS_COUNT",e[e.SUP_PAC_FRIEND_CHECKUP_LAST_SHOWN_TIME_MILLIS_TO_NOW=239]="SUP_PAC_FRIEND_CHECKUP_LAST_SHOWN_TIME_MILLIS_TO_NOW",e[e.SUP_PAC_FRIEND_CHECKUP_IMPRESSION_COUNT=240]="SUP_PAC_FRIEND_CHECKUP_IMPRESSION_COUNT",e[e.SUP_PAC_FRIEND_CHECKUP_CLICK_COUNT=241]="SUP_PAC_FRIEND_CHECKUP_CLICK_COUNT",e[e.SUP_PAC_FRIEND_CHECKUP_DISMISS_COUNT=242]="SUP_PAC_FRIEND_CHECKUP_DISMISS_COUNT",e[e.USE_VERTICAL_NAVIGATION=243]="USE_VERTICAL_NAVIGATION",e[e.HEVC_HW_DECODER=244]="HEVC_HW_DECODER",e[e.HEVC_SW_DECODER=245]="HEVC_SW_DECODER",e[e.SUP_FHP_CONTACT_SYNC_IMPRESSION_COUNT=246]="SUP_FHP_CONTACT_SYNC_IMPRESSION_COUNT",e[e.SUP_FHP_NOTIFICATION_PERMISSION_IMPRESSION_COUNT=247]="SUP_FHP_NOTIFICATION_PERMISSION_IMPRESSION_COUNT",e[e.SUP_FHP_PHONE_VERIFICATION_IMPRESSION_COUNT=248]="SUP_FHP_PHONE_VERIFICATION_IMPRESSION_COUNT",e[e.SUP_FHP_EMAIL_VERIFICATION_IMPRESSION_COUNT=249]="SUP_FHP_EMAIL_VERIFICATION_IMPRESSION_COUNT",e[e.MEMORIES_COUNT=250]="MEMORIES_COUNT",e[e.SUP_FHP_CONTACT_SYNC_DISMISS_COUNT=251]="SUP_FHP_CONTACT_SYNC_DISMISS_COUNT",e[e.SUP_FHP_NOTIFICATION_PERMISSION_DISMISS_COUNT=252]="SUP_FHP_NOTIFICATION_PERMISSION_DISMISS_COUNT",e[e.SUP_FHP_PHONE_VERIFICATION_DISMISS_COUNT=253]="SUP_FHP_PHONE_VERIFICATION_DISMISS_COUNT",e[e.SUP_FHP_EMAIL_VERIFICATION_DISMISS_COUNT=254]="SUP_FHP_EMAIL_VERIFICATION_DISMISS_COUNT",e[e.SERVER_ONLY=255]="SERVER_ONLY",e[e.HAS_ACTIVE_SNAPCHAT_PLUS=256]="HAS_ACTIVE_SNAPCHAT_PLUS",e[e.SUP_FST_SNAP_PLUS_IMPRESSION_COUNT=257]="SUP_FST_SNAP_PLUS_IMPRESSION_COUNT",e[e.SUP_FST_SNAP_PLUS_LAST_IMPRESSION_TIME_SECS_TO_NOW=258]="SUP_FST_SNAP_PLUS_LAST_IMPRESSION_TIME_SECS_TO_NOW",e[e.CONFIG_TE_ENABLED=259]="CONFIG_TE_ENABLED",e[e.SNAP_KIT_OAUTH_ID=260]="SNAP_KIT_OAUTH_ID",e[e.ORGANIZATION_TYPE=261]="ORGANIZATION_TYPE",e[e.CHUNK_UPLOAD_SUPPORT_REQUIRED=262]="CHUNK_UPLOAD_SUPPORT_REQUIRED",e[e.SUP_FST_IOS_LOCKSCREEN_WIDGET_IMPRESSION_COUNT=263]="SUP_FST_IOS_LOCKSCREEN_WIDGET_IMPRESSION_COUNT",e[e.SUP_FST_IOS_LOCKSCREEN_WIDGET_LAST_IMPRESSION_TIME_SECS_TO_NOW=264]="SUP_FST_IOS_LOCKSCREEN_WIDGET_LAST_IMPRESSION_TIME_SECS_TO_NOW",e[e.SUP_FST_IOS_LOCKSCREEN_WIDGET_CLICK_COUNT=265]="SUP_FST_IOS_LOCKSCREEN_WIDGET_CLICK_COUNT",e[e.SUP_PAC_MY_PROFILE_IOS_LOCKSCREEN_WIDGET_CLICK_COUNT=266]="SUP_PAC_MY_PROFILE_IOS_LOCKSCREEN_WIDGET_CLICK_COUNT",e[e.SUP_PAC_MY_PROFILE_IOS_LOCKSCREEN_WIDGET_DISMISS_COUNT=267]="SUP_PAC_MY_PROFILE_IOS_LOCKSCREEN_WIDGET_DISMISS_COUNT",e[e.SUP_IOS_LOCK_SCREEN_WIDGET_ENABLED=268]="SUP_IOS_LOCK_SCREEN_WIDGET_ENABLED",e[e.CLOUDFRONT_POP=269]="CLOUDFRONT_POP",e[e.BILLBOARD_CAMPAIGN_LOCAL_FIRST_IMPRESSION_TIME_SECS_TO_NOW=270]="BILLBOARD_CAMPAIGN_LOCAL_FIRST_IMPRESSION_TIME_SECS_TO_NOW",e[e.BILLBOARD_CAMPAIGN_LOCAL_CLICK_COUNT=271]="BILLBOARD_CAMPAIGN_LOCAL_CLICK_COUNT",e[e.BILLBOARD_CAMPAIGN_LOCAL_INTERACTION_COUNT=272]="BILLBOARD_CAMPAIGN_LOCAL_INTERACTION_COUNT",e[e.BILLBOARD_CAMPAIGN_LOCAL_LAST_INTERACTION_TIME_SECS_TO_NOW=273]="BILLBOARD_CAMPAIGN_LOCAL_LAST_INTERACTION_TIME_SECS_TO_NOW",e[e.SNAP_PRIVACY=274]="SNAP_PRIVACY",e[e.FST_LOCK_SCREEN_WIDGET_BILLBOARD_LAUNCHED_FROM_PUSH=275]="FST_LOCK_SCREEN_WIDGET_BILLBOARD_LAUNCHED_FROM_PUSH",e[e.WEB_SCREEN_WIDTH=276]="WEB_SCREEN_WIDTH",e[e.WEB_SCREEN_HEIGHT=277]="WEB_SCREEN_HEIGHT",e[e.ADS_INTERFACES_IS_NEW_ORGANIZATION=278]="ADS_INTERFACES_IS_NEW_ORGANIZATION",e[e.SUP_FHP_REGISTER_TO_VOTE_CAMPAIGN_LAST_DISMISS_TIME_MILLIS_TO_NOW=279]="SUP_FHP_REGISTER_TO_VOTE_CAMPAIGN_LAST_DISMISS_TIME_MILLIS_TO_NOW",e[e.GHE_ORGANIZATION=280]="GHE_ORGANIZATION",e[e.GHE_REPOSITORY=281]="GHE_REPOSITORY",e[e.GHE_USER_EMAIL=282]="GHE_USER_EMAIL",e[e.BUILD_DEFINITION_ID=283]="BUILD_DEFINITION_ID",e[e.BUILD_DEFINITION_NAME=284]="BUILD_DEFINITION_NAME",e[e.LCA_PRINCIPAL=285]="LCA_PRINCIPAL",e[e.MEDIA_PERFORMANCE_CLASS=286]="MEDIA_PERFORMANCE_CLASS",e[e.COMMUNITY_COUNT=287]="COMMUNITY_COUNT",e[e.USER_GROUP=9999]="USER_GROUP",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(br||(br={}));var kr,Gr,Fr=function(){if("undefined"!==typeof Fr)return Fr;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"}();be().util.Long!==ke()&&(be().util.Long=ke(),be().configure()),function(e){e[e.UNKNOWN_UNSET=0]="UNKNOWN_UNSET",e[e.USER=1]="USER",e[e.SNAPCHAT_CLIENT=2]="SNAPCHAT_CLIENT",e[e.WEB_CLIENT=3]="WEB_CLIENT",e[e.WEB_SNAPCHAT_USER=4]="WEB_SNAPCHAT_USER",e[e.AD_ACCOUNT=5]="AD_ACCOUNT",e[e.AM_ORGANIZATION=6]="AM_ORGANIZATION",e[e.AM_MEMBER=7]="AM_MEMBER",e[e.AM_SESSION=8]="AM_SESSION",e[e.AM_PROFILE=9]="AM_PROFILE",e[e.AM_SNAPCHAT_USER=10]="AM_SNAPCHAT_USER",e[e.SNAPCHAT_ADVERTISING=11]="SNAPCHAT_ADVERTISING",e[e.AM_CLIENT=12]="AM_CLIENT",e[e.CONFIG_DEVICE=13]="CONFIG_DEVICE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(kr||(kr={})),function(e){e[e.UNSET=0]="UNSET",e[e.SERVER_TRIGGER=1]="SERVER_TRIGGER",e[e.CLIENT_TRIGGER=2]="CLIENT_TRIGGER",e[e.ALLOCATION=3]="ALLOCATION",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Gr||(Gr={}));var Vr=function(){if("undefined"!==typeof Vr)return Vr;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"}();be().util.Long!==ke()&&(be().util.Long=ke(),be().configure());var Br,Hr=(0,Wt.createContext)(null);Hr.Provider;!function(e){e[e.NOOP=0]="NOOP",e[e.CONSOLE=1]="CONSOLE"}(Br||(Br={}));var xr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Wr=function(){return function(e){return function(t,n){return xr(void 0,void 0,void 0,h().mark((function r(){var i,o;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e(t,n);case 2:return i=r.sent,r.prev=3,r.next=6,i.arrayBuffer();case 6:o=r.sent,r.next=12;break;case 9:r.prev=9,r.t0=r.catch(3),o=new ArrayBuffer(0);case 12:return r.abrupt("return",[o,i]);case 13:case"end":return r.stop()}}),r,null,[[3,9]])})))}}},Kr=function(e){return"string"===typeof e||"number"===typeof e},Yr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};function jr(e){var t=new Promise((function(t,n){e.onsuccess=function(){return t(e.result)},e.onerror=function(){return n(e.error)}}));return t.request=e,t}function qr(e){return new Promise((function(t,n){e.onsuccess=function(){var n=e.result;t(n?{cursor:n,continue:function(){return n.continue(),qr(e)}}:{cursor:null,continue:function(){return Promise.reject()}})},e.onerror=function(){return n(e.error)}}))}var Zr=function(){function e(t){var n;D(this,e),this.databaseName="Snap.CameraKit.".concat(t.databaseName),this.databaseVersion=t.databaseVersion,this.objectStore=null!==(n=t.objectStore)&&void 0!==n?n:t.databaseName,this.db=this.openDatabase(indexedDB.open(this.databaseName,this.databaseVersion)),this.size=0}return b(e,[{key:"retrieve",value:function(e){return this.simpleTransaction("readonly",(function(t){return t.get(e)}))}},{key:"retrieveAll",value:function(){return this.simpleTransaction("readonly",(function(e){return e.getAll()}))}},{key:"remove",value:function(e){return Yr(this,void 0,void 0,h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.simpleTransaction("readwrite",(function(t){return t.delete(e)}));case 2:this.size--;case 3:case"end":return t.stop()}}),t,this)})))}},{key:"removeAll",value:function(){return Yr(this,void 0,void 0,h().mark((function e(){var t,n,r,i,o,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.transaction("readwrite");case 3:return n=e.sent,r=n.store,i=n.done,e.next=8,qr(r.openCursor());case 8:o=e.sent,a=[];case 10:if(!o.cursor){e.next=18;break}return t.push(o.cursor.value),a.push(jr(r.delete(o.cursor.key))),e.next=15,o.continue();case 15:o=e.sent,e.next=10;break;case 18:return e.next=20,Promise.all(a.concat(i));case 20:return this.size=0,e.abrupt("return",t);case 22:case"end":return e.stop()}}),e,this)})))}},{key:"store",value:function(e,t){return Yr(this,void 0,void 0,h().mark((function n(){var r,i,o;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i="undefined"===typeof t?e:t,Kr(r="undefined"===typeof t?void 0:e)||"undefined"===typeof r){n.next=4;break}throw new TypeError("IndexedDBPersistence failed to "+"store a value. Invalid key type: ".concat(typeof r));case 4:return n.next=6,this.simpleTransaction("readwrite",(function(e){return e.put(i,r)}));case 6:return o=n.sent,this.size++,n.abrupt("return",o);case 9:case"end":return n.stop()}}),n,this)})))}},{key:"openDatabase",value:function(e){return Yr(this,void 0,void 0,h().mark((function t(){var n,r,i=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=jr(e)).request.onupgradeneeded=function(){try{n.request.result.createObjectStore(i.objectStore,{autoIncrement:!0})}catch(e){if(e instanceof DOMException&&"ConstraintError"===e.name)return;throw e}},t.next=4,n;case 4:return(r=t.sent).onclose=function(){i.db=i.openDatabase(indexedDB.open(i.databaseName,i.databaseVersion))},t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))}},{key:"simpleTransaction",value:function(e,t){return Yr(this,void 0,void 0,h().mark((function n(){var i,o,a,s,u,c;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.transaction(e);case 2:return i=n.sent,o=i.store,a=i.done,n.next=7,Promise.all([jr(t(o)),a]);case 7:return s=n.sent,u=r(s,1),c=u[0],n.abrupt("return",c);case 11:case"end":return n.stop()}}),n,this)})))}},{key:"transaction",value:function(e){return Yr(this,void 0,void 0,h().mark((function t(){var n,r,i,o;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db;case 2:return n=t.sent,r=n.transaction(this.objectStore,e),i=r.objectStore(this.objectStore),o=new Promise((function(e,t){r.oncomplete=function(){return e()},r.onerror=function(){return t(r.error)},r.onabort=function(){return t(new DOMException("The transaction was aborted","AbortError"))}})),t.abrupt("return",{tx:r,store:i,done:o});case 7:case"end":return t.stop()}}),t,this)})))}}]),e}(),zr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Xr=x("responseCacheHandler"),Jr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Qr=function(e){var t=r(e,2),n=t[0],i=t[1];return Jr(void 0,void 0,void 0,h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r=n,o=Object.assign({"x-snap-client-user-agent":_.userAgent},i),Ir().rpc.unary(Sr,Nn(r),o);case 2:return delete(t=e.sent).toObject,e.abrupt("return",t);case 5:case"end":return e.stop()}var r,o}),e)})))},$r="cof",ei=E("cofHandler",(function(){return pr(),new w(Qr).map((function(e){return function(t,n){return Jr(void 0,void 0,void 0,h().mark((function r(){var i,o,a,s,u,c;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=Gt({dimensions:i={requestType:$r}}),a=o.requestId,r.prev=2,r.next=5,e(t,n);case 5:s=r.sent,u=200,c=0,r.prev=8,c=(new TextEncoder).encode(JSON.stringify(s)).byteLength;case 10:return r.prev=10,Ft({requestId:a,dimensions:i,status:u,sizeByte:c}),r.abrupt("return",s);case 14:r.next=20;break;case 16:throw r.prev=16,r.t0=r.catch(2),Vt({requestId:a,dimensions:i,error:le(r.t0)}),r.t0;case 20:case"end":return r.stop()}}),r,null,[[2,16],[8,,10,14]])})))}})).map(Q({retryPredicate:function(e){return e instanceof Error}})).map(te({timeout:5e3})).map(function(e){var t=e.cache,n=e.keyResolver,i=e.maxAge;return function(e){return function(o,a){return zr(void 0,void 0,void 0,h().mark((function s(){var u,c,_,l,E,d;return h().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:s.prev=0,u=n(o,a),s.next=8;break;case 4:return s.prev=4,s.t0=s.catch(0),Xr.warn("Could not resolve cache key due to error",s.t0),s.abrupt("return",e(o,a));case 8:return s.prev=8,s.next=11,e(o,a);case 11:return c=s.sent,s.next=14,t.store(u,[Date.now(),c]).catch((function(e){return Xr.warn("Could not cache response with key ".concat(u),e)}));case 14:return Xr.debug("Added/updated cache entry for key",u),s.abrupt("return",c);case 18:return s.prev=18,s.t1=s.catch(8),Xr.debug("Inner handler threw",s.t1,"\nWill try to lookup cache..."),s.next=23,t.retrieve(u).catch((function(e){return Xr.warn("Unable to retrieve response from cache",e)}));case 23:if(!(_=s.sent)){s.next=30;break}if(l=r(_,2),E=l[0],d=l[1],!(E+1e3*i>Date.now())){s.next=28;break}return s.abrupt("return",d);case 28:throw Xr.debug("Stale cache entry for key",u,", re-throwing original error..."),s.t1;case 30:throw Xr.debug("No cache entry for key",u,", re-throwing original error..."),s.t1;case 32:case"end":return s.stop()}}),s,null,[[0,4],[8,18]])})))}}}({cache:new Zr({databaseName:"COFCache"}),keyResolver:function(e){return JSON.stringify(e)},maxAge:604800})).handler})),ti=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},ni=x("deviceDependentAssetLoader");function ri(e){return e.reduce((function(e,t){var n=t.configId,r=t.value;if(!function(e){return P(e)&&O(e.stringValue)}(r))return e;try{var i=JSON.parse(r.stringValue);return function(e){return P(e)&&O(e.url)&&(void 0===e.checksum||O(e.checksum))}(i)?(e.set(n,i),e):e}catch(o){ni.warn("COF config with id=".concat(n,' has "stringValue" that can\'t be parsed as JSON. If this is a ')+"device-dependent asset configuration with malformed JSON, we may be unable to fetch the corresponding asset.")}return e}),new Map)}var ii,oi,ai=E("deviceDependentAssetLoader",[ne.token,ei.token,p],(function(e,t,n){var i=new w(e).map(Wr()).handler,o=new Promise((function(e,r){return ti(void 0,void 0,void 0,h().mark((function i(){var o,a;return h().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,n.lensPerformance;case 2:o=i.sent,a=-1===(null===o||void 0===o?void 0:o.cluster)||null===o||void 0===o?void 0:o.cluster,t([{namespaces:[rr.LENS_CORE],lensClusterOrig4:a}]).then(e).catch(r);case 5:case"end":return i.stop()}}),i)})))})),a=Tt(ri);return function(e){var t=e.assetId;return ti(this,void 0,void 0,h().mark((function e(){var n,s,u,c,_,l;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.catch((function(e){throw _e(new Error("Failed to fetch lens asset configuration from COF."),e)}));case 2:if(n=e.sent,s=a(n.configResults).get(t)){e.next=6;break}throw new Error("Cannot load lens asset ".concat(t,". No config found in COF for this asset."));case 6:return e.next=8,i(s.url);case 8:if(u=e.sent,c=r(u,2),_=c[0],(l=c[1]).ok){e.next=14;break}throw l;case 14:return e.abrupt("return",{data:_,checksum:s.checksum});case 15:case"end":return e.stop()}}),e)})))}})),si=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},ui=E("remoteMediaAssetLoader",[ne.token],(function(e){var t=new w(e).map(Wr()).handler;return function(e){return si(this,void 0,void 0,h().mark((function n(){var i,o,a,s;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(e.assetId);case 2:if(i=n.sent,o=r(i,2),a=o[0],(s=o[1]).ok){n.next=8;break}throw s;case 8:return n.abrupt("return",a);case 9:case"end":return n.stop()}}),n)})))}})),ci=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},_i=E("staticAssetLoader",[ne.token,It.token],(function(e,t){var n=new w(e).map(Wr()).handler;return function(e,i){return ci(void 0,void 0,void 0,h().mark((function o(){var a,s,u,c,_,l,E,d;return h().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(u=null===(a=t.getCachedLens(i.id))||void 0===a?void 0:a.content,c=null===(s=null===u||void 0===u?void 0:u.assetManifest.find((function(t){return t.id===e.assetId})))||void 0===s?void 0:s.assetUrl){o.next=4;break}throw new Error("Cannot load lens asset ".concat(e.assetId,". Static asset URL could not be found."));case 4:return o.next=6,n(c);case 6:if(_=o.sent,l=r(_,2),E=l[0],(d=l[1]).ok){o.next=12;break}throw d;case 12:return o.abrupt("return",E);case 13:case"end":return o.stop()}}),o)})))}})),li=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Ei=x("LensAssetProvider"),di=new Set([xe.PRELOAD_UNSET,xe.REQUIRED]),fi=function(){function e(t,n,r,i){var o=this;D(this,e),this.lensCore=t,this.assetLoaders=n,this.lensContext=r,this.stateTarget=i,t.setRemoteAssetsProvider((function(e){o.provideRemoteAsset(e).catch((function(e){return Ei.warn(e)}))}))}return b(e,[{key:"preloadManifestData",value:function(e){return li(this,void 0,void 0,h().mark((function t(){var n=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.filter((function(e){return di.has(e.requestTiming)})).map((function(e){var t=e.id,r=e.type;return n.provideRemoteAsset({assetId:t,assetType:n.convertToLensCoreAssetType(r)})})));case 2:case"end":return t.stop()}}),t)})))}},{key:"convertToLensCoreAssetType",value:function(e){switch(e){case He.ASSET:return this.lensCore.AssetType.Static;case He.DEVICE_DEPENDENT_ASSET_UNSET:case He.UNRECOGNIZED:return this.lensCore.AssetType.DeviceDependent;default:return Re()}}},{key:"getAsset",value:function(e){var t,n,i;return li(this,void 0,void 0,h().mark((function o(){var a,s,u,c,_,l,E,d,f,I,p,S,T,N,v,A=this;return h().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(a=e.assetId,s=e.assetType,u=null!==(t=this.assetLoaders.get(s))&&void 0!==t?t:[],c=r(u,2),_=c[0],l=c[1],E={requestType:"asset",assetId:a,assetType:null!==_&&void 0!==_?_:"unknown",lensId:null!==(i=null===(n=this.lensContext.activeLens)||void 0===n?void 0:n.id)&&void 0!==i?i:"unknown"},d=Gt({dimensions:E}),f=d.requestId,o.prev=4,l){o.next=7;break}throw new Error("Cannot get asset ".concat(a,'. Asset type "').concat(s.value,'" is not supported.'));case 7:if(this.lensContext.activeLens){o.next=9;break}throw new Error("Cannot get asset ".concat(a,". Request must be made while a lens is applied, but no lens is ")+"currently applied.");case 9:return o.next=11,l(e,ge(this.lensContext.activeLens));case 11:if(I=o.sent,p=I instanceof ArrayBuffer?I:I.data,S=I instanceof ArrayBuffer?void 0:I.checksum,0!==(T=p.byteLength)){o.next=18;break}throw N=l.name||"anonymous",new Error("Got empty response for asset ".concat(a," of type ").concat(null!==_&&void 0!==_?_:"unknown"," from ")+"assetLoader ".concat(N,"."));case 18:return Ft({requestId:f,dimensions:E,status:200,sizeByte:T}),o.abrupt("return",{assetId:a,assetBuffer:p,assetType:s,assetChecksum:S,onFailure:function(t){/Checksum validation failed/.test(t.message)&&A.stateTarget.dispatchEvent(new Ut("assetValidationFailure",e))}});case 22:throw o.prev=22,o.t0=o.catch(4),v=_e(new Error("Failed to load lens asset ".concat(a,".")),o.t0),Vt({requestId:f,dimensions:E,error:v}),v;case 27:case"end":return o.stop()}}),o,this,[[4,22]])})))}},{key:"provideRemoteAsset",value:function(e){return li(this,void 0,void 0,h().mark((function t(){var n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getAsset(e);case 3:n=t.sent,this.lensCore.provideRemoteAssetsResponse(n),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),this.lensCore.provideRemoteAssetsResponse({assetId:e.assetId,assetType:e.assetType}),t.t0;case 11:case"end":return t.stop()}}),t,this,[[0,7]])})))}}]),e}(),Ii=E("lensAssetsProvider",[ue.token,Bt.token,ai.token,ui.token,_i.token,Ht.token],(function(e,t,n,r,i,o){return new fi(e,new Map([[e.AssetType.DeviceDependent,["DeviceDependent",n]],[e.AssetType.RemoteMediaByUrl,["RemoteMediaByUrl",r]],[e.AssetType.URL,["URL",r]],[e.AssetType.Static,["Static",i]]]),t,o)}));function pi(e){switch(e){case 0:case"NOT_APPLICABLE":return ii.NOT_APPLICABLE;case 1:case"SPOOKEY":return ii.SPOOKEY;case 2:case"REGISTRY":return ii.REGISTRY;case 3:case"FIDELIUS":return ii.FIDELIUS;default:return ii.UNRECOGNIZED}}function Si(e){switch(e){case ii.NOT_APPLICABLE:return 0;case ii.SPOOKEY:return 1;case ii.REGISTRY:return 2;case ii.FIDELIUS:return 3;default:return 0}}function Ti(){return{key:new Uint8Array,ivStore:{},isKeyServerEncrypted:!1,isKeyE2eEncrypted:!1,encryptionScheme:ii.NOT_APPLICABLE}}!function(e){e.NOT_APPLICABLE="NOT_APPLICABLE",e.SPOOKEY="SPOOKEY",e.REGISTRY="REGISTRY",e.FIDELIUS="FIDELIUS",e.UNRECOGNIZED="UNRECOGNIZED"}(ii||(ii={})),function(e){e.NOT_APPLICABLE="NOT_APPLICABLE",e.CONTEXT="CONTEXT",e.INTERSTITIAL="INTERSTITIAL",e.UNRECOGNIZED="UNRECOGNIZED"}(oi||(oi={}));var hi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return 0!==e.key.length&&t.uint32(10).bytes(e.key),Object.entries(e.ivStore).forEach((function(e){var n=r(e,2),i=n[0],o=n[1];Ci.encode({key:i,value:o},t.uint32(18).fork()).ldelim()})),!0===e.isKeyServerEncrypted&&t.uint32(24).bool(e.isKeyServerEncrypted),!0===e.isKeyE2eEncrypted&&t.uint32(32).bool(e.isKeyE2eEncrypted),e.encryptionScheme!==ii.NOT_APPLICABLE&&t.uint32(40).int32(Si(e.encryptionScheme)),t},Ni=function(e,t){for(var n=e instanceof Me.Reader?e:new Me.Reader(e),r=void 0===t?n.len:n.pos+t,i=Ti();n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.key=n.bytes();break;case 2:var a=Ci.decode(n,n.uint32());void 0!==a.value&&(i.ivStore[a.key]=a.value);break;case 3:i.isKeyServerEncrypted=n.bool();break;case 4:i.isKeyE2eEncrypted=n.bool();break;case 5:i.encryptionScheme=pi(n.int32());break;default:n.skipType(7&o)}}return i},vi=function(e){return{key:qi(e.key)?xi(e.key):new Uint8Array,ivStore:ji(e.ivStore)?Object.entries(e.ivStore).reduce((function(e,t){var n=r(t,2),i=n[0],o=n[1];return e[i]=xi(o),e}),{}):{},isKeyServerEncrypted:!!qi(e.isKeyServerEncrypted)&&Boolean(e.isKeyServerEncrypted),isKeyE2eEncrypted:!!qi(e.isKeyE2eEncrypted)&&Boolean(e.isKeyE2eEncrypted),encryptionScheme:qi(e.encryptionScheme)?pi(e.encryptionScheme):ii.NOT_APPLICABLE}},Ai=function(e){var t={};return void 0!==e.key&&(t.key=Ki(void 0!==e.key?e.key:new Uint8Array)),t.ivStore={},e.ivStore&&Object.entries(e.ivStore).forEach((function(e){var n=r(e,2),i=n[0],o=n[1];t.ivStore[i]=Ki(o)})),void 0!==e.isKeyServerEncrypted&&(t.isKeyServerEncrypted=e.isKeyServerEncrypted),void 0!==e.isKeyE2eEncrypted&&(t.isKeyE2eEncrypted=e.isKeyE2eEncrypted),void 0!==e.encryptionScheme&&(t.encryptionScheme=function(e){switch(e){case ii.NOT_APPLICABLE:return"NOT_APPLICABLE";case ii.SPOOKEY:return"SPOOKEY";case ii.REGISTRY:return"REGISTRY";case ii.FIDELIUS:return"FIDELIUS";default:return"UNKNOWN"}}(e.encryptionScheme)),t},Oi=function(e){var t,n,i,o,a,s=Ti();return s.key=null!==(t=e.key)&&void 0!==t?t:new Uint8Array,s.ivStore=Object.entries(null!==(n=e.ivStore)&&void 0!==n?n:{}).reduce((function(e,t){var n=r(t,2),i=n[0],o=n[1];return void 0!==o&&(e[i]=o),e}),{}),s.isKeyServerEncrypted=null!==(i=e.isKeyServerEncrypted)&&void 0!==i&&i,s.isKeyE2eEncrypted=null!==(o=e.isKeyE2eEncrypted)&&void 0!==o&&o,s.encryptionScheme=null!==(a=e.encryptionScheme)&&void 0!==a?a:ii.NOT_APPLICABLE,s};function Ri(){return{key:"",value:new Uint8Array}}var Ci={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return""!==e.key&&t.uint32(10).string(e.key),0!==e.value.length&&t.uint32(18).bytes(e.value),t},decode:function(e,t){for(var n=e instanceof Me.Reader?e:new Me.Reader(e),r=void 0===t?n.len:n.pos+t,i=Ri();n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.key=n.string();break;case 2:i.value=n.bytes();break;default:n.skipType(7&o)}}return i},fromJSON:function(e){return{key:qi(e.key)?String(e.key):"",value:qi(e.value)?xi(e.value):new Uint8Array}},toJSON:function(e){var t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=Ki(void 0!==e.value?e.value:new Uint8Array)),t},fromPartial:function(e){var t,n,r=Ri();return r.key=null!==(t=e.key)&&void 0!==t?t:"",r.value=null!==(n=e.value)&&void 0!==n?n:new Uint8Array,r}};function yi(){return{store:{},serializedStore:new Uint8Array}}var gi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return Object.entries(e.store).forEach((function(e){var n=r(e,2),i=n[0],o=n[1];Di.encode({key:i,value:o},t.uint32(10).fork()).ldelim()})),0!==e.serializedStore.length&&t.uint32(18).bytes(e.serializedStore),t},Pi=function(e,t){for(var n=e instanceof Me.Reader?e:new Me.Reader(e),r=void 0===t?n.len:n.pos+t,i=yi();n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:var a=Di.decode(n,n.uint32());void 0!==a.value&&(i.store[a.key]=a.value);break;case 2:i.serializedStore=n.bytes();break;default:n.skipType(7&o)}}return i},mi=function(e){return{store:ji(e.store)?Object.entries(e.store).reduce((function(e,t){var n=r(t,2),i=n[0],o=n[1];return e[i]=String(o),e}),{}):{},serializedStore:qi(e.serializedStore)?xi(e.serializedStore):new Uint8Array}},Li=function(e){var t={store:{}};return e.store&&Object.entries(e.store).forEach((function(e){var n=r(e,2),i=n[0],o=n[1];t.store[i]=o})),void 0!==e.serializedStore&&(t.serializedStore=Ki(void 0!==e.serializedStore?e.serializedStore:new Uint8Array)),t},Ui=function(e){var t,n,i=yi();return i.store=Object.entries(null!==(t=e.store)&&void 0!==t?t:{}).reduce((function(e,t){var n=r(t,2),i=n[0],o=n[1];return void 0!==o&&(e[i]=String(o)),e}),{}),i.serializedStore=null!==(n=e.serializedStore)&&void 0!==n?n:new Uint8Array,i};var Di={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t},decode:function(e,t){for(var n=e instanceof Me.Reader?e:new Me.Reader(e),r=void 0===t?n.len:n.pos+t,i={key:"",value:""};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.key=n.string();break;case 2:i.value=n.string();break;default:n.skipType(7&o)}}return i},fromJSON:function(e){return{key:qi(e.key)?String(e.key):"",value:qi(e.value)?String(e.value):""}},toJSON:function(e){var t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value),t},fromPartial:function(e){var t,n,r={key:"",value:""};return r.key=null!==(t=e.key)&&void 0!==t?t:"",r.value=null!==(n=e.value)&&void 0!==n?n:"",r}};var Mi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return Object.entries(e.playerData).forEach((function(e){var n=r(e,2),i=n[0],o=n[1];Fi.encode({key:i,value:o},t.uint32(10).fork()).ldelim()})),t},bi=function(e,t){for(var n=e instanceof Me.Reader?e:new Me.Reader(e),r=void 0===t?n.len:n.pos+t,i={playerData:{}};n.pos<r;){var o=n.uint32();if(o>>>3===1){var a=Fi.decode(n,n.uint32());void 0!==a.value&&(i.playerData[a.key]=a.value)}else n.skipType(7&o)}return i},wi=function(e){return{playerData:ji(e.playerData)?Object.entries(e.playerData).reduce((function(e,t){var n=r(t,2),i=n[0],o=n[1];return e[i]=mi(o),e}),{}):{}}},ki=function(e){var t={playerData:{}};return e.playerData&&Object.entries(e.playerData).forEach((function(e){var n=r(e,2),i=n[0],o=n[1];t.playerData[i]=Li(o)})),t},Gi=function(e){var t,n={playerData:{}};return n.playerData=Object.entries(null!==(t=e.playerData)&&void 0!==t?t:{}).reduce((function(e,t){var n=r(t,2),i=n[0],o=n[1];return void 0!==o&&(e[i]=Ui(o)),e}),{}),n};var Fi={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return""!==e.key&&t.uint32(10).string(e.key),void 0!==e.value&&gi(e.value,t.uint32(18).fork()).ldelim(),t},decode:function(e,t){for(var n=e instanceof Me.Reader?e:new Me.Reader(e),r=void 0===t?n.len:n.pos+t,i={key:"",value:void 0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.key=n.string();break;case 2:i.value=Pi(n,n.uint32());break;default:n.skipType(7&o)}}return i},fromJSON:function(e){return{key:qi(e.key)?String(e.key):"",value:qi(e.value)?mi(e.value):void 0}},toJSON:function(e){var t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value?Li(e.value):void 0),t},fromPartial:function(e){var t,n={key:"",value:void 0};return n.key=null!==(t=e.key)&&void 0!==t?t:"",n.value=void 0!==e.value&&null!==e.value?Ui(e.value):void 0,n}};var Vi={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return""!==e.id&&t.uint32(10).string(e.id),""!==e.sessionId&&t.uint32(18).string(e.sessionId),""!==e.playerId&&t.uint32(26).string(e.playerId),void 0!==e.sessionData&&Mi(e.sessionData,t.uint32(34).fork()).ldelim(),0!==e.createdTime&&t.uint32(40).int64(e.createdTime),0!==e.expireTime&&t.uint32(48).int64(e.expireTime),0!==e.version&&t.uint32(56).int32(e.version),void 0!==e.encryptionData&&hi(e.encryptionData,t.uint32(66).fork()).ldelim(),0!==e.sessionDepth&&t.uint32(72).int32(e.sessionDepth),t},decode:function(e,t){for(var n=e instanceof Me.Reader?e:new Me.Reader(e),r=void 0===t?n.len:n.pos+t,i={id:"",sessionId:"",playerId:"",sessionData:void 0,createdTime:0,expireTime:0,version:0,encryptionData:void 0,sessionDepth:0};n.pos<r;){var o=n.uint32();switch(o>>>3){case 1:i.id=n.string();break;case 2:i.sessionId=n.string();break;case 3:i.playerId=n.string();break;case 4:i.sessionData=bi(n,n.uint32());break;case 5:i.createdTime=Yi(n.int64());break;case 6:i.expireTime=Yi(n.int64());break;case 7:i.version=n.int32();break;case 8:i.encryptionData=Ni(n,n.uint32());break;case 9:i.sessionDepth=n.int32();break;default:n.skipType(7&o)}}return i},fromJSON:function(e){return{id:qi(e.id)?String(e.id):"",sessionId:qi(e.sessionId)?String(e.sessionId):"",playerId:qi(e.playerId)?String(e.playerId):"",sessionData:qi(e.sessionData)?wi(e.sessionData):void 0,createdTime:qi(e.createdTime)?Number(e.createdTime):0,expireTime:qi(e.expireTime)?Number(e.expireTime):0,version:qi(e.version)?Number(e.version):0,encryptionData:qi(e.encryptionData)?vi(e.encryptionData):void 0,sessionDepth:qi(e.sessionDepth)?Number(e.sessionDepth):0}},toJSON:function(e){var t={};return void 0!==e.id&&(t.id=e.id),void 0!==e.sessionId&&(t.sessionId=e.sessionId),void 0!==e.playerId&&(t.playerId=e.playerId),void 0!==e.sessionData&&(t.sessionData=e.sessionData?ki(e.sessionData):void 0),void 0!==e.createdTime&&(t.createdTime=Math.round(e.createdTime)),void 0!==e.expireTime&&(t.expireTime=Math.round(e.expireTime)),void 0!==e.version&&(t.version=Math.round(e.version)),void 0!==e.encryptionData&&(t.encryptionData=e.encryptionData?Ai(e.encryptionData):void 0),void 0!==e.sessionDepth&&(t.sessionDepth=Math.round(e.sessionDepth)),t},fromPartial:function(e){var t,n,r,i,o,a,s,u={id:"",sessionId:"",playerId:"",sessionData:void 0,createdTime:0,expireTime:0,version:0,encryptionData:void 0,sessionDepth:0};return u.id=null!==(t=e.id)&&void 0!==t?t:"",u.sessionId=null!==(n=e.sessionId)&&void 0!==n?n:"",u.playerId=null!==(r=e.playerId)&&void 0!==r?r:"",u.sessionData=void 0!==e.sessionData&&null!==e.sessionData?Gi(e.sessionData):void 0,u.createdTime=null!==(i=e.createdTime)&&void 0!==i?i:0,u.expireTime=null!==(o=e.expireTime)&&void 0!==o?o:0,u.version=null!==(a=e.version)&&void 0!==a?a:0,u.encryptionData=void 0!==e.encryptionData&&null!==e.encryptionData?Oi(e.encryptionData):void 0,u.sessionDepth=null!==(s=e.sessionDepth)&&void 0!==s?s:0,u}};var Bi=function(){if("undefined"!==typeof Bi)return Bi;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"}(),Hi=Bi.atob||function(e){return Bi.Buffer.from(e,"base64").toString("binary")};function xi(e){for(var t=Hi(e),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}var Wi=Bi.btoa||function(e){return Bi.Buffer.from(e,"binary").toString("base64")};function Ki(e){var t,n=[],r=i(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push(String.fromCharCode(o))}}catch(a){r.e(a)}finally{r.f()}return Wi(n.join(""))}function Yi(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new Bi.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function ji(e){return"object"===typeof e&&null!==e}function qi(e){return null!==e&&void 0!==e}Me.util.Long!==we&&(Me.util.Long=we,(0,Me.configure)());var Zi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return 0!==e.latitude&&t.uint32(9).double(e.latitude),0!==e.longitude&&t.uint32(17).double(e.longitude),t},zi=function(e){var t,n,r={latitude:0,longitude:0};return r.latitude=null!==(t=e.latitude)&&void 0!==t?t:0,r.longitude=null!==(n=e.longitude)&&void 0!==n?n:0,r};Me.util.Long!==we&&(Me.util.Long=we,(0,Me.configure)());var Xi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return 0!==e.radius&&t.uint32(9).double(e.radius),void 0!==e.center&&Zi(e.center,t.uint32(18).fork()).ldelim(),t},Ji=function(e){var t,n={radius:0,center:void 0};return n.radius=null!==(t=e.radius)&&void 0!==t?t:0,n.center=void 0!==e.center&&null!==e.center?zi(e.center):void 0,n};Me.util.Long!==we&&(Me.util.Long=we,(0,Me.configure)());var Qi=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create(),r=i(e.locations);try{for(r.s();!(t=r.n()).done;){var o=t.value;Xi(o,n.uint32(10).fork()).ldelim()}}catch(a){r.e(a)}finally{r.f()}return void 0!==e.activeLure&&Xi(e.activeLure,n.uint32(18).fork()).ldelim(),void 0!==e.closestLure&&Xi(e.closestLure,n.uint32(26).fork()).ldelim(),n},$i=function(e){var t,n={locations:[],activeLure:void 0,closestLure:void 0};return n.locations=(null===(t=e.locations)||void 0===t?void 0:t.map((function(e){return Ji(e)})))||[],n.activeLure=void 0!==e.activeLure&&null!==e.activeLure?Ji(e.activeLure):void 0,n.closestLure=void 0!==e.closestLure&&null!==e.closestLure?Ji(e.closestLure):void 0,n};Me.util.Long!==we&&(Me.util.Long=we,(0,Me.configure)());var eo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return 0!==e.seconds&&t.uint32(8).int64(e.seconds),0!==e.nanos&&t.uint32(16).int32(e.nanos),t},to=function(){if("undefined"!==typeof to)return to;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"}();Me.util.Long!==we&&(Me.util.Long=we,(0,Me.configure)());var no;function ro(e){switch(e){case no.Invalid:return 0;case no.Aquarius:return 1;case no.Aries:return 2;case no.Cancer:return 3;case no.Capricorn:return 4;case no.Gemini:return 5;case no.Leo:return 6;case no.Libra:return 7;case no.Pisces:return 8;case no.Sagittarius:return 9;case no.Scorpio:return 10;case no.Taurus:return 11;case no.Virgo:return 12;default:return 0}}!function(e){e.Invalid="Invalid",e.Aquarius="Aquarius",e.Aries="Aries",e.Cancer="Cancer",e.Capricorn="Capricorn",e.Gemini="Gemini",e.Leo="Leo",e.Libra="Libra",e.Pisces="Pisces",e.Sagittarius="Sagittarius",e.Scorpio="Scorpio",e.Taurus="Taurus",e.Virgo="Virgo",e.UNRECOGNIZED="UNRECOGNIZED"}(no||(no={}));var io=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return""!==e.avatarId&&t.uint32(10).string(e.avatarId),""!==e.selfieId&&t.uint32(18).string(e.selfieId),t},oo=function(e){var t,n,r={avatarId:"",selfieId:""};return r.avatarId=null!==(t=e.avatarId)&&void 0!==t?t:"",r.selfieId=null!==(n=e.selfieId)&&void 0!==n?n:"",r};var ao=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return void 0!==e.friendshipStart&&eo(Eo(e.friendshipStart),t.uint32(10).fork()).ldelim(),void 0!==e.lastInteraction&&eo(Eo(e.lastInteraction),t.uint32(18).fork()).ldelim(),0!==e.streak&&t.uint32(24).uint32(e.streak),t},so=function(e){var t,n,r,i={friendshipStart:void 0,lastInteraction:void 0,streak:0};return i.friendshipStart=null!==(t=e.friendshipStart)&&void 0!==t?t:void 0,i.lastInteraction=null!==(n=e.lastInteraction)&&void 0!==n?n:void 0,i.streak=null!==(r=e.streak)&&void 0!==r?r:0,i};function uo(){return{userId:"",username:"",birthdate:"",displayName:"",countrycode:"",score:0,bitmojiInfo:void 0,friendInfo:void 0,zodiac:no.Invalid}}var co=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return""!==e.userId&&t.uint32(10).string(e.userId),""!==e.username&&t.uint32(18).string(e.username),""!==e.birthdate&&t.uint32(26).string(e.birthdate),""!==e.displayName&&t.uint32(34).string(e.displayName),""!==e.countrycode&&t.uint32(42).string(e.countrycode),0!==e.score&&t.uint32(56).uint64(e.score),void 0!==e.bitmojiInfo&&io(e.bitmojiInfo,t.uint32(66).fork()).ldelim(),void 0!==e.friendInfo&&ao(e.friendInfo,t.uint32(74).fork()).ldelim(),e.zodiac!==no.Invalid&&t.uint32(80).int32(ro(e.zodiac)),t},_o=function(e){var t,n,r,i,o,a,s,u=uo();return u.userId=null!==(t=e.userId)&&void 0!==t?t:"",u.username=null!==(n=e.username)&&void 0!==n?n:"",u.birthdate=null!==(r=e.birthdate)&&void 0!==r?r:"",u.displayName=null!==(i=e.displayName)&&void 0!==i?i:"",u.countrycode=null!==(o=e.countrycode)&&void 0!==o?o:"",u.score=null!==(a=e.score)&&void 0!==a?a:0,u.bitmojiInfo=void 0!==e.bitmojiInfo&&null!==e.bitmojiInfo?oo(e.bitmojiInfo):void 0,u.friendInfo=void 0!==e.friendInfo&&null!==e.friendInfo?so(e.friendInfo):void 0,u.zodiac=null!==(s=e.zodiac)&&void 0!==s?s:no.Invalid,u};var lo=function(){if("undefined"!==typeof lo)return lo;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"}();function Eo(e){return{seconds:e.getTime()/1e3,nanos:e.getTime()%1e3*1e6}}Me.util.Long!==we&&(Me.util.Long=we,(0,Me.configure)());function fo(){return{store:new Uint8Array}}var Io=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return 0!==e.store.length&&t.uint32(10).bytes(e.store),t},po=function(e){var t,n=fo();return n.store=null!==(t=e.store)&&void 0!==t?t:new Uint8Array,n},So=function(){if("undefined"!==typeof So)return So;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"}();So.atob;So.btoa;Me.util.Long!==we&&(Me.util.Long=we,(0,Me.configure)());function To(){return{data:new Uint8Array}}var ho=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();return 0!==e.data.length&&t.uint32(10).bytes(e.data),t},No=function(e){var t,n=To();return n.data=null!==(t=e.data)&&void 0!==t?t:new Uint8Array,n},vo=function(){if("undefined"!==typeof vo)return vo;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"}();vo.atob;vo.btoa;Me.util.Long!==we&&(Me.util.Long=we,(0,Me.configure)());var Ao,Oo;function Ro(e){switch(e){case Ao.LIVE_CAMERA:return 0;case Ao.STORY_REPLY:return 1;case Ao.CHAT_REPLY:return 2;case Ao.RESTART:return 3;case Ao.PREVIEW_CANCEL:return 4;case Ao.MAP:return 5;default:return 0}}function Co(e){switch(e){case Oo.NONE:return 0;case Oo.EXPERIMENTAL:return 1;default:return 0}}function yo(){return{snappable:void 0,lures:void 0,userId:"",entryPoint:Ao.LIVE_CAMERA,userData:void 0,persistentStore:void 0,launchParams:void 0,apiDescriptors:[]}}!function(e){e.LIVE_CAMERA="LIVE_CAMERA",e.STORY_REPLY="STORY_REPLY",e.CHAT_REPLY="CHAT_REPLY",e.RESTART="RESTART",e.PREVIEW_CANCEL="PREVIEW_CANCEL",e.MAP="MAP",e.UNRECOGNIZED="UNRECOGNIZED"}(Ao||(Ao={})),function(e){e.NONE="NONE",e.EXPERIMENTAL="EXPERIMENTAL",e.UNRECOGNIZED="UNRECOGNIZED"}(Oo||(Oo={}));var go=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Writer.create();void 0!==e.snappable&&Vi.encode(e.snappable,t.uint32(10).fork()).ldelim(),void 0!==e.lures&&Qi(e.lures,t.uint32(18).fork()).ldelim(),""!==e.userId&&t.uint32(26).string(e.userId),e.entryPoint!==Ao.LIVE_CAMERA&&t.uint32(32).int32(Ro(e.entryPoint)),void 0!==e.userData&&co(e.userData,t.uint32(42).fork()).ldelim(),void 0!==e.persistentStore&&Io(e.persistentStore,t.uint32(50).fork()).ldelim(),void 0!==e.launchParams&&ho(e.launchParams,t.uint32(58).fork()).ldelim(),t.uint32(66).fork();var n,r=i(e.apiDescriptors);try{for(r.s();!(n=r.n()).done;){var o=n.value;t.int32(Co(o))}}catch(a){r.e(a)}finally{r.f()}return t.ldelim(),t},Po=function(e){var t,n,r,i=yo();return i.snappable=void 0!==e.snappable&&null!==e.snappable?Vi.fromPartial(e.snappable):void 0,i.lures=void 0!==e.lures&&null!==e.lures?$i(e.lures):void 0,i.userId=null!==(t=e.userId)&&void 0!==t?t:"",i.entryPoint=null!==(n=e.entryPoint)&&void 0!==n?n:Ao.LIVE_CAMERA,i.userData=void 0!==e.userData&&null!==e.userData?_o(e.userData):void 0,i.persistentStore=void 0!==e.persistentStore&&null!==e.persistentStore?po(e.persistentStore):void 0,i.launchParams=void 0!==e.launchParams&&null!==e.launchParams?No(e.launchParams):void 0,i.apiDescriptors=(null===(r=e.apiDescriptors)||void 0===r?void 0:r.map((function(e){return e})))||[],i};Me.util.Long!==we&&(Me.util.Long=we,(0,Me.configure)());var mo=function(e){return!(O(e)||Lo(e))},Lo=function(e){return C(e)&&!Number.isNaN(e)&&Number.isFinite(e)};function Uo(e){if(!P(e)||e instanceof Date)throw new Error("should be a record <string, number | string | string[] | number[]>");for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(Array.isArray(r)){if(!r.every(O)&&!r.every(Lo))throw new Error("only number, string, string[], number[] values are allowed")}else if(mo(r))throw new Error("only number, string, string[], number[] values are allowed")}return!0}var Do=function(e){return go(Po({launchParams:{data:(new TextEncoder).encode(JSON.stringify(e))}})).finish()},Mo=new Set,bo=new Set,wo=document.visibilityState,ko=!1,Go=!1;function Fo(){Go||(Go=!0,document.addEventListener("visibilitychange",(function(){var e="visible"===wo&&"hidden"===document.visibilityState?Mo:"hidden"===wo&&"visible"===document.visibilityState?bo:new Set;ko=document.visibilityState;var t,n=i(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;try{r()}catch(o){"object"===typeof window&&window.dispatchEvent(new CustomEvent("error",{detail:o}))}}}catch(a){n.e(a)}finally{n.f()}wo=ko,ko=!1})))}function Vo(e){return e===ko}function Bo(e){return Fo(),Mo.add(e),function(){return Mo.delete(e)}}var Ho=b((function e(t){D(this,e),this.matrix=t}));Ho.MirrorX=new Ho([-1,0,0,0,1,0,1,0,1]),Ho.MirrorY=new Ho([1,0,0,0,-1,0,0,1,1]),Ho.Identity=new Ho([1,0,0,0,1,0,0,0,1]);var xo=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Wo=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},Ko=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Yo={cameraType:"front",fpsLimit:Number.POSITIVE_INFINITY},jo=function(e){return new Error("".concat(e,". This CameraKitSource is not attached to a CameraKitSession."))},qo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D(this,e),this.sourceInfo=t,this.subscriber=n,this.deviceInfo=Object.assign(Object.assign({},Yo),r)}return b(e,[{key:"attach",value:function(e,t){return Ko(this,void 0,void 0,h().mark((function n(){var r=this;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.lensCore){n.next=2;break}throw new Error("Cannot attach. This CameraKitCustomSource has already been attached to a CameraKitSession. To re-attach, create a copy of this CameraKitCustomSource.");case 2:return this.lensCore=e,n.next=5,new Promise((function(t,n){e.useMediaElement({autoplayNewMedia:!1,autoplayPreviewCanvas:!1,media:r.sourceInfo.media,pauseExistingMedia:!1,replayTrackingData:r.sourceInfo.replayTrackingData,requestWebcam:!1,startOnFrontCamera:"front"===r.deviceInfo.cameraType,useManualFrameProcessing:r.sourceInfo.useManualFrameProcessing,onSuccess:t,onFailure:n})}));case 5:return n.next=7,new Promise((function(t,n){var i=r.deviceInfo.fpsLimit<Number.POSITIVE_INFINITY?r.deviceInfo.fpsLimit:0;e.setFPSLimit({fps:i,onSuccess:t,onFailure:n})}));case 7:if(!this.subscriber.onAttach){n.next=10;break}return n.next=10,this.subscriber.onAttach(this,e,t);case 10:case"end":return n.stop()}}),n,this)})))}},{key:"copy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e(this.sourceInfo,this.subscriber,Object.assign(Object.assign({},this.deviceInfo),t))}},{key:"detach",value:function(){return this.lensCore?this.subscriber.onDetach?this.subscriber.onDetach():void 0:Promise.reject(jo("Cannot detach"))}},{key:"setRenderSize",value:function(e,t){var n=this;return new Promise((function(r,i){if(!n.lensCore)return i(jo("Cannot setRenderSize"));var o={width:e,height:t};n.lensCore.setRenderSize({mode:"explicit",target:o,onSuccess:r,onFailure:i})}))}},{key:"setTransform",value:function(e){var t=this;return new Promise((function(n,r){if(!t.lensCore)return r(jo("Cannot setTransform"));var i=new Float32Array(e.matrix);t.lensCore.setInputTransform({matrix:i,onSuccess:n,onFailure:r})}))}}]),e}();xo([Se,Wo("design:type",Function),Wo("design:paramtypes",[Number,Number]),Wo("design:returntype",Promise)],qo.prototype,"setRenderSize",null),xo([Se,Wo("design:type",Function),Wo("design:paramtypes",[Ho]),Wo("design:returntype",Promise)],qo.prototype,"setTransform",null);var Zo=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},zo={transform:Ho.Identity};function Xo(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign(Object.assign({},zo),n),i=r.transform,o=e.getVideoTracks()[0].getSettings(),a=o.width,s=o.height;return new qo({media:e},{onAttach:function(e){return Zo(t,void 0,void 0,h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===a||void 0===s){t.next=3;break}return t.next=3,e.setRenderSize(a,s);case 3:return t.next=5,e.setTransform(i);case 5:case"end":return t.stop()}}),t)})))}},n)}var Jo={trackingData:new ArrayBuffer(0)};function Qo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign({},Jo),t),i=n.trackingData,o=i.byteLength>0?{buffer:i}:void 0;return new qo({media:e,replayTrackingData:o},{onAttach:function(t){var n=r(0===e.width||0===e.height?[e.videoWidth,e.videoHeight]:[e.width,e.height],2),i=n[0],o=n[1];return t.setRenderSize(i,o)}},t)}var $o={avgFps:0,averageProcessingTime:0,procFrameCount:0,procFrameMean:0,procFrameD2:0},ea=function(){function e(t){var n=this;D(this,e),this.lensCore=t,this.state=Object.assign({},$o),new Promise((function(e,t){n.lensCore.setOnFrameProcessedCallback({onFrameProcessed:function(e){var t=e.processingTimeMs;n.computeRunningStats(t)},onSuccess:e,onFailure:t})}))}return b(e,[{key:"metrics",get:function(){return{avgFps:this.state.avgFps,lensFrameProcessingTimeMsAvg:this.state.procFrameMean,lensFrameProcessingTimeMsStd:Math.sqrt(this.state.procFrameD2/this.state.procFrameCount)}}},{key:"reset",value:function(){this.state=Object.assign({},$o)}},{key:"computeRunningStats",value:function(e){var t=e-this.state.procFrameMean;this.state.procFrameCount+=1,this.state.procFrameMean+=t/this.state.procFrameCount;var n=e-this.state.procFrameMean;if(this.state.procFrameD2+=t*n,void 0===this.priorFrameCompletedTime)this.priorFrameCompletedTime=performance.now();else{var r=(performance.now()-this.priorFrameCompletedTime)/1e3;r<1&&(this.state.avgFps=(this.state.avgFps+1/r)/2),this.priorFrameCompletedTime=performance.now()}}}]),e}(),ta=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},na=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},ra=function(e,t){return function(n,r){t(n,r,e)}},ia=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};function oa(e){return"live"===e||"capture"===e||"all"===e||void 0===e}var aa=function(){function e(t,n,r,i,o,a,s){var u=this;D(this,e),this.lensCore=t,this.events=n,this.fetchLens=r,this.lensAssetsProvider=i,this.lensRepository=o,this.lensContext=a,this.stateTarget=s;var c=this.lensCore.getOutputCanvases();this.output={live:c[this.lensCore.CanvasType.Preview.value],capture:c[this.lensCore.CanvasType.Capture.value]},this.playing=!1,this.frameProcessingMetrics=new ea(this.lensCore),this.stateTarget.dispatchEvent(new Ut("sessionCreated",{}));var _,l=Bo((function(){u.stateTarget.dispatchEvent(new Ut("sessionSuspended",{}))})),E=(_=function(){u.stateTarget.dispatchEvent(new Ut("sessionResumed",{}))},Fo(),bo.add(_),function(){return bo.delete(_)});this.removePageVisibilityHandlers=function(){l(),E()}}return b(e,[{key:"metrics",get:function(){return{frames:this.frameProcessingMetrics.metrics}}},{key:"applyLens",value:function(e,t){return ia(this,void 0,void 0,h().mark((function n(){var i,o=this;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t&&Uo(t)?Do(t):null,n.next=3,this.removeLens();case 3:return n.abrupt("return",new Promise((function(t,n){return ia(o,void 0,void 0,h().mark((function o(){var a,s,u,c,_,l,E,d,f,I=this;return h().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,(a=function(t){I.stateTarget.dispatchEvent(new Ut(t,e)),"lensTurnedOff"!==t&&"lensTurnedOn"!==t||setTimeout((function(){return I.frameProcessingMetrics.reset()}))})("lensApplyStart"),s=this.lensRepository.getCachedLens(e.id)){o.next=6;break}return o.abrupt("return",n(new Error("Cannot apply lens ".concat(e.id,". It has not been loaded by the Lens repository. Use ")+"CameraKit.lenses.repository.loadLens (or loadLensGroups) to load lens metadata before calling CameraKitSession.applyLens.")));case 6:if(u=s.id,c=s.content){o.next=9;break}return o.abrupt("return",n(new Error("Cannot apply lens ".concat(e.id,". Metadata retrieved for this lens does not include the ")+"lens content URL.")));case 9:return this.updateLensContext({activeLens:s}),o.next=12,Promise.all([this.lensAssetsProvider.preloadManifestData(c.assetManifest),this.fetchLens([new Request(c.lnsUrlBolt),{requestType:"lens_content",lensId:u}])]).finally((function(){return a("lensDownloadComplete")}));case 12:_=o.sent,l=r(_,2),l[0],E=r(l[1],1),d=E[0],f={lensId:u,lensDataBuffer:d,lensChecksum:c.lnsSha256,onSuccess:t,onFailure:function(e){I.removeLens(),n(e),/Attempting to add lens from \S*, but checksum validation failed./.test(e.message)&&a("lensContentValidationFailure")},onTurnOn:function(){return a("lensTurnedOn")},onTurnOff:function(){return a("lensTurnedOff")},onResourcesLoaded:function(){return a("lensLoaded")},onFirstFrameProcessed:function(){return a("firstFrameProcessed")}},i&&(f.launchData=i),a("lensInitiated"),this.lensCore.addLens(f),o.next=28;break;case 23:return o.prev=23,o.t0=o.catch(0),o.next=27,this.removeLens();case 27:n(o.t0);case 28:case"end":return o.stop()}}),o,this,[[0,23]])})))})));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"removeLens",value:function(){return ia(this,void 0,void 0,h().mark((function e(){var t=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){return t.lensCore.clearAllLenses({onSuccess:e,onFailure:n})}));case 2:this.updateLensContext({activeLens:void 0});case 3:case"end":return e.stop()}}),e,this)})))}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"live";return ia(this,void 0,void 0,h().mark((function t(){var n,r=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.playing){t.next=2;break}return t.abrupt("return");case 2:return this.playing=e,n=this.renderTargetToCanvasType(e),t.abrupt("return",new Promise((function(e,t){r.lensCore.playCanvas({type:n,onReady:e,onFailure:function(e){r.playing=!1,t(e)}})})));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return ia(this,void 0,void 0,h().mark((function t(){var n,r,i=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.playing){t.next=2;break}return t.abrupt("return");case 2:return n=this.playing,this.playing=!1,r=this.renderTargetToCanvasType(e),t.abrupt("return",new Promise((function(e,t){i.lensCore.pauseCanvas({type:r,onSuccess:e,onFailure:function(e){i.playing=n,t(e)}})})));case 6:case"end":return t.stop()}}),t,this)})))}},{key:"setSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ia(this,void 0,void 0,h().mark((function n(){var r,i,o=this;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.safelyDetachSource();case 2:return r=e instanceof MediaStream?Xo(e,t):e instanceof HTMLVideoElement?Qo(e,t):e,i=this.playing,this.playing=!1,n.next=7,r.attach(this.lensCore,(function(e){o.events.dispatchEvent(new Ut("error",e))}));case 7:if(this.source=r,!i){n.next=11;break}return n.next=11,this.play(i);case 11:return n.abrupt("return",r);case 12:case"end":return n.stop()}}),n,this)})))}},{key:"setFPSLimit",value:function(e){return ia(this,void 0,void 0,h().mark((function t(){var n,r=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e<Number.POSITIVE_INFINITY?e:0,t.abrupt("return",new Promise((function(e,t){r.lensCore.setFPSLimit({fps:n,onSuccess:e,onFailure:t})})));case 2:case"end":return t.stop()}}),t)})))}},{key:"destroy",value:function(){return ia(this,void 0,void 0,h().mark((function e(){var t=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.removeLens();case 2:return e.next=4,this.safelyDetachSource();case 4:return e.next=6,new Promise((function(e,n){t.lensCore.teardown({onSuccess:e,onFailure:n})}));case 6:this.removePageVisibilityHandlers(),this.stateTarget.dispatchEvent(new Ut("sessionDestroyed",{}));case 8:case"end":return e.stop()}}),e,this)})))}},{key:"renderTargetToCanvasType",value:function(e){return"live"===e?this.lensCore.CanvasType.Preview:"capture"===e?this.lensCore.CanvasType.Capture:this.lensCore.CanvasType.All}},{key:"safelyDetachSource",value:function(){return ia(this,void 0,void 0,h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.source){e.next=9;break}return e.prev=1,e.next=4,this.source.detach();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),this.events.dispatchEvent(new Ut("error",_e(new Error("Detaching prior source of type ".concat(typeof this.source," failed.")),e.t0)));case 9:case"end":return e.stop()}}),e,this,[[1,6]])})))}},{key:"updateLensContext",value:function(e){Object.assign(this.lensContext,e)}}]),e}();ta([Se,ra(0,pe((function(e){return P(e)&&O(e.id)&&O(e.name)&&(g(e.iconUrl)||O(e.iconUrl))&&P(e.vendorData)&&L(O)(e.vendorData)&&O(e.cameraFacingPreference)&&(g(e.preview)||function(e){return P(e)&&O(e.imageUrl)}(e.preview))}))),na("design:type",Function),na("design:paramtypes",[Object,Object]),na("design:returntype",Promise)],aa.prototype,"applyLens",null),ta([Se,ra(0,pe(oa)),na("design:type",Function),na("design:paramtypes",[String]),na("design:returntype",Promise)],aa.prototype,"play",null),ta([Se,ra(0,pe(oa)),na("design:type",Function),na("design:paramtypes",[String]),na("design:returntype",Promise)],aa.prototype,"pause",null),ta([Se,na("design:type",Function),na("design:paramtypes",[Object,Object]),na("design:returntype",Promise)],aa.prototype,"setSource",null);var sa=E("CameraKitSession",[ue.token,"eventTarget",Ii.token,ne.token,It.token,Bt.token,Ht.token],(function(e,t,n,i,o,a,s){return new aa(e,t,new w(i).map((function(e){return function(t,n){var i=r(t,2),o=i[0],a=i[1];return Mt(void 0,void 0,void 0,h().mark((function t(){var r,i,s,u,c;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Gt({dimensions:a}),i=r.requestId,t.prev=1,t.next=4,e(o,n);case 4:return s=t.sent,u=s.status,c=wt(s.headers.get("content-length")),Ft({requestId:i,dimensions:a,status:u,sizeByte:c}),t.abrupt("return",s);case 11:throw t.prev=11,t.t0=t.catch(1),Vt({requestId:i,dimensions:a,error:le(t.t0)}),t.t0;case 15:case"end":return t.stop()}}),t,null,[[1,11]])})))}})).map(Wr()).handler,n,o,a,s)})),ua="://";function ca(e){var t=e.indexOf(ua);return[e.slice(0,t),e.slice(t+ua.length)]}function _a(e){return O(e)&&e.includes(ua)}function la(e){return P(e)&&(_a(e.uri)||y(_a,e.uri))&&m(e.handleRequest)&&(g(e.cancelRequest)||m(e.cancelRequest))}function Ea(e){return P(e)&&C(e.code)&&O(e.description)&&O(e.contentType)&&(function(e){return e instanceof ArrayBuffer}(e.data)||function(e){return e instanceof Object.getPrototypeOf(Uint8Array)}(e.data))&&(g(e.metadata)||L(O)(e.metadata))}var da=E("UriHandlers",(function(){return[]}));function fa(e,t,n){if(!y(la,t))throw new Error("Expected an array of UriHandler objects");var o,a=i(t);try{var s=function(){var t,a=o.value,s=a.uri,u=a.handleRequest,c=a.cancelRequest,_=i((Array.isArray(s)?s:[s]).map(ca));try{for(_.s();!(t=_.n()).done;){var l=r(t.value,2),E=l[0],d=l[1];e.registerUriListener(E,d,{handleRequest:function(t){u(t,(function(n){if(!Ea(n))throw new Error("Expected UriResponse object");e.provideUriResponse(t.identifier,n)}),ge(n.activeLens))},cancelRequest:function(e){c&&c(e,ge(n.activeLens))}})}}catch(f){_.e(f)}finally{_.f()}};for(a.s();!(o=a.n()).done;)s()}catch(u){a.e(u)}finally{a.f()}}var Ia,pa=E("metricsEventTarget",(function(){return new Dt})),Sa=new Uint8Array(16);function Ta(){if(!Ia&&!(Ia="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ia(Sa)}var ha=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Na=function(e){return"string"===typeof e&&ha.test(e)},va=[],Aa=0;Aa<256;++Aa)va.push((Aa+256).toString(16).substr(1));var Oa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(va[e[t+0]]+va[e[t+1]]+va[e[t+2]]+va[e[t+3]]+"-"+va[e[t+4]]+va[e[t+5]]+"-"+va[e[t+6]]+va[e[t+7]]+"-"+va[e[t+8]]+va[e[t+9]]+"-"+va[e[t+10]]+va[e[t+11]]+va[e[t+12]]+va[e[t+13]]+va[e[t+14]]+va[e[t+15]]).toLowerCase();if(!Na(n))throw TypeError("Stringified UUID is invalid");return n};var Ra,Ca,ya=function(e,t,n){var r=(e=e||{}).random||(e.rng||Ta)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Oa(r)},ga=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Pa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[],i=0,o=function e(n){return ga(void 0,void 0,void 0,h().mark((function o(){var a;return h().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,i++,!((a=n.map())instanceof Promise)){o.next=11;break}return o.t0=n,o.next=7,a;case 7:o.t1=o.sent,o.t0.next.call(o.t0,o.t1),o.next=12;break;case 11:a&&n.next(a);case 12:o.next=17;break;case 14:o.prev=14,o.t2=o.catch(0),n.reject(o.t2);case 17:return o.prev=17,i--,o.finish(17);case 20:for(;r.length>0&&i<t;)e(r.shift());case 21:case"end":return o.stop()}}),o,null,[[0,14,17,20]])})))};return n&&Bo((function(){for(;r.length>0;)o(r.shift())})),function(n){return function(a,s){return new Promise((function(u,c){var _={map:function(){return e(a)},next:function(e){return n(e,s).then(u).catch(c)},reject:c};i<t?o(_):r.push(_)}))}}},ma=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},La=function(e){var t,n=e.batchReduce,r=e.isBatchComplete,i=e.maxBatchAge,o=e.flushOnPageHidden,a=null===o||void 0===o||o,s=void 0,u=function(){},c=Pa((function(e){return ma(void 0,void 0,void 0,h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(s,e);case 2:return s=t.sent,t.abrupt("return",s);case 4:case"end":return t.stop()}}),t)})))}),1),_=function(e,r,i){var o=r?n(s,r):s;if(o){var a=o instanceof Promise?o.then((function(t){return e(t,i)})).catch((function(){})):e(o,i).catch((function(){}));return s=void 0,clearTimeout(t),u(),a}};return function(e){return function(n,o){return ma(void 0,void 0,void 0,h().mark((function l(){var E,d;return h().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(!Vo("hidden")||!a){l.next=4;break}return l.next=3,_(e,n,o);case 3:return l.abrupt("return");case 4:return void 0===s&&(E=function(){return _(e,void 0,o)},void 0!==i&&(t=setTimeout(E,i)),a&&(u=Bo(E))),d=c((function(){return ma(void 0,void 0,void 0,h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s){t.next=2;break}return t.abrupt("return");case 2:if(r(s)){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,_(e,void 0,o);case 6:case"end":return t.stop()}}),t)})))})),l.abrupt("return",d(n,o));case 7:case"end":return l.stop()}}),l)})))}}},Ua=function(e){var t,n,r,i,o,a,s,u,c,_,l,E,d,f,I,p,S,T,h,N,v,A,O={eventName:"",serverTs:0,userId:"",userAgent:"",country:"",city:"",region:"",eventId:"",instanceId:"",sequenceId:0,osType:"",osVersion:"",appVersion:"",appBuild:"",serverUploadTs:0,eventTime:0,serverReceiptTime:0,maxSequenceIdOnInstance:0,userGuid:"",collection:0,serviceId:"",appType:0,eventData:void 0};return O.eventName=null!==(t=e.eventName)&&void 0!==t?t:"",O.serverTs=null!==(n=e.serverTs)&&void 0!==n?n:0,O.userId=null!==(r=e.userId)&&void 0!==r?r:"",O.userAgent=null!==(i=e.userAgent)&&void 0!==i?i:"",O.country=null!==(o=e.country)&&void 0!==o?o:"",O.city=null!==(a=e.city)&&void 0!==a?a:"",O.region=null!==(s=e.region)&&void 0!==s?s:"",O.eventId=null!==(u=e.eventId)&&void 0!==u?u:"",O.instanceId=null!==(c=e.instanceId)&&void 0!==c?c:"",O.sequenceId=null!==(_=e.sequenceId)&&void 0!==_?_:0,O.osType=null!==(l=e.osType)&&void 0!==l?l:"",O.osVersion=null!==(E=e.osVersion)&&void 0!==E?E:"",O.appVersion=null!==(d=e.appVersion)&&void 0!==d?d:"",O.appBuild=null!==(f=e.appBuild)&&void 0!==f?f:"",O.serverUploadTs=null!==(I=e.serverUploadTs)&&void 0!==I?I:0,O.eventTime=null!==(p=e.eventTime)&&void 0!==p?p:0,O.serverReceiptTime=null!==(S=e.serverReceiptTime)&&void 0!==S?S:0,O.maxSequenceIdOnInstance=null!==(T=e.maxSequenceIdOnInstance)&&void 0!==T?T:0,O.userGuid=null!==(h=e.userGuid)&&void 0!==h?h:"",O.collection=null!==(N=e.collection)&&void 0!==N?N:0,O.serviceId=null!==(v=e.serviceId)&&void 0!==v?v:"",O.appType=null!==(A=e.appType)&&void 0!==A?A:0,O.eventData=void 0!==e.eventData&&null!==e.eventData?Da.fromPartial(e.eventData):void 0,O},Da={fromPartial:function(e){var t={cameraKitException:void 0,cameraKitLensSpin:void 0,cameraKitAssetDownload:void 0,cameraKitLensContentValidationFailed:void 0,cameraKitLensDownload:void 0,cameraKitAssetValidationFailed:void 0,cameraKitSession:void 0,cameraKitWebLensSwipe:void 0,cameraKitWebBenchmarkComplete:void 0};return t.cameraKitException=void 0!==e.cameraKitException&&null!==e.cameraKitException?Ga.fromPartial(e.cameraKitException):void 0,t.cameraKitLensSpin=void 0!==e.cameraKitLensSpin&&null!==e.cameraKitLensSpin?Ma.fromPartial(e.cameraKitLensSpin):void 0,t.cameraKitAssetDownload=void 0!==e.cameraKitAssetDownload&&null!==e.cameraKitAssetDownload?ka.fromPartial(e.cameraKitAssetDownload):void 0,t.cameraKitLensContentValidationFailed=void 0!==e.cameraKitLensContentValidationFailed&&null!==e.cameraKitLensContentValidationFailed?Ba.fromPartial(e.cameraKitLensContentValidationFailed):void 0,t.cameraKitLensDownload=void 0!==e.cameraKitLensDownload&&null!==e.cameraKitLensDownload?wa.fromPartial(e.cameraKitLensDownload):void 0,t.cameraKitAssetValidationFailed=void 0!==e.cameraKitAssetValidationFailed&&null!==e.cameraKitAssetValidationFailed?Ha.fromPartial(e.cameraKitAssetValidationFailed):void 0,t.cameraKitSession=void 0!==e.cameraKitSession&&null!==e.cameraKitSession?Va.fromPartial(e.cameraKitSession):void 0,t.cameraKitWebLensSwipe=void 0!==e.cameraKitWebLensSwipe&&null!==e.cameraKitWebLensSwipe?ba.fromPartial(e.cameraKitWebLensSwipe):void 0,t.cameraKitWebBenchmarkComplete=void 0!==e.cameraKitWebBenchmarkComplete&&null!==e.cameraKitWebBenchmarkComplete?qa.fromPartial(e.cameraKitWebBenchmarkComplete):void 0,t}};!function(e){e[e.IOS_NATIVE=0]="IOS_NATIVE",e[e.IOS_WEB_DESKTOP=1]="IOS_WEB_DESKTOP",e[e.IOS_WEB_MOBILE=2]="IOS_WEB_MOBILE",e[e.ANDROID_NATIVE=3]="ANDROID_NATIVE",e[e.ANDROID_WEB_DESKTOP=4]="ANDROID_WEB_DESKTOP",e[e.ANDROID_WEB_MOBILE=5]="ANDROID_WEB_MOBILE",e[e.OSX_WEB_DESKTOP=6]="OSX_WEB_DESKTOP",e[e.OSX_WEB_MOBILE=7]="OSX_WEB_MOBILE",e[e.WINDOWS_WEB_DESKTOP=8]="WINDOWS_WEB_DESKTOP",e[e.WINDOWS_WEB_MOBILE=9]="WINDOWS_WEB_MOBILE",e[e.LINUX_WEB_DESKTOP=10]="LINUX_WEB_DESKTOP",e[e.LINUX_WEB_MOBILE=11]="LINUX_WEB_MOBILE",e[e.LENSSTUDIO=12]="LENSSTUDIO",e[e.SNAPCAMERA=13]="SNAPCAMERA",e[e.WEB_DESKTOP=14]="WEB_DESKTOP",e[e.WEB_MOBILE=15]="WEB_MOBILE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Ra||(Ra={})),function(e){e[e.COLLECTION_UNUSED=0]="COLLECTION_UNUSED",e[e.GAE=1]="GAE",e[e.GCE_M=2]="GCE_M",e[e.GCE_S=3]="GCE_S",e[e.GCE_T=4]="GCE_T",e[e.GKE_M=5]="GKE_M",e[e.GKE_S=6]="GKE_S",e[e.GKE_T=7]="GKE_T",e[e.LOCAL=8]="LOCAL",e[e.GCE_ST=9]="GCE_ST",e[e.GKE_ST=10]="GKE_ST",e[e.GCE_C=11]="GCE_C",e[e.GCE_SC=12]="GCE_SC",e[e.GCE_TC=13]="GCE_TC",e[e.GCE_TSC=14]="GCE_TSC",e[e.GKE_C=15]="GKE_C",e[e.GKE_SC=16]="GKE_SC",e[e.GKE_TC=17]="GKE_TC",e[e.GKE_TSC=18]="GKE_TSC",e[e.GKE_W=19]="GKE_W",e[e.GKE_WT=20]="GKE_WT",e[e.GKE_WC=21]="GKE_WC",e[e.GKE_WSC=22]="GKE_WSC",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Ca||(Ca={}));var Ma={fromPartial:function(e){var t,n,r={cameraKitEventBase:void 0,lensId:"",viewTimeSec:0};return r.cameraKitEventBase=void 0!==e.cameraKitEventBase&&null!==e.cameraKitEventBase?Za.fromPartial(e.cameraKitEventBase):void 0,r.lensId=null!==(t=e.lensId)&&void 0!==t?t:"",r.viewTimeSec=null!==(n=e.viewTimeSec)&&void 0!==n?n:0,r}};var ba={fromPartial:function(e){var t,n,r,i,o,a,s,u,c,_,l,E={cameraKitEventBase:void 0,performanceCluster:0,webglRendererInfo:"",lensId:"",lensFrameProcessingTimeMsAvg:0,lensFrameProcessingTimeMsStd:0,viewTimeSec:0,recordingTimeSec:0,applyDelaySec:0,avgFps:0,isLensFirstWithinDay:!1,isLensFirstWithinMonth:!1};return E.cameraKitEventBase=void 0!==e.cameraKitEventBase&&null!==e.cameraKitEventBase?Za.fromPartial(e.cameraKitEventBase):void 0,E.performanceCluster=null!==(t=e.performanceCluster)&&void 0!==t?t:0,E.webglRendererInfo=null!==(n=e.webglRendererInfo)&&void 0!==n?n:"",E.lensId=null!==(r=e.lensId)&&void 0!==r?r:"",E.lensFrameProcessingTimeMsAvg=null!==(i=e.lensFrameProcessingTimeMsAvg)&&void 0!==i?i:0,E.lensFrameProcessingTimeMsStd=null!==(o=e.lensFrameProcessingTimeMsStd)&&void 0!==o?o:0,E.viewTimeSec=null!==(a=e.viewTimeSec)&&void 0!==a?a:0,E.recordingTimeSec=null!==(s=e.recordingTimeSec)&&void 0!==s?s:0,E.applyDelaySec=null!==(u=e.applyDelaySec)&&void 0!==u?u:0,E.avgFps=null!==(c=e.avgFps)&&void 0!==c?c:0,E.isLensFirstWithinDay=null!==(_=e.isLensFirstWithinDay)&&void 0!==_&&_,E.isLensFirstWithinMonth=null!==(l=e.isLensFirstWithinMonth)&&void 0!==l&&l,E}};var wa={fromPartial:function(e){var t,n,r,i,o={cameraKitEventBase:void 0,lensId:"",automaticDownload:!1,downloadTimeSec:0,sizeByte:0};return o.cameraKitEventBase=void 0!==e.cameraKitEventBase&&null!==e.cameraKitEventBase?Za.fromPartial(e.cameraKitEventBase):void 0,o.lensId=null!==(t=e.lensId)&&void 0!==t?t:"",o.automaticDownload=null!==(n=e.automaticDownload)&&void 0!==n&&n,o.downloadTimeSec=null!==(r=e.downloadTimeSec)&&void 0!==r?r:0,o.sizeByte=null!==(i=e.sizeByte)&&void 0!==i?i:0,o}};var ka={fromPartial:function(e){var t,n,r,i,o={cameraKitEventBase:void 0,automaticDownload:!1,downloadTimeSec:0,sizeByte:0,assetId:""};return o.cameraKitEventBase=void 0!==e.cameraKitEventBase&&null!==e.cameraKitEventBase?Za.fromPartial(e.cameraKitEventBase):void 0,o.automaticDownload=null!==(t=e.automaticDownload)&&void 0!==t&&t,o.downloadTimeSec=null!==(n=e.downloadTimeSec)&&void 0!==n?n:0,o.sizeByte=null!==(r=e.sizeByte)&&void 0!==r?r:0,o.assetId=null!==(i=e.assetId)&&void 0!==i?i:"",o}};var Ga={fromPartial:function(e){var t,n,r,i={cameraKitEventBase:void 0,lensId:"",type:"",reason:""};return i.cameraKitEventBase=void 0!==e.cameraKitEventBase&&null!==e.cameraKitEventBase?Za.fromPartial(e.cameraKitEventBase):void 0,i.lensId=null!==(t=e.lensId)&&void 0!==t?t:"",i.type=null!==(n=e.type)&&void 0!==n?n:"",i.reason=null!==(r=e.reason)&&void 0!==r?r:"",i}};var Fa,Va={fromPartial:function(e){var t,n,r,i,o,a={cameraKitEventBase:void 0,dailySessionBucket:0,isFirstWithinMonth:!1,day:0,month:0,year:0};return a.cameraKitEventBase=void 0!==e.cameraKitEventBase&&null!==e.cameraKitEventBase?Za.fromPartial(e.cameraKitEventBase):void 0,a.dailySessionBucket=null!==(t=e.dailySessionBucket)&&void 0!==t?t:0,a.isFirstWithinMonth=null!==(n=e.isFirstWithinMonth)&&void 0!==n&&n,a.day=null!==(r=e.day)&&void 0!==r?r:0,a.month=null!==(i=e.month)&&void 0!==i?i:0,a.year=null!==(o=e.year)&&void 0!==o?o:0,a}};!function(e){e[e.NO_SESSION_BUCKET=0]="NO_SESSION_BUCKET",e[e.ONE_SESSION=1]="ONE_SESSION",e[e.TWO_SESSION=2]="TWO_SESSION",e[e.THREE_SESSION=3]="THREE_SESSION",e[e.FOUR_SESSION=4]="FOUR_SESSION",e[e.FIVE_SESSION=5]="FIVE_SESSION",e[e.SIX_SESSION=6]="SIX_SESSION",e[e.SEVEN_SESSION=7]="SEVEN_SESSION",e[e.EIGHT_SESSION=8]="EIGHT_SESSION",e[e.NINE_SESSION=9]="NINE_SESSION",e[e.TEN_OR_MORE_SESSION=10]="TEN_OR_MORE_SESSION",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Fa||(Fa={}));var Ba={fromPartial:function(e){var t,n={cameraKitEventBase:void 0,lensId:""};return n.cameraKitEventBase=void 0!==e.cameraKitEventBase&&null!==e.cameraKitEventBase?Za.fromPartial(e.cameraKitEventBase):void 0,n.lensId=null!==(t=e.lensId)&&void 0!==t?t:"",n}};var Ha={fromPartial:function(e){var t,n={cameraKitEventBase:void 0,assetId:""};return n.cameraKitEventBase=void 0!==e.cameraKitEventBase&&null!==e.cameraKitEventBase?Za.fromPartial(e.cameraKitEventBase):void 0,n.assetId=null!==(t=e.assetId)&&void 0!==t?t:"",n}};var xa,Wa,Ka,Ya,ja,qa={fromPartial:function(e){var t,n,r,i,o={cameraKitEventBase:void 0,benchmarkName:"",benchmarkValue:0,performanceCluster:0,webglRendererInfo:""};return o.cameraKitEventBase=void 0!==e.cameraKitEventBase&&null!==e.cameraKitEventBase?Za.fromPartial(e.cameraKitEventBase):void 0,o.benchmarkName=null!==(t=e.benchmarkName)&&void 0!==t?t:"",o.benchmarkValue=null!==(n=e.benchmarkValue)&&void 0!==n?n:0,o.performanceCluster=null!==(r=e.performanceCluster)&&void 0!==r?r:0,o.webglRendererInfo=null!==(i=e.webglRendererInfo)&&void 0!==i?i:"",o}},Za={fromPartial:function(e){var t,n,r,i,o,a,s,u,c,_,l,E={kitEventBase:void 0,deviceCluster:0,cameraKitVersion:"",lensCoreVersion:"",deviceModel:"",cameraKitVariant:0,cameraKitFlavor:0,appId:"",deviceConnectivity:0,sessionId:"",appVendorUuid:"",rankingRequestId:""};return E.kitEventBase=void 0!==e.kitEventBase&&null!==e.kitEventBase?za.fromPartial(e.kitEventBase):void 0,E.deviceCluster=null!==(t=e.deviceCluster)&&void 0!==t?t:0,E.cameraKitVersion=null!==(n=e.cameraKitVersion)&&void 0!==n?n:"",E.lensCoreVersion=null!==(r=e.lensCoreVersion)&&void 0!==r?r:"",E.deviceModel=null!==(i=e.deviceModel)&&void 0!==i?i:"",E.cameraKitVariant=null!==(o=e.cameraKitVariant)&&void 0!==o?o:0,E.cameraKitFlavor=null!==(a=e.cameraKitFlavor)&&void 0!==a?a:0,E.appId=null!==(s=e.appId)&&void 0!==s?s:"",E.deviceConnectivity=null!==(u=e.deviceConnectivity)&&void 0!==u?u:0,E.sessionId=null!==(c=e.sessionId)&&void 0!==c?c:"",E.appVendorUuid=null!==(_=e.appVendorUuid)&&void 0!==_?_:"",E.rankingRequestId=null!==(l=e.rankingRequestId)&&void 0!==l?l:"",E}},za={fromPartial:function(e){var t,n,r,i,o,a,s,u,c,_,l,E,d,f,I,p,S,T,h,N={oauthClientId:"",locale:"",kitUserAgent:"",ipAddress:"",osMinorVersion:"",kitVariant:0,kitVariantVersion:"",kitClientTimestampMillis:0,clientSequenceId:0,maxClientSequenceIdOnInstance:0,targetArchitecture:"",runningWithDebuggerAttached:!1,runningInTests:!1,runningInSimulator:!1,isAppPrerelease:!1,kitAppId:"",kitSessionId:"",kitPluginType:0,isFromReactNativePlugin:!1};return N.oauthClientId=null!==(t=e.oauthClientId)&&void 0!==t?t:"",N.locale=null!==(n=e.locale)&&void 0!==n?n:"",N.kitUserAgent=null!==(r=e.kitUserAgent)&&void 0!==r?r:"",N.ipAddress=null!==(i=e.ipAddress)&&void 0!==i?i:"",N.osMinorVersion=null!==(o=e.osMinorVersion)&&void 0!==o?o:"",N.kitVariant=null!==(a=e.kitVariant)&&void 0!==a?a:0,N.kitVariantVersion=null!==(s=e.kitVariantVersion)&&void 0!==s?s:"",N.kitClientTimestampMillis=null!==(u=e.kitClientTimestampMillis)&&void 0!==u?u:0,N.clientSequenceId=null!==(c=e.clientSequenceId)&&void 0!==c?c:0,N.maxClientSequenceIdOnInstance=null!==(_=e.maxClientSequenceIdOnInstance)&&void 0!==_?_:0,N.targetArchitecture=null!==(l=e.targetArchitecture)&&void 0!==l?l:"",N.runningWithDebuggerAttached=null!==(E=e.runningWithDebuggerAttached)&&void 0!==E&&E,N.runningInTests=null!==(d=e.runningInTests)&&void 0!==d&&d,N.runningInSimulator=null!==(f=e.runningInSimulator)&&void 0!==f&&f,N.isAppPrerelease=null!==(I=e.isAppPrerelease)&&void 0!==I&&I,N.kitAppId=null!==(p=e.kitAppId)&&void 0!==p?p:"",N.kitSessionId=null!==(S=e.kitSessionId)&&void 0!==S?S:"",N.kitPluginType=null!==(T=e.kitPluginType)&&void 0!==T?T:0,N.isFromReactNativePlugin=null!==(h=e.isFromReactNativePlugin)&&void 0!==h&&h,N}};!function(e){e[e.CAMERA_KIT_CONNECTIVITY_TYPE_UNKNOWN=0]="CAMERA_KIT_CONNECTIVITY_TYPE_UNKNOWN",e[e.CAMERA_KIT_CONNECTIVITY_TYPE_WIFI=1]="CAMERA_KIT_CONNECTIVITY_TYPE_WIFI",e[e.CAMERA_KIT_CONNECTIVITY_TYPE_MOBILE=2]="CAMERA_KIT_CONNECTIVITY_TYPE_MOBILE",e[e.CAMERA_KIT_CONNECTIVITY_TYPE_UNREACHABLE=3]="CAMERA_KIT_CONNECTIVITY_TYPE_UNREACHABLE",e[e.CAMERA_KIT_CONNECTIVITY_TYPE_BLUETOOTH=4]="CAMERA_KIT_CONNECTIVITY_TYPE_BLUETOOTH",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(xa||(xa={})),function(e){e[e.CAMERA_KIT_FLAVOR_UNKNOWN=0]="CAMERA_KIT_FLAVOR_UNKNOWN",e[e.CAMERA_KIT_FLAVOR_DEBUG=1]="CAMERA_KIT_FLAVOR_DEBUG",e[e.CAMERA_KIT_FLAVOR_RELEASE=2]="CAMERA_KIT_FLAVOR_RELEASE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Wa||(Wa={})),function(e){e[e.CAMERA_KIT_VARIANT_UNKNOWN=0]="CAMERA_KIT_VARIANT_UNKNOWN",e[e.CAMERA_KIT_VARIANT_PARTNER=1]="CAMERA_KIT_VARIANT_PARTNER",e[e.CAMERA_KIT_VARIANT_PUBLIC=2]="CAMERA_KIT_VARIANT_PUBLIC",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Ka||(Ka={})),function(e){e[e.NO_PLUGIN=0]="NO_PLUGIN",e[e.UNITY=1]="UNITY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Ya||(Ya={})),function(e){e[e.UNKNOWN_KIT_TYPE=0]="UNKNOWN_KIT_TYPE",e[e.BITMOJI_KIT=1]="BITMOJI_KIT",e[e.CREATIVE_KIT=2]="CREATIVE_KIT",e[e.LOGIN_KIT=3]="LOGIN_KIT",e[e.STORY_KIT=4]="STORY_KIT",e[e.CAMERA_KIT=5]="CAMERA_KIT",e[e.SHOP_KIT=6]="SHOP_KIT",e[e.EULA_KIT=7]="EULA_KIT",e[e.PAYMENTS_KIT=8]="PAYMENTS_KIT",e[e.INVITE_KIT=9]="INVITE_KIT",e[e.CAMERA_KIT_WEB=10]="CAMERA_KIT_WEB",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(ja||(ja={}));var Xa=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Ja=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Qa=E("metricsHandler",[Ne.token],(function(e){return new w(e).map(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=void 0,r=Pa((function(t){return Xa(void 0,void 0,void 0,h().mark((function r(){var i;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===n){r.next=5;break}if(!((i=e-(Date.now()-n))>0)){r.next=5;break}return r.next=5,Ja(i);case 5:return n=Date.now(),r.abrupt("return",t);case 7:case"end":return r.stop()}}),r)})))}),1,t);return function(e){return function(n,i){return Vo("hidden")&&t?e(n,i):r(e)(n,i)}}}(1e3)).handler}));function $a(e,t,n){var i=ya(),o=new w(t).map(Pa((function(e){var t={batchEvents:{"@type":"com.snapchat.analytics.blizzard.ServerEventBatch",serverEvents:e}};return new Request("https://api-kit.snapchat.com/com.snap.camerakit.v3.Metrics/metrics/business_events",{method:"POST",body:JSON.stringify(t),credentials:"include",keepalive:!0})}))).map(La({batchReduce:function(e,t){var n=null!==e&&void 0!==e?e:[];return n.push(t),n},isBatchComplete:function(e){return e.length>=100},maxBatchAge:5e3})).handler;ht(n).forEach((function(t){var n=r(t,2),a=n[0],s=n[1];e.addEventListener(a,(function(e){var t,n=e.detail,a=r(s((t=n,Object.assign(Object.assign({},t),{cameraKitEventBase:Za.fromPartial({kitEventBase:za.fromPartial({locale:_.locale,kitVariant:ja.CAMERA_KIT_WEB,kitVariantVersion:_.sdkShortVersion,kitClientTimestampMillis:Date.now()}),deviceCluster:0,cameraKitVersion:_.sdkLongVersion,lensCoreVersion:_.lensCoreVersion,deviceModel:_.deviceModel,cameraKitVariant:Ka.CAMERA_KIT_VARIANT_PARTNER,cameraKitFlavor:Wa.CAMERA_KIT_FLAVOR_DEBUG,appId:_.appId,deviceConnectivity:xa.CAMERA_KIT_CONNECTIVITY_TYPE_WIFI,sessionId:i})}))),2);!function(e,t){o(Ua({eventName:e,osType:_.osType,osVersion:_.osVersion,maxSequenceIdOnInstance:0,sequenceId:0,eventData:t}))}(a[0],a[1])}))}))}var es=E("businessEventsReporter",[pa.token,Qa.token],(function(e,t){$a(e,t,{assetDownload:function(e){return["CAMERA_KIT_ASSET_DOWNLOAD",{cameraKitAssetDownload:ka.fromPartial(e)}]},assetValidationFailed:function(e){return["CAMERA_KIT_ASSET_VALIDATION_FAILED",{cameraKitAssetValidationFailed:Ha.fromPartial(e)}]},benchmarkComplete:function(e){return["CAMERA_KIT_WEB_BENCHMARK_COMPLETE",{cameraKitWebBenchmarkComplete:qa.fromPartial(e)}]},exception:function(e){return["CAMERA_KIT_EXCEPTION",{cameraKitException:Ga.fromPartial(e)}]},lensDownload:function(e){return["CAMERA_KIT_LENS_DOWNLOAD",{cameraKitLensDownload:wa.fromPartial(e)}]},lensView:function(e){return["CAMERA_KIT_WEB_LENS_SWIPE",{cameraKitWebLensSwipe:ba.fromPartial(e)}]},lensWait:function(e){return["CAMERA_KIT_LENS_SPIN",{cameraKitLensSpin:Ma.fromPartial(e)}]},lensContentValidationFailed:function(e){return["CAMERA_KIT_LENS_CONTENT_VALIDATION_FAILED",{cameraKitLensContentValidationFailed:Ba.fromPartial(e)}]},session:function(e){return["CAMERA_KIT_SESSION",{cameraKitSession:Va.fromPartial(e)}]}})}));var ts=function(e){var t,n,r,i,o,a,s={};return void 0!==e.name&&(s.name=e.name),void 0!==e.timestamp&&(s.timestamp=e.timestamp.toISOString()),"count"===(null===(t=e.metric)||void 0===t?void 0:t.$case)&&(s.count=Math.round(null===(n=e.metric)||void 0===n?void 0:n.count)),"latencyMillis"===(null===(r=e.metric)||void 0===r?void 0:r.$case)&&(s.latencyMillis=Math.round(null===(i=e.metric)||void 0===i?void 0:i.latencyMillis)),"histogram"===(null===(o=e.metric)||void 0===o?void 0:o.$case)&&(s.histogram=Math.round(null===(a=e.metric)||void 0===a?void 0:a.histogram)),s};var ns=function(e){var t={};return e.metrics?t.metrics=e.metrics.map((function(e){return e?ts(e):void 0})):t.metrics=[],t},rs=function(){if("undefined"!==typeof rs)return rs;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"}();Me.util.Long!==we&&(Me.util.Long=we,(0,Me.configure)());var is,os;!function(e){e.CAMERA_KIT_FLAVOR_UNSET="CAMERA_KIT_FLAVOR_UNSET",e.CAMERA_KIT_FLAVOR_DEBUG="CAMERA_KIT_FLAVOR_DEBUG",e.CAMERA_KIT_FLAVOR_RELEASE="CAMERA_KIT_FLAVOR_RELEASE",e.UNRECOGNIZED="UNRECOGNIZED"}(is||(is={})),function(e){e.CAMERA_KIT_CONNECTIVITY_TYPE_UNSET="CAMERA_KIT_CONNECTIVITY_TYPE_UNSET",e.CAMERA_KIT_CONNECTIVITY_TYPE_WIFI="CAMERA_KIT_CONNECTIVITY_TYPE_WIFI",e.CAMERA_KIT_CONNECTIVITY_TYPE_MOBILE="CAMERA_KIT_CONNECTIVITY_TYPE_MOBILE",e.CAMERA_KIT_CONNECTIVITY_TYPE_UNREACHABLE="CAMERA_KIT_CONNECTIVITY_TYPE_UNREACHABLE",e.CAMERA_KIT_CONNECTIVITY_TYPE_BLUETOOTH="CAMERA_KIT_CONNECTIVITY_TYPE_BLUETOOTH",e.UNRECOGNIZED="UNRECOGNIZED"}(os||(os={}));var as=function(){if("undefined"!==typeof as)return as;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"}();Me.util.Long!==we&&(Me.util.Long=we,(0,Me.configure)());var ss=function(e){var t={};return void 0!==e.metrics&&(t.metrics=e.metrics?ns(e.metrics):void 0),t};Me.util.Long!==we&&(Me.util.Long=we,(0,Me.configure)());var us=function(){function e(t){D(this,e),this.metricsHandler=t}return b(e,[{key:"count",value:function(e,t,n){return this.record(e,{$case:"count",count:t},n)}},{key:"timer",value:function(e,t,n){return this.record(e,{$case:"latencyMillis",latencyMillis:t},n)}},{key:"histogram",value:function(e,t,n){return this.record(e,{$case:"histogram",histogram:t},n)}},{key:"record",value:function(e,t,n){var r=n?".".concat(Array.from(n.entries()).map((function(e){return e.join(".")})).join(".")):"";return this.metricsHandler({name:"".concat(e).concat(r),timestamp:new Date,metric:t})}}]),e}(),cs=E("operationalMetricsReporter",[Qa.token],(function(e){var t=new w(e).map(Pa((function(e){var t={metrics:e};return new Request("https://api-kit.snapchat.com/com.snap.camerakit.v3.Metrics/metrics/operational_metrics",{method:"POST",body:JSON.stringify(ss(t)),credentials:"include",keepalive:!0})}))).map(La({batchReduce:function(e,t){var n=null!==e&&void 0!==e?e:{metrics:[]};return n.metrics.push(t),n},isBatchComplete:function(e){return e.metrics.length>=100},maxBatchAge:5e3})).handler;return new us(t)})),_s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},ls=["gflops"],Es=E("reportBenchmarks",[pa.token,cs.token,p],(function(e,t,n){return _s(void 0,void 0,void 0,h().mark((function r(){var o,a,s,u,c,_,l;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==n.lensPerformance){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,n.lensPerformance;case 4:o=r.sent,a={name:"benchmarkComplete",performanceCluster:o.cluster,webglRendererInfo:o.webglRendererInfo},s=new Map([["performance_cluster",o.cluster.toString()]]),u=i(o.benchmarks),r.prev=8,u.s();case 10:if((c=u.n()).done){r.next=19;break}if(_=c.value,ls.includes(_.name)){r.next=14;break}return r.abrupt("continue",17);case 14:l=Object.assign(Object.assign({},a),{benchmarkName:_.name,benchmarkValue:_.value}),e.dispatchEvent(new Ut("benchmarkComplete",l)),t.histogram("benchmark.".concat(_.name),_.value,s);case 17:r.next=10;break;case 19:r.next=24;break;case 21:r.prev=21,r.t0=r.catch(8),u.e(r.t0);case 24:return r.prev=24,u.f(),r.finish(24);case 27:case"end":return r.stop()}}),r,null,[[8,21,24,27]])})))})),ds=E("reportException",[sa.token,Bt.token,pa.token,cs.token],(function(e,t,n,r){e.events.addEventListener("error",(function(e){var i,o,a,s=e.detail;n.dispatchEvent(new Ut("exception",{name:"exception",lensId:null!==(o=null===(i=t.activeLens)||void 0===i?void 0:i.id)&&void 0!==o?o:"original",type:"lens",reason:null!==(a=(s.cause?_e(s,s.cause):s).stack)&&void 0!==a?a:""})),r.count("handled_exception",1,new Map([["type","lens"]]))}))})),fs=function(e){return function(t,n,r){var i=e,o=new Dt,a=function(e){i=r(i,e),o.dispatchEvent(new Ut("state",i))},s=!1;return o.addEventListener=new Proxy(o.addEventListener,{apply:function(e,r,i){if(s)throw new Error("Cannot addEventListener. The TypedEventTarget returned by scan only supports a single listener, and one has already been added.");s=!0,n.forEach((function(e){return t.addEventListener(e,a)})),e.apply(r,i)}}),o.removeEventListener=new Proxy(o.removeEventListener,{apply:function(e,r,i){n.forEach((function(e){return t.removeEventListener(e,a)})),e.apply(r,i)}}),o}},Is=["lens_content","asset"],ps=function(e){var t=e.requestType;return"string"===typeof t&&Is.includes(t)},Ss=E("reportLensAndAssetDownload",[pa.token,cs.token],(function(e,t){fs({name:"inProgress",inProgress:new Map})(kt,["started","completed","errored"],(function(e,t){var n,r=e.inProgress,i=t.detail,o=i.dimensions,a=i.requestId,s=i.timeMs;if(!ps(o))return e;switch(t.type){case"started":return r.set(a,{startTimeMs:s}),{name:"inProgress",inProgress:r};case"completed":var u=r.get(a);if(!u)return e;r.delete(a);var c=(s-u.startTimeMs)/1e3,_=t.detail.sizeByte;switch(o.requestType){case"lens_content":return{name:"completed",inProgress:r,event:new Ut("lensDownload",{name:"lensDownload",lensId:o.lensId,automaticDownload:!1,sizeByte:_,downloadTimeSec:c})};case"asset":return{name:"completed",inProgress:r,event:new Ut("assetDownload",{name:"assetDownload",assetId:o.assetId,automaticDownload:!1,sizeByte:_,downloadTimeSec:c})};default:Re()}case"errored":if(!r.get(a))return e;r.delete(a);var l=t.detail.error;return{name:"completed",inProgress:r,event:new Ut("exception",{name:"exception",lensId:o.lensId,type:"lens_content"===o.requestType?"lens":"asset",reason:null!==(n=(l.cause?_e(l,l.cause):l).stack)&&void 0!==n?n:""})};default:Re()}})).addEventListener("state",(function(n){var r=n.detail;"completed"===r.name&&(e.dispatchEvent(r.event),"exception"===r.event.detail.name&&t.count("handled_exception",1,new Map([["type",r.event.detail.type]])))}))})),Ts=function(e){switch(e.requestType){case"lens_content":return"lens_content";case"asset":return e.assetType;case $r:return $r;default:Re()}},hs=E("reportHttpMetrics",[cs.token],(function(e){fs({name:"inProgress",inProgress:new Map})(kt,["started","completed","errored"],(function(e,t){var n,r,i,o=e.inProgress,a=t.detail,s=a.dimensions,u=a.requestId,c=a.timeMs;if(!ps(i=s)&&i.requestType!==$r)return e;switch(t.type){case"started":return o.set(u,{startTimeMs:c}),{name:"inProgress",inProgress:o};case"completed":case"errored":var _=o.get(u);if(!_)return e;o.delete(u);var l=c-_.startTimeMs,E=function(e){switch(e.type){case"started":case"errored":return 0;case"completed":return e.detail.sizeByte/1024;default:Re()}}(t),d=function(e){switch(e.type){case"started":case"errored":return"0";case"completed":return e.detail.status.toString();default:Re()}}(t),f=new Map([["content_type",Ts(s)],["network_type",null!==(r=null===(n=navigator.connection)||void 0===n?void 0:n.type)&&void 0!==r?r:"unknown"],["status",d]]);return{name:"completed",inProgress:e.inProgress,dimensions:f,downloadSizeKb:E,downloadTimeMs:l};default:Re()}})).addEventListener("state",(function(t){var n=t.detail;if("completed"===n.name){var r=n.dimensions,i=n.downloadTimeMs,o=n.downloadSizeKb;e.count("download_finished",1,r),e.timer("download_latency",i,r),e.histogram("download_size_kb",o,r)}}))})),Ns=E("reportLensOrAssetValidationFailed",[Ht.token,pa.token],(function(e,t){e.addEventListener("assetValidationFailure",(function(e){var n={name:"assetValidationFailed",assetId:e.detail.assetId};t.dispatchEvent(new Ut("assetValidationFailed",n))})),e.addEventListener("lensContentValidationFailure",(function(e){var n={name:"lensContentValidationFailed",lensId:e.detail.id};t.dispatchEvent(new Ut("lensContentValidationFailed",n))}))})),vs=function(e,t,n){return new Promise((function(r,i){var o=(null===n||void 0===n?void 0:n.predicate)?n.predicate:function(){return!0},a=function n(i){var a=i.detail;o(a)&&(r(a),e.removeEventListener(t,n))};e.addEventListener(t,a),(null===n||void 0===n?void 0:n.signal)&&n.signal.addEventListener("abort",(function(){i(new Error("Promise aborted while waiting for next ".concat(t," event."))),e.removeEventListener(t,a)}),{once:!0})}))},As=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Os=E("reportLensView",[sa.token,Ht.token,pa.token,cs.token,p],(function(e,t,n,i,o){var a=new AbortController,s=function(t){var r=t.applyDelaySec,a=t.lensId,s=t.viewTimeSec;return As(void 0,void 0,void 0,h().mark((function t(){var u,c,_,l,E,d,f,I,p;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s<.1)){t.next=2;break}return t.abrupt("return");case 2:return c=e.metrics.frames,_=c.avgFps,l=c.lensFrameProcessingTimeMsAvg,E=c.lensFrameProcessingTimeMsStd,t.next=5,o.lensPerformance;case 5:if(t.t1=u=t.sent,t.t0=null!==t.t1,!t.t0){t.next=9;break}t.t0=void 0!==u;case 9:if(!t.t0){t.next=13;break}t.t2=u,t.next=14;break;case 13:t.t2={cluster:-1,webglRendererInfo:"unknown"};case 14:d=t.t2,f=d.cluster,I=d.webglRendererInfo,p={name:"lensView",applyDelaySec:r,avgFps:_,lensId:a,lensFrameProcessingTimeMsAvg:l,lensFrameProcessingTimeMsStd:E,recordingTimeSec:0,viewTimeSec:s,isLensFirstWithinDay:!1,isLensFirstWithinMonth:!1,performanceCluster:f,webglRendererInfo:I},n.dispatchEvent(new Ut("lensView",p)),r>0&&i.timer("lens.core_loading_latency",1e3*r),i.timer("lens.processing_time",l,new Map([["performance_cluster",f.toString()]]));case 21:case"end":return t.stop()}}),t)})))},u=function e(n,i,o,a){return As(void 0,void 0,void 0,h().mark((function u(){var c,_,l,E,d,f,I;return h().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return c=Ot(),_=i.then((function(e){return(e-c)/1e3})),l=!1,Promise.all([_,o]).then((function(i){var o=r(i,2),u=o[0],c=o[1];return As(void 0,void 0,void 0,h().mark((function r(){var i,o;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=function(){l=!0;var e=(Ot()-c)/1e3;s({lensId:n,applyDelaySec:u,viewTimeSec:e})},o=function(){var t=Promise.resolve(Ot());e(n,t,t,a)},t.addEventListener("sessionSuspended",i,{once:!0}),t.addEventListener("sessionResumed",o,{once:!0}),r.next=6,a.catch((function(){}));case 6:t.removeEventListener("sessionSuspended",i),t.removeEventListener("sessionResumed",o);case 8:case"end":return r.stop()}}),r)})))})),u.next=6,Promise.all([_,Promise.all([o,a]).then((function(e){var t=r(e,2),n=t[0];return(t[1]-n)/1e3}))]).catch((function(){return[0,0]}));case 6:if(E=u.sent,d=r(E,2),f=d[0],I=d[1],!l){u.next=12;break}return u.abrupt("return");case 12:s({lensId:n,applyDelaySec:f,viewTimeSec:I});case 13:case"end":return u.stop()}}),u)})))};t.addEventListener("lensInitiated",(function(e){var n=e.detail;return As(void 0,void 0,void 0,h().mark((function e(){var r,i,o,s,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.abort(),a=new AbortController,r=function(e){return e.id===n.id},i={signal:a.signal,predicate:r},o=vs(t,"lensLoaded",i).then(Ot),s=vs(t,"lensTurnedOn",i).then(Ot),c=vs(t,"lensTurnedOff",i).then(Ot),u(n.id,o,s,c);case 8:case"end":return e.stop()}}),e)})))}))})),Rs=E("reportLensWait",[Ht.token,pa.token,cs.token],(function(e,t,n){fs({name:"NotStarted"})(e,["lensApplyStart","firstFrameProcessed"],(function(e,t){var n=t.type,i=t.detail,o=function(e){return{name:"Complete",lensId:e.lensId,waitingDurationMs:Ot()-e.waitingStartTimeMs}},a=function(){return{name:"Waiting",lensId:i.id,waitingStartTimeMs:Ot()}};switch(e.name){case"NotStarted":case"Complete":switch(n){case"lensApplyStart":return a();case"firstFrameProcessed":return e;default:Re()}case"Waiting":switch(n){case"lensApplyStart":return r(o(e)),a();case"firstFrameProcessed":return o(e);default:Re()}default:Re()}})).addEventListener("state",(function(e){var t=e.detail;return r(t)}));var r=function(e){if("Complete"===e.name){var r=e.waitingDurationMs/1e3;if(!(r<.1)){var i={name:"lensWait",lensId:e.lensId,viewTimeSec:r};t.dispatchEvent(new Ut("lensWait",i)),n.timer("lens.apply_lens_latency",e.waitingDurationMs)}}}})),Cs=new Nt({}).provides(es).provides(hs).provides(Es).provides(Ss),ys=new Nt({}).provides(Os).provides(Rs).provides(ds).provides(Ns),gs=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Ps=E("reportUserSession",[Ht.token,pa.token],(function(e,t){e.addEventListener("sessionCreated",(function(){return gs(void 0,void 0,void 0,h().mark((function e(){var n,r,i,o,a,s,u,c,_,l,E,d,f,I;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="userSessionInfo",o=new Zr({databaseName:"SessionHistory"}),a=new Date((new Date).toLocaleDateString("en-US",{timeZone:"America/Los_Angeles"})),s=a.getMonth(),u=a.getDate(),c=a.getFullYear(),e.next=8,o.retrieve(i);case 8:if(_=e.sent,l=null===_||void 0===_?void 0:_.mostRecentSessionStartDate,E=new Map([[1,Fa.ONE_SESSION],[2,Fa.TWO_SESSION],[3,Fa.THREE_SESSION],[4,Fa.FOUR_SESSION],[5,Fa.FIVE_SESSION],[6,Fa.SIX_SESSION],[7,Fa.SEVEN_SESSION],[8,Fa.EIGHT_SESSION],[9,Fa.NINE_SESSION]]),d=null!==(n=null===_||void 0===_?void 0:_.dailySessionBucket)&&void 0!==n?n:Fa.NO_SESSION_BUCKET,f=!1,!l||l.getMonth()!==s||l.getDate()!==u||l.getFullYear()!==c){e.next=21;break}return d=null!==(r=E.get(d+1))&&void 0!==r?r:Fa.TEN_OR_MORE_SESSION,e.next=17,o.remove(i);case 17:return e.next=19,o.store(i,{mostRecentSessionStartDate:a,dailySessionBucket:d});case 19:e.next=26;break;case 21:return f=!l||l.getMonth()!==s,e.next=24,o.remove(i);case 24:return e.next=26,o.store(i,{mostRecentSessionStartDate:a,dailySessionBucket:d=Fa.ONE_SESSION});case 26:I={name:"session",dailySessionBucket:d,isFirstWithinMonth:f,month:s+1,day:u,year:c},t.dispatchEvent(new Ut("session",I));case 28:case"end":return e.stop()}}),e)})))}),{once:!0})})),ms=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Ls=b((function e(t,n,r,i,o){var a=this,s=t.lenses,u=t.metrics;D(this,e),this.container=n,this.lensCore=r,this.uriHandlers=i,this.lensContext=o,this.createSession=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.liveRenderTarget,n=e.renderWhileTabHidden;return ms(a,void 0,void 0,h().mark((function e(){var r,i,o,a=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Dt,i=function(e){r.dispatchEvent(new Ut("error",e))},e.next=4,new Promise((function(e,r){a.lensCore.initialize({canvas:t,shouldUseWorker:!n&&a.container.get(p).shouldUseWorker,exceptionHandler:i,onSuccess:e,onFailure:r})}));case 4:return e.next=6,new Promise((function(e,t){a.lensCore.setRenderLoopMode({mode:n?a.lensCore.RenderLoopMode.SetTimeout:a.lensCore.RenderLoopMode.RequestAnimationFrame,onSuccess:e,onFailure:t})}));case 6:return fa(this.lensCore,this.uriHandlers,this.lensContext),o=this.container.copy().provides(E("eventTarget",(function(){return r}))).provides(Ht).run(Ps).provides(Ii).provides(sa).run(ys),e.abrupt("return",o.get(sa.token));case 9:case"end":return e.stop()}}),e,this)})))},this.lenses=s,this.metrics=u})),Us=E("CameraKit",[vt,ue.token,da.token,Bt.token,pa.token],(function(e,t,n,r,i){return new Ls({lenses:{repository:e.get(It.token)},metrics:i},e,t,n,r)})),Ds=ce("PlatformNotSupported");function Ms(){var e=document.createElement("canvas");if(!e.getContext("webgl2")&&!e.getContext("webgl"))throw Ds(new Error("Cannot bootstrap the SDK because the browser does not support WebGL canvas rendering context."))}var bs=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},ws=ce("ConfigurationError");at({userAgent:_.userAgent,locale:s}).finish();console.info("SDK: ".concat(e.l," (").concat(_.lensCoreVersion,")")),function(e,t){bs(this,void 0,void 0,h().mark((function n(){var r,i,o,a,s,u,c,_;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=performance.now(),Ce(R(e.apiToken),ws(new Error("Unsafe apiToken"))),Ms(),e.logger&&H(e.logger),i=S(e),o=At.provides(i).provides(ne).provides(ui).provides(Oe).provides(da),a=t?t(o):o,n.next=9,a.provides(ue).get(ue.token);case 9:return s=n.sent,u=a.provides(E(ue.token,(function(){return s}))).provides(pa).provides(Ne).provides(ei).provides(Bt).provides(It).provides(Qa).provides(cs).provides(ai).provides(_i).provides(Us).run(Cs),c=u.get(Us.token),_=performance.now()-r,u.get(cs.token).timer("bootstrap_time",_),n.abrupt("return",c);case 16:case"end":return n.stop()}}),n)})))}({apiToken:"asd"})}()})();
//# sourceMappingURL=main.97a16d67.js.map